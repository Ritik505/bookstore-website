(function(n){var k=window.AmazonUIPageJS||window.P,t=k._namespace||k.attributeErrors,p=t?t("PInfoBooksDetailPageAsset",""):k;p.guardFatal?p.guardFatal(n)(p,window):p.execute(function(){n(p,window)})})(function(n,k,t){function p(e){var a="au br ca de es fr in it jp mx uk us".split(" "),m=e.split(/[.-]+/),h=null!==e.match(/^(www|smile).amazon.(ca|com|com.br|com.mx|co.uk|de|fr|es|it|in|co.jp|com.au)$/);m=m.filter(function(b){return-1!==a.indexOf(b)});m=0<m.length?m[0]:"us";a:{switch(m){case "us":case "br":case "ca":case "mx":var b=
"iad";break a;case "de":case "fr":case "uk":case "es":case "it":case "in":b="dub";break a;case "jp":case "au":b="pdx";break a}b=void 0}return{obfuscatedMarketplace:{au:"A39IBJ37TRP1C6",br:"A2Q3Y263D00KWC",ca:"A2EUQ1WTGCTBG2",de:"A1PA6795UKMFR9",es:"A1RKKUPIHCS9HS",fr:"A13V1IB3VIYZZH","in":"A21TJRUUN4KGV",it:"APJ6JRA9NG5V4",jp:"A1VC38T7YXB528",mx:"A1AM78C64UM0Y8",uk:"A1F83G8C2ARO7P",us:"ATVPDKIKX0DER"}[m],endpoint:h?e.replace(/^(www|smile)/,"data"):"data-"+m+"-pre-prod."+b+".corp.amazon.com"}}n.when("A",
"jQuery","atf").execute(function(e,a,m){var h,b=0;n.when("DPClientLogger").execute(function(){"undefined"!=typeof k.DPClientLogger&&(h=new k.DPClientLogger.ImpressionLogger("dpbxapps","bxapps-atfMarker",!0,!0))});a("#bookDetails_feature_div .hero-more").click(function(d){d.preventDefault();d=a(this).attr("data-popupID");var g=a("#"+d),c=a(this).offset().left+a(this).width()/2,f=a("#popupContent").offset().left;c=(c-f)/a("#popupContent").width()*100;a("#"+d+" .pointer").css({left:c+"%"});a("#popupContent .details-popup").filter(":visible").length?
a("#popupContent .details-popup").filter(":visible").attr("id")!==d?(a("#popupContent .details-popup").filter(":visible").slideToggle(300),g.slideToggle(300)):g.slideUp(300):(g.slideDown(300),a(this).hasClass("hero-more")&&a("html,body").animate({scrollTop:a("#bookDetails_feature_div").offset().top-50},600));h&&!b&&(h.logImpression("ma-books-br-details"),b=1)});a("#bookDetails_feature_div .moreNarratorLink").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")||
location.hostname==this.hostname){var b=a(this.hash);b=b.length?b:a("[name\x3d"+this.hash.slice(1)+"]");b.length&&a("html,body").animate({scrollTop:b.offset().top},1E3);return!1}});a("#bookDetails_feature_div .details-popup button").click(function(b){a(this).parent().slideUp(300)})});var q=k.location.hostname;q=p(q);var w=q.obfuscatedMarketplace,x=q.endpoint;n.when("A","jQuery","atf").execute(function(e,a,m){function h(){var b=parseInt(a("#byline").width()),d=0;a("#byline .author").each(function(){a(this).is(".notFaded")&&
(d+=a(this).outerWidth())});d+=a("#byline .more").outerWidth();if(d>b){var g=a("#byline .author.notFaded").length;a(a("#byline .author.notFaded").get().reverse()).each(function(c){d>b&&c<g-1&&(c=a(this).width(),a(this).removeClass("notFaded"),a(this).fadeOut(10,function(){a(this).hide()}),d-=c,a("#byline .moreCount").html(a("#byline .author").length-a("#byline .author.notFaded").length),a("#byline .more").addClass("notFaded").fadeIn(10))})}else if(d<b&&a("#byline .author.notFaded").length<a("#byline .author").length){var c=
b-d;a("#byline .author").each(function(){if(!a(this).hasClass("notFaded")){var b=a(this).outerWidth();b<=c?(c-=b,a(this).addClass("notFaded").fadeIn(10),b=a("#byline .author").length-a("#byline .author.notFaded").length,0===b?a("#byline .more").removeClass("notFaded").fadeOut(10):(a("#byline .moreCount").html(b),a("#byline .more").addClass("notFaded").fadeIn(10))):c=0}})}}a("#byline .showMoreLink").click(function(){a("#byline .author").each(function(){a(this).hasClass("notFaded")||a(this).addClass("notFaded").fadeIn(0);
a("#byline .more").removeClass("notFaded").fadeOut(0)});return!1});a("#byline .contributorNameID").mouseenter(function(){var b=a(this).attr("data-asin"),d="isAjaxComplete_"+b,g="isAjaxInProgress_"+b,c=e.state("popoverImage-state");if("1"!==c[d]&&"1"!==c[g]){var f=a("meta[id\x3dbyline-csrf-token]").attr("content");a.ajax({url:"https://"+x+"/api/marketplaces/"+w+"/contributors/authors/"+b,type:"GET",headers:{"Accept-Language":"en-US",Accept:'application/vnd.com.amazon.api+json; type\x3d"contributor.author/v1"; expand\x3d"profile(contributor.profile/v1)"',
"x-api-csrf-token":f},xhrFields:{withCredentials:!0},success:function(f){f=f.entity.profile.entity.image;var r=document.createElement("img");r.setAttribute("src","https://images-na.ssl-images-amazon.com/images"+(f.s3Bucket!==t?"/S/"+f.s3Bucket+"/":"/I/")+f.physicalId+"._SY75_."+f.extension);r.setAttribute("id",b);a("#contributorImageContainer"+b).get(0).appendChild(r);c[d]="1";e.state("popoverImage-state",c)},error:function(){c[g]="0";e.state("popoverImage-state",c)}});c[g]="1";e.state("popoverImage-state",
c)}});(function(b){var d=parseInt(b.width()),g=parseInt(b.find(".more").outerWidth()),c=0;a("#byline .author").each(function(){a(this).is(".notFaded")&&(c+=a(this).outerWidth())});a("#byline .more").attr("data-width",g);var f=d-g;if(f>c)b.find(".author").each(function(){var b=a(this).index();3<=parseInt(b)?(b=a(this).outerWidth(),a(this).attr("data-width",b),b<f?(f-=b,a(this).addClass("notFaded"),a(this).fadeIn("slow")):(f=0,a(this).fadeOut("slow"))):(b=a(this).outerWidth(),a(this).attr("data-width",
b),f-=b)});else{var e=a("#byline .author.notFaded").length;a(a("#byline .author.notFaded").get().reverse()).each(function(b){f<c&&b<e-1&&(b=a(this).outerWidth(),c-=b,a(this).fadeOut("slow").removeClass("notFaded"))})}d=b.find(".author").length-b.find(".author.notFaded").length;0<d&&(b.find(".moreCount").html(d),b.find(".more").fadeIn("slow"),b.find(".more").addClass("notFaded"))})(e.$("#byline"));a(k).resize(function(){h()})});q=k.location.hostname;q=p(q);w=q.obfuscatedMarketplace;x=q.endpoint;n.when("A",
"jQuery","atf").execute(function(e,a,m){function h(){var b=parseInt(a("#bylineInfo").width()),d=0;a("#bylineInfo .author").each(function(){a(this).is(".notFaded")&&(d+=a(this).outerWidth())});d+=a("#bylineInfo .more").outerWidth();if(d>b){var g=a("#bylineInfo .author.notFaded").length;a(a("#bylineInfo .author.notFaded").get().reverse()).each(function(c){d>b&&c<g-1&&(c=a(this).width(),a(this).removeClass("notFaded"),a(this).fadeOut(10,function(){a(this).hide()}),d-=c,a("#bylineInfo .moreCount").html(a("#bylineInfo .author").length-
a("#bylineInfo .author.notFaded").length),a("#bylineInfo .more").addClass("notFaded").fadeIn(10))})}else if(d<b&&a("#bylineInfo .author.notFaded").length<a("#bylineInfo .author").length){var c=b-d;a("#bylineInfo .author").each(function(){if(!a(this).hasClass("notFaded")){var b=a(this).outerWidth();b<=c?(c-=b,a(this).addClass("notFaded").fadeIn(10),b=a("#bylineInfo .author").length-a("#bylineInfo .author.notFaded").length,0===b?a("#bylineInfo .more").removeClass("notFaded").fadeOut(10):(a("#bylineInfo .moreCount").html(b),
a("#bylineInfo .more").addClass("notFaded").fadeIn(10))):c=0}})}}a("#bylineInfo .showMoreLink").click(function(){a("#bylineInfo .author").each(function(){a(this).hasClass("notFaded")||a(this).addClass("notFaded").fadeIn(0);a("#bylineInfo .more").removeClass("notFaded").fadeOut(0)});return!1});a("#bylineInfo .contributorNameID").mouseenter(function(){var b=a(this).attr("data-asin"),d="isAjaxComplete_"+b,g="isAjaxInProgress_"+b,c=e.state("popoverImage-state");if("1"!==c[d]&&"1"!==c[g]){var f=a("meta[id\x3dbyline-csrf-token]").attr("content");
a.ajax({url:"https://"+x+"/api/marketplaces/"+w+"/contributors/authors/"+b,type:"GET",headers:{"Accept-Language":"en-US",Accept:'application/vnd.com.amazon.api+json; type\x3d"contributor.author/v1"; expand\x3d"profile(contributor.profile/v1)"',"x-api-csrf-token":f},xhrFields:{withCredentials:!0},success:function(f){f=f.entity.profile.entity.image;var r=document.createElement("img");r.setAttribute("src","https://images-na.ssl-images-amazon.com/images"+(f.s3Bucket!==t?"/S/"+f.s3Bucket+"/":"/I/")+f.physicalId+
"._SY75_."+f.extension);r.setAttribute("id",b);a("#contributorImageContainer"+b).get(0).appendChild(r);c[d]="1";e.state("popoverImage-state",c)},error:function(){c[g]="0";e.state("popoverImage-state",c)}});c[g]="1";e.state("popoverImage-state",c)}});(function(b){var d=parseInt(b.width()),g=parseInt(b.find(".more").outerWidth()),c=0;a("#bylineInfo .author").each(function(){a(this).is(".notFaded")&&(c+=a(this).outerWidth())});a("#bylineInfo .more").attr("data-width",g);var f=d-g;if(f>c)b.find(".author").each(function(){var b=
a(this).index();3<=parseInt(b)?(b=a(this).outerWidth(),a(this).attr("data-width",b),b<f?(f-=b,a(this).addClass("notFaded"),a(this).fadeIn("slow")):(f=0,a(this).fadeOut("slow"))):(b=a(this).outerWidth(),a(this).attr("data-width",b),f-=b)});else{var e=a("#bylineInfo .author.notFaded").length;a(a("#bylineInfo .author.notFaded").get().reverse()).each(function(b){f<c&&b<e-1&&(b=a(this).outerWidth(),c-=b,a(this).fadeOut("slow").removeClass("notFaded"))})}d=b.find(".author").length-b.find(".author.notFaded").length;
0<d&&(b.find(".moreCount").html(d),b.find(".more").fadeIn("slow"),b.find(".more").addClass("notFaded"))})(e.$("#bylineInfo"));a(k).resize(function(){h()})});n.when("A","jQuery","DynamicIframe","ProductDescriptionData","cf").execute(function(e,a,m,h){function b(){0<u.length&&0<v.length&&(t="collapsed",u.removeClass("a-hidden"),u.click(function(){"collapsed"===t?(q?v.animate({height:"show"}):(v.removeClass("extraReviews"),d(r,k.length),q=1),u.removeClass("collapsed").addClass("expanded"),t="expanded"):
(v.animate({height:"hide"}),u.removeClass("expanded").addClass("collapsed"),t="collapsed")}))}function d(b,c){for(;b<c;b++){var d={};d.iframeId="er_iframe_"+b;d.iframeWrapperId="er_iframe_wrapper_"+b;d.iframeContainerId="er_container_"+b;d.iframeExpanderId="er_expander_"+b;d.iframeColumnId="er_column_"+b;var l=d,e=k[b],h="\x3ch3 class\x3d'erSource'\x3e"+e.source+"\x3c/h3\x3e\x3cdiv class\x3d'erContent'\x3e"+e.content+"\x3c/div\x3e";e.footnote&&(h=h+"\x3cem class\x3d'erFootnote'\x3e"+e.footnote+"\x3c/em\x3e");
l.encodedIframeContent=h;d.initialResizeCallback=g;l=d;e={};e.id=a("#"+l.iframeId);e.column=a("#"+l.iframeColumnId);e.wrapper=a("#"+l.iframeWrapperId);e.container=a("#"+l.iframeContainerId);e.expander=a("#"+l.iframeExpanderId);e.iframeObj=new m(l);e.state="full";l=e;p[d.iframeId]=l;l.column.removeClass("extraReviews");l&&"undefined"!=typeof l.iframeObj&&"function"==typeof l.iframeObj.createIframe&&l.iframeObj.createIframe();f(l);r++}}function g(a){(a=p[a])&&170<a.wrapper.outerHeight()&&(a.container.css("height",
140),a.expander.removeClass("a-hidden expanded").addClass("collapsed"),a.state="partial")}function c(a){(a=p[a])&&"full"===a.state&&a.container.css("height",a.wrapper.outerHeight())}function f(b){if(b&&"undefined"!=typeof b.iframeObj&&"function"==typeof b.iframeObj.resizeIframe)e.on("resize",function(){b.iframeObj.resizeIframe(c)});b&&b.expander&&b.expander.click(function(){"partial"===b.state?(b.container.animate({height:b.wrapper.outerHeight()}),b.expander.removeClass("collapsed").addClass("expanded"),
b.state="full"):(b.container.animate({height:140}),b.expander.removeClass("expanded").addClass("collapsed"),a("html, body").animate({scrollTop:b.container.offset().top-20}),b.state="partial")})}var k=h.encodedReviews;h=parseInt(h.reviewsPerRow);var r=0,q=0,n=a("#productDescription-multiColumn"),p={},t;if(0<n.length&&k&&0<k.length&&h){var u=n.find(".reviewsExpander");var v=n.find(".seeMoreProductReviews");r=0;d(0,Math.min(h,k.length));b()}})});