////////////////////////////////////////////
// BEGIN ASSET BooksDesignSystemWebBuzzAssets@BaseAssets-1.0.4045.0
/////////////////////////
// BEGIN FILE bds-hns-integration.js
/////////////////////////
/*


Full source (including license, if applicable) included below.
*/
window.BDS = window.BDS || {};
window.BDS.enableHNSIntegration = true;
/////////////////////////
// END FILE bds-hns-integration.js
/////////////////////////
/////////////////////////
// BEGIN FILE bds-qv-sf-experiment.js
/////////////////////////
/*


Full source (including license, if applicable) included below.
*/
window.BDS = window.BDS || {};
window.BDS.isBDSStarRatingEnabledOnStorefront = false;
/////////////////////////
// END FILE bds-qv-sf-experiment.js
/////////////////////////
/////////////////////////
// BEGIN FILE bds-qv-typ-experiment.js
/////////////////////////
/*


Full source (including license, if applicable) included below.
*/
window.BDS = window.BDS || {};
window.BDS.isBDSStarRatingEnabledOnTYP = false;
/////////////////////////
// END FILE bds-qv-typ-experiment.js
/////////////////////////
/////////////////////////
// BEGIN FILE bds-qv-cc-experiment.js
/////////////////////////
/*


Full source (including license, if applicable) included below.
*/
window.BDS = window.BDS || {};
window.BDS.isBDSStarRatingEnabledOnYourBooks = false;
/////////////////////////
// END FILE bds-qv-cc-experiment.js
/////////////////////////
/////////////////////////
// BEGIN FILE bds-base-assets.js
/////////////////////////
/*


Full source (including license, if applicable) included below.
*/
!function(e){function t(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}function i(e,t,i,a,o,r,s){try{var n=e[r](s),l=n.value}catch(e){return void i(e)}n.done?t(l):Promise.resolve(l).then(a,o)}function a(e){return function(){var t=this,a=arguments;return new Promise((function(o,r){var s=e.apply(t,a);function n(e){i(s,o,r,n,l,"next",e)}function l(e){i(s,o,r,n,l,"throw",e)}n(void 0)}))}}function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}
/**
     * @license
     * Copyright 2019 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}"function"==typeof SuppressedError&&SuppressedError;var n=window,l=n.ShadowRoot&&(void 0===n.ShadyCSS||n.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,d=Symbol(),c=new WeakMap;class u{constructor(e,t,i){if(this._$cssResult$=!0,i!==d)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){var e=this.o,t=this.t;if(l&&void 0===e){var i=void 0!==t&&1===t.length;i&&(e=c.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&c.set(t,e))}return e}toString(){return this.cssText}}var b,g,h=e=>new u("string"==typeof e?e:e+"",void 0,d),v=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];var o=1===e.length?e[0]:i.reduce(((t,i,a)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[a+1]),e[0]);return new u(o,e,d)},p=l?e=>e:e=>e instanceof CSSStyleSheet?(e=>{var t="";for(var i of e.cssRules)t+=i.cssText;return h(t)})(e):e
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */,_=window,m=_.trustedTypes,f=m?m.emptyScript:"",y=_.reactiveElementPolyfillSupport,k={toAttribute(e,t){switch(t){case Boolean:e=e?f:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){var i=e;switch(t){case Boolean:i=null!==e;break;case Number:i=null===e?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch(e){i=null}}return i}},x=(e,t)=>t!==e&&(t==t||e==e),w={attribute:!0,type:String,converter:k,reflect:!1,hasChanged:x},C="finalized";class $ extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),(null!==(t=this.h)&&void 0!==t?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();var e=[];return this.elementProperties.forEach(((t,i)=>{var a=this._$Ep(i,t);void 0!==a&&(this._$Ev.set(a,i),e.push(a))})),e}static createProperty(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){var i="symbol"==typeof e?Symbol():"__"+e,a=this.getPropertyDescriptor(e,i,t);void 0!==a&&Object.defineProperty(this.prototype,e,a)}}static getPropertyDescriptor(e,t,i){return{get(){return this[t]},set(a){var o=this[e];this[t]=a,this.requestUpdate(e,o,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||w}static finalize(){if(this.hasOwnProperty(C))return!1;this[C]=!0;var e=Object.getPrototypeOf(this);if(e.finalize(),void 0!==e.h&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var t=this.properties,i=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(var a of i)this.createProperty(a,t[a])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){var t=[];if(Array.isArray(e)){var i=new Set(e.flat(1/0).reverse());for(var a of i)t.unshift(p(a))}else void 0!==e&&t.push(p(e));return t}static _$Ep(e,t){var i=t.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof e?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(e=this.constructor.h)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,i;(null!==(t=this._$ES)&&void 0!==t?t:this._$ES=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(i=e.hostConnected)||void 0===i||i.call(e))}removeController(e){var t;null===(t=this._$ES)||void 0===t||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e,t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return((e,t)=>{l?e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):t.forEach((t=>{var i=document.createElement("style"),a=n.litNonce;void 0!==a&&i.setAttribute("nonce",a),i.textContent=t.cssText,e.appendChild(i)}))})(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$EO(e,t){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w,o=this.constructor._$Ep(e,a);if(void 0!==o&&!0===a.reflect){var r=(void 0!==(null===(i=a.converter)||void 0===i?void 0:i.toAttribute)?a.converter:k).toAttribute(t,a.type);this._$El=e,null==r?this.removeAttribute(o):this.setAttribute(o,r),this._$El=null}}_$AK(e,t){var i,a=this.constructor,o=a._$Ev.get(e);if(void 0!==o&&this._$El!==o){var r=a.getPropertyOptions(o),s="function"==typeof r.converter?{fromAttribute:r.converter}:void 0!==(null===(i=r.converter)||void 0===i?void 0:i.fromAttribute)?r.converter:k;this._$El=o,this[o]=s.fromAttribute(t,r.type),this._$El=null}}requestUpdate(e,t,i){var a=!0;void 0!==e&&(((i=i||this.constructor.getPropertyOptions(e)).hasChanged||x)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===i.reflect&&this._$El!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,i))):a=!1),!this.isUpdatePending&&a&&(this._$E_=this._$Ej())}_$Ej(){var e=this;return a((function*(){e.isUpdatePending=!0;try{yield e._$E_}catch(t){Promise.reject(t)}var t=e.scheduleUpdate();return null!=t&&(yield t),!e.isUpdatePending}))()}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((e,t)=>this[t]=e)),this._$Ei=void 0);var t=!1,i=this._$AL;try{(t=this.shouldUpdate(i))?(this.willUpdate(i),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(i)):this._$Ek()}catch(e){throw t=!1,this._$Ek(),e}t&&this._$AE(i)}}willUpdate(e){}_$AE(e){var t;null===(t=this._$ES)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){void 0!==this._$EC&&(this._$EC.forEach(((e,t)=>this._$EO(t,this[t],e))),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}}$[C]=!0,$.elementProperties=new Map,$.elementStyles=[],$.shadowRootOptions={mode:"open"},null==y||y({ReactiveElement:$}),(null!==(b=_.reactiveElementVersions)&&void 0!==b?b:_.reactiveElementVersions=[]).push("1.6.3");var P=window,T=P.trustedTypes,B=T?T.createPolicy("lit-html",{createHTML:e=>e}):void 0,S="$lit$",A="lit$".concat((Math.random()+"").slice(9),"$"),I="?"+A,z="<".concat(I,">"),L=document,R=()=>L.createComment(""),O=e=>null===e||"object"!=typeof e&&"function"!=typeof e,M=Array.isArray,E="[ \t\n\f\r]",F=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,D=/-->/g,U=/>/g,H=RegExp(">|".concat(E,"(?:([^\\s\"'>=/]+)(").concat(E,"*=").concat(E,"*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),N=/'/g,V=/"/g,j=/^(?:script|style|textarea|title)$/i,W=(e=>function(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return{_$litType$:e,strings:t,values:a}})(1),G=Symbol.for("lit-noChange"),Q=Symbol.for("lit-nothing"),q=new WeakMap,X=L.createTreeWalker(L,129,null,!1);function K(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==B?B.createHTML(t):t}var Y=(e,t)=>{for(var i,a=e.length-1,o=[],r=2===t?"<svg>":"",s=F,n=0;n<a;n++){for(var l=e[n],d=void 0,c=void 0,u=-1,b=0;b<l.length&&(s.lastIndex=b,null!==(c=s.exec(l)));)b=s.lastIndex,s===F?"!--"===c[1]?s=D:void 0!==c[1]?s=U:void 0!==c[2]?(j.test(c[2])&&(i=RegExp("</"+c[2],"g")),s=H):void 0!==c[3]&&(s=H):s===H?">"===c[0]?(s=null!=i?i:F,u=-1):void 0===c[1]?u=-2:(u=s.lastIndex-c[2].length,d=c[1],s=void 0===c[3]?H:'"'===c[3]?V:N):s===V||s===N?s=H:s===D||s===U?s=F:(s=H,i=void 0);var g=s===H&&e[n+1].startsWith("/>")?" ":"";r+=s===F?l+z:u>=0?(o.push(d),l.slice(0,u)+S+l.slice(u)+A+g):l+A+(-2===u?(o.push(void 0),n):g)}return[K(e,r+(e[a]||"<?>")+(2===t?"</svg>":"")),o]};class J{constructor(e,t){var i,{strings:a,_$litType$:o}=e;this.parts=[];var r=0,s=0,n=a.length-1,l=this.parts,[d,c]=Y(a,o);if(this.el=J.createElement(d,t),X.currentNode=this.el.content,2===o){var u=this.el.content,b=u.firstChild;b.remove(),u.append(...b.childNodes)}for(;null!==(i=X.nextNode())&&l.length<n;){if(1===i.nodeType){if(i.hasAttributes()){var g=[];for(var h of i.getAttributeNames())if(h.endsWith(S)||h.startsWith(A)){var v=c[s++];if(g.push(h),void 0!==v){var p=i.getAttribute(v.toLowerCase()+S).split(A),_=/([.?@])?(.*)/.exec(v);l.push({type:1,index:r,name:_[2],strings:p,ctor:"."===_[1]?ae:"?"===_[1]?re:"@"===_[1]?se:ie})}else l.push({type:6,index:r})}for(var m of g)i.removeAttribute(m)}if(j.test(i.tagName)){var f=i.textContent.split(A),y=f.length-1;if(y>0){i.textContent=T?T.emptyScript:"";for(var k=0;k<y;k++)i.append(f[k],R()),X.nextNode(),l.push({type:2,index:++r});i.append(f[y],R())}}}else if(8===i.nodeType)if(i.data===I)l.push({type:2,index:r});else for(var x=-1;-1!==(x=i.data.indexOf(A,x+1));)l.push({type:7,index:r}),x+=A.length-1;r++}}static createElement(e,t){var i=L.createElement("template");return i.innerHTML=e,i}}function Z(e,t){var i,a,o,r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3?arguments[3]:void 0;if(t===G)return t;var l=void 0!==n?null===(i=s._$Co)||void 0===i?void 0:i[n]:s._$Cl,d=O(t)?void 0:t._$litDirective$;return(null==l?void 0:l.constructor)!==d&&(null===(a=null==l?void 0:l._$AO)||void 0===a||a.call(l,!1),void 0===d?l=void 0:(l=new d(e))._$AT(e,s,n),void 0!==n?(null!==(o=(r=s)._$Co)&&void 0!==o?o:r._$Co=[])[n]=l:s._$Cl=l),void 0!==l&&(t=Z(e,l._$AS(e,t.values),l,n)),t}class ee{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t,{el:{content:i},parts:a}=this._$AD,o=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:L).importNode(i,!0);X.currentNode=o;for(var r=X.nextNode(),s=0,n=0,l=a[0];void 0!==l;){if(s===l.index){var d=void 0;2===l.type?d=new te(r,r.nextSibling,this,e):1===l.type?d=new l.ctor(r,l.name,l.strings,this,e):6===l.type&&(d=new ne(r,this,e)),this._$AV.push(d),l=a[++n]}s!==(null==l?void 0:l.index)&&(r=X.nextNode(),s++)}return X.currentNode=L,o}v(e){var t=0;for(var i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(e,i,t),t+=i.strings.length-2):i._$AI(e[t])),t++}}class te{constructor(e,t,i,a){var o;this.type=2,this._$AH=Q,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=a,this._$Cp=null===(o=null==a?void 0:a.isConnected)||void 0===o||o}get _$AU(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cp}get parentNode(){var e=this._$AA.parentNode,t=this._$AM;return void 0!==t&&11===(null==e?void 0:e.nodeType)&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e){e=Z(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this),O(e)?e===Q||null==e||""===e?(this._$AH!==Q&&this._$AR(),this._$AH=Q):e!==this._$AH&&e!==G&&this._(e):void 0!==e._$litType$?this.g(e):void 0!==e.nodeType?this.$(e):(e=>M(e)||"function"==typeof(null==e?void 0:e[Symbol.iterator]))(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==Q&&O(this._$AH)?this._$AA.nextSibling.data=e:this.$(L.createTextNode(e)),this._$AH=e}g(e){var t,{values:i,_$litType$:a}=e,o="number"==typeof a?this._$AC(e):(void 0===a.el&&(a.el=J.createElement(K(a.h,a.h[0]),this.options)),a);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===o)this._$AH.v(i);else{var r=new ee(o,this),s=r.u(this.options);r.v(i),this.$(s),this._$AH=r}}_$AC(e){var t=q.get(e.strings);return void 0===t&&q.set(e.strings,t=new J(e)),t}T(e){M(this._$AH)||(this._$AH=[],this._$AR());var t,i=this._$AH,a=0;for(var o of e)a===i.length?i.push(t=new te(this.k(R()),this.k(R()),this,this.options)):t=i[a],t._$AI(o),a++;a<i.length&&(this._$AR(t&&t._$AB.nextSibling,a),i.length=a)}_$AR(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,i=arguments.length>1?arguments[1]:void 0;for(null===(e=this._$AP)||void 0===e||e.call(this,!1,!0,i);t&&t!==this._$AB;){var a=t.nextSibling;t.remove(),t=a}}setConnected(e){var t;void 0===this._$AM&&(this._$Cp=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}class ie{constructor(e,t,i,a,o){this.type=1,this._$AH=Q,this._$AN=void 0,this.element=e,this.name=t,this._$AM=a,this.options=o,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=Q}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=this.strings,r=!1;if(void 0===o)e=Z(this,e,t,0),(r=!O(e)||e!==this._$AH&&e!==G)&&(this._$AH=e);else{var s,n,l=e;for(e=o[0],s=0;s<o.length-1;s++)(n=Z(this,l[i+s],t,s))===G&&(n=this._$AH[s]),r||(r=!O(n)||n!==this._$AH[s]),n===Q?e=Q:e!==Q&&(e+=(null!=n?n:"")+o[s+1]),this._$AH[s]=n}r&&!a&&this.j(e)}j(e){e===Q?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class ae extends ie{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Q?void 0:e}}var oe=T?T.emptyScript:"";class re extends ie{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Q?this.element.setAttribute(this.name,oe):this.element.removeAttribute(this.name)}}class se extends ie{constructor(e,t,i,a,o){super(e,t,i,a,o),this.type=5}_$AI(e){var t;if((e=null!==(t=Z(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,0))&&void 0!==t?t:Q)!==G){var i=this._$AH,a=e===Q&&i!==Q||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,o=e!==Q&&(i===Q||a);a&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}}handleEvent(e){var t,i;"function"==typeof this._$AH?this._$AH.call(null!==(i=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==i?i:this.element,e):this._$AH.handleEvent(e)}}class ne{constructor(e,t,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){Z(this,e)}}var le=P.litHtmlPolyfillSupport;null==le||le(J,te),(null!==(g=P.litHtmlVersions)&&void 0!==g?g:P.litHtmlVersions=[]).push("2.8.0");var de,ce;
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */class ue extends ${constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t,i=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=i.firstChild),i}update(e){var t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=((e,t,i)=>{var a,o,r=null!==(a=null==i?void 0:i.renderBefore)&&void 0!==a?a:t,s=r._$litPart$;if(void 0===s){var n=null!==(o=null==i?void 0:i.renderBefore)&&void 0!==o?o:null;r._$litPart$=s=new te(t.insertBefore(R(),n),n,void 0,null!=i?i:{})}return s._$AI(e),s})(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}render(){return G}}ue.finalized=!0,ue._$litElement$=!0,null===(de=globalThis.litElementHydrateSupport)||void 0===de||de.call(globalThis,{LitElement:ue});var be=globalThis.litElementPolyfillSupport;null==be||be({LitElement:ue}),(null!==(ce=globalThis.litElementVersions)&&void 0!==ce?ce:globalThis.litElementVersions=[]).push("3.3.3");
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
class ge extends Event{constructor(e,t,i){super("context-request",{bubbles:!0,composed:!0}),this.context=e,this.callback=t,this.subscribe=i}}
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
class he{constructor(e,t,i,a){var o;if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(e,t)=>{this.unsubscribe&&(this.unsubscribe!==t&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=e,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(e,t)),this.unsubscribe=t},this.host=e,void 0!==t.context){var r=t;this.context=r.context,this.callback=r.callback,this.subscribe=null!==(o=r.subscribe)&&void 0!==o&&o}else this.context=t,this.callback=i,this.subscribe=null!=a&&a;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new ge(this.context,this.t,this.subscribe))}}
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */class ve{constructor(e){this.disposers=new Map,this.updateObservers=()=>{for(var[e,t]of this.disposers)e(this.o,t)},void 0!==e&&(this.value=e)}get value(){return this.o}set value(e){this.setValue(e)}setValue(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!Object.is(e,this.o);this.o=e,t&&this.updateObservers()}addCallback(e,t){if(t){this.disposers.has(e)||this.disposers.set(e,(()=>{this.disposers.delete(e)}));var i=this.disposers.get(e);e(this.value,i)}else e(this.value)}clearCallbacks(){this.disposers.clear()}}
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */class pe extends Event{constructor(e){super("context-provider",{bubbles:!0,composed:!0}),this.context=e}}class _e extends ve{constructor(e,t,i){super(void 0!==t.context?t.initialValue:i),this.onContextRequest=e=>{e.context===this.context&&e.composedPath()[0]!==this.host&&(e.stopPropagation(),this.addCallback(e.callback,e.subscribe))},this.host=e,void 0!==t.context?this.context=t.context:this.context=t,this.attachListeners(),this.host.addController(this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest)}hostConnected(){this.host.dispatchEvent(new pe(this.context))}}
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */var me=e=>{var{finisher:t,descriptor:i}=e;return(e,a)=>{var o;if(void 0===a){var r=null!==(o=e.originalKey)&&void 0!==o?o:e.key,n=null!=i?{kind:"method",placement:"prototype",key:r,descriptor:i(e.key)}:s(s({},e),{},{key:r});return null!=t&&(n.finisher=function(e){t(e,r)}),n}var l=e.constructor;void 0!==i&&Object.defineProperty(e,a,i(a)),null==t||t(l,a)}};
/**
     * @license
     * Copyright 2022 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */function fe(e){var{context:t,subscribe:i}=e;return me({finisher:(e,a)=>{e.addInitializer((e=>{new he(e,{context:t,callback:t=>{e[a]=t},subscribe:i})}))}})}
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */var ye,ke=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?s(s({},t),{},{finisher(i){i.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(i){i.createProperty(t.key,e)}};
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */function xe(e){return(t,i)=>void 0!==i?((e,t,i)=>{t.constructor.createProperty(i,e)})(e,t,i):ke(e,t)}
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */function we(e){return xe(s(s({},e),{},{state:!0}))}
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */function Ce(e,t){return me({descriptor:i=>{var a={get(){var t,i;return null!==(i=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelector(e))&&void 0!==i?i:null},enumerable:!0,configurable:!0};if(t){var o="symbol"==typeof i?Symbol():"__"+i;a.get=function(){var t,i;return void 0===this[o]&&(this[o]=null!==(i=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelector(e))&&void 0!==i?i:null),this[o]}}return a}})}
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */var $e=null!=(null===(ye=window.HTMLSlotElement)||void 0===ye?void 0:ye.prototype.assignedElements)?(e,t)=>e.assignedElements(t):(e,t)=>e.assignedNodes(t).filter((e=>e.nodeType===Node.ELEMENT_NODE));const Pe="render-context",Te="asin-metadata-context",Be=e=>customElements.get(e)?(console.warn(`BDS Custom Element '${e}' already defined, will not re-define`),()=>{}):(e=>t=>"function"==typeof t?((e,t)=>(customElements.define(e,t),t))(e,t):((e,t)=>{var{kind:i,elements:a}=t;return{kind:i,elements:a,finisher(t){customElements.define(e,t)}}})(e,t))(e);function Se(e){return function(){const e=document.documentElement;return e.classList.contains("a-mobile")||e.classList.contains("a-tablet")}()&&!function(e){return"iOS"===e.operatingsystem&&"tablet"===e.devicetype&&"detailPage"===e.pagetype}(e)&&!("UICTFontTextStyleBody"===window.getComputedStyle(document.documentElement).getPropertyValue("font-family"))}var Ae;e.RenderContextProvider=Ae=class extends ue{constructor(){super(...arguments),this.marketplace="default",this.devicetype="default",this.operatingsystem="default",this.hostapplication="default",this.pagetype="default",this.theme="light",this.locale="en-US",this.renderContext=new _e(this,{context:Pe,initialValue:{marketplace:this.marketplace,devicetype:this.devicetype,operatingsystem:this.operatingsystem,hostapplication:this.hostapplication,pagetype:this.pagetype,theme:this.theme,locale:this.locale,widgetid:this.widgetid}}),this.asinMetadataContext=new _e(this,{context:Te,initialValue:{asinMetadataCallbacks:[],asinList:this.asinList}})}willUpdate(){this.renderContext.setValue({marketplace:this.marketplace,devicetype:this.devicetype,operatingsystem:this.operatingsystem,hostapplication:this.hostapplication,pagetype:this.pagetype,theme:this.theme,locale:this.locale,widgetid:this.widgetid}),this.asinMetadataContext.setValue({asinMetadataCallbacks:this.asinMetadataContext.value.asinMetadataCallbacks,asinList:this.asinList})}render(){return Se(this.renderContext.value)?this.classList.add(Ae.AUIMobileTabletRootFontSizeClass):this.classList.remove(Ae.AUIMobileTabletRootFontSizeClass),W`<slot></slot>`}},e.RenderContextProvider.AUIMobileTabletRootFontSizeClass="aui-mobile-tablet-root-font-size",t([xe({type:String,reflect:!0})],e.RenderContextProvider.prototype,"marketplace",void 0),t([xe({type:String,reflect:!0})],e.RenderContextProvider.prototype,"devicetype",void 0),t([xe({type:String,reflect:!0})],e.RenderContextProvider.prototype,"operatingsystem",void 0),t([xe({type:String,reflect:!0})],e.RenderContextProvider.prototype,"hostapplication",void 0),t([xe({type:String,reflect:!0})],e.RenderContextProvider.prototype,"pagetype",void 0),t([xe({type:String,reflect:!0})],e.RenderContextProvider.prototype,"theme",void 0),t([xe({type:String,reflect:!0})],e.RenderContextProvider.prototype,"locale",void 0),t([xe({type:String,reflect:!0})],e.RenderContextProvider.prototype,"widgetid",void 0),t([xe({type:Array})],e.RenderContextProvider.prototype,"asinList",void 0),e.RenderContextProvider=Ae=t([Be("bds-render-context-provider")],e.RenderContextProvider),e.AsinMetadataContextProvider=class extends ue{constructor(){super(...arguments),this.asinMetadataContext=new _e(this,{context:Te,initialValue:{asinMetadataCallbacks:[],asinList:this.asinList}})}updated(){this.asinMetadataContext.setValue({asinMetadataCallbacks:this.asinMetadataContext.value.asinMetadataCallbacks,asinList:this.asinList})}render(){return W`<slot></slot>`}},t([xe({type:Array})],e.AsinMetadataContextProvider.prototype,"asinList",void 0),e.AsinMetadataContextProvider=t([Be("bds-asin-metadata-context-provider")],e.AsinMetadataContextProvider);const Ie="books-design-system-web",ze="https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem",Le=`${ze}/icons`,Re=`${ze}/book-placeholder-light.svg`,Oe=`${ze}/book-placeholder-dark.svg`;var Me;function Ee(e,t,i,a="jpg",o,r,s=Me.HEIGHT,n=500){if(!e||"01RmK+J4pJL"===e)return"dark"===i?Oe:Re;return[1,1.5,2,3,4].filter(((e,i)=>e*t<=n||0===i)).map((i=>function(e,t,i="jpg",a,o,r=Me.HEIGHT){return a?`https://m.media-amazon.com/images/I/${e}.${a}_U${r}${t}${o?`_FM${o}_`:""}.${i}?aicid=${Ie}`:`https://m.media-amazon.com/images/I/${e}._AC_U${r}${t}${o?`_FM${o}_`:""}.${i}?aicid=${Ie}`}(e,t*i,a,o,r,s)+` ${i}x`)).join(", ")}function Fe(e){return`${Le}/${e}`}!function(e){e.HEIGHT="Y",e.WIDTH="X"}(Me||(Me={}));var De=v`
    .coverImageWrapper {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: flex-start;
        margin-bottom: var(--bds-size-spacing-2x-small);
        position: relative;
    }

    .programBadge {
        max-width: 100%;
    }

    .coverImage {
        display: block;
    }

    .coverImageWrapper.contained .coverImage,
    .coverImageWrapper.containedBaseline .coverImage {
        max-width: 100%;
        object-fit: contain;
    }

    .coverImageWrapper.blurredBackdrop {
        margin: 0;
    }

    .coverImageWrapper.blurredBackdrop .coverImageWithBackdrop {
        position: relative;
        width: 100%;
        height: 100%;
    }

    .coverImageWrapper.blurredBackdrop .blurredCoverImageWrapper {
        overflow: hidden;
        background: var(--bds-color-expressive-brand-white);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: -1;
        position: relative;
    }

    .coverImageWrapper.blurredBackdrop.dark .blurredCoverImageWrapper::after {
        opacity: 0.2;
    }

    .coverImageWrapper.blurredBackdrop .blurredCoverImageWrapper picture {
        width: 113%;
        height: 113%;
        min-width: 113%;
        min-height: 113%;
        display: flex;
        background: rgba(0, 0, 0, 3%);
    }

    .coverImageWrapper.blurredBackdrop.dark .blurredCoverImageWrapper picture {
        background: rgba(0, 0, 0, 20%);
    }

    .coverImageWrapper.blurredBackdrop .blurredCoverImage {
        filter: blur(7px);
        min-width: 100%;
        min-height: 100%;
        opacity: 0.6;
        object-fit: cover;
    }

    .coverImageWrapper.blurredBackdrop .coverImage {
        position: absolute;
        max-width: calc(100% - 2 * var(--bds-size-spacing-small));
        object-fit: contain;
        left: 50%;
        transform: translateX(-50%);
    }

    .coverImageWrapper.blurredBackdrop bds-program-badge {
        position: absolute;
        display: flex;
        justify-content: center;
        max-width: calc(100% - 2 * var(--bds-size-spacing-small));
        object-fit: contain;
        top: var(--bds-size-spacing-x-small);
        left: 50%;
        transform: translateX(-50%);
    }

    .grid.coverImageWrapper .coverImageContainer {
        border-radius: 0 0 var(--bds-size-radius-small) var(--bds-size-radius-small);
        overflow: hidden;
        padding: var(--bds-size-spacing-none) var(--bds-size-spacing-x-small)
            var(--bds-size-spacing-x-small) var(--bds-size-spacing-x-small);
        position: relative;
    }

    .grid.coverImageWrapper .coverImageContainer::after {
        position: absolute;
        content: '';
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 3%);
        pointer-events: none;
    }

    .responsive.coverImageWrapper img {
        display: flex;
        justify-content: center;
        object-fit: contain;
        align-items: center;
        margin: auto;
        width: 100%;
    }

    .grid.coverImageWrapper img {
        aspect-ratio: 1 / 1.25;
    }

    .responsive.coverImageWrapper {
        display: block;
    }

    .deepstack {
        position: relative;
        width: 100%;
        height: 15px;
        display: block;
    }

    .domino {
        position: relative;
        height: 100%;
        display: inline-block;
        align-self: stretch;
        margin-left: 2px;
        margin-right: 10px;
    }

    .domino:dir(rtl) {
        margin-left: 10px;
        margin-right: 2px;
    }

    .coverImageWrapper > picture:has(bds-domino) {
        display: flex;
        flex-direction: row;
        align-items: flex-start;
        max-width: 100%;
    }

    .grid.coverImageWrapper .coverImageContainer bds-deepstack {
        width: calc(100% - 4 * var(--bds-size-spacing-x-small)); /* Adjust for padding */
        margin: 0 auto;
    }

    .grid.coverImageWrapper .coverImageContainer > picture:has(bds-domino) {
        display: flex;
        flex-direction: row;
        gap: 4px;
        align-items: flex-start;
    }

    .grid.coverImageWrapper .coverImageContainer picture:has(bds-domino) img {
        width: calc(100% - 24px); /* Adjust for domino width + gap */
    }

    .grid.coverImageWrapper .coverImageContainer .domino {
        width: 20px;
        height: 80%;
        flex-shrink: 0;
    }
`;const Ue=["layout","theme","pagetype","devicetype","operatingsystem","hostapplication","locale","marketplace"];function He(e,t,i){if(!t||!i)return e;let a=Object.assign({},e);return t.filter((e=>function(e,t){return Object.keys(e).every((i=>e[i]===t[i]))}(e.targeting,i))).sort(((e,t)=>function(e,t){const i=Object.keys(e.targeting).length-Object.keys(t.targeting).length;if(0!==i)return i;let a=0,o=0,r=0;const s=Object.keys(e.targeting),n=Object.keys(t.targeting);for(let e=0;e<s.length;e++){const t=Ue.indexOf(s[e]),i=Ue.indexOf(n[e]);a+=t-i,o=t>o?t:o,r=i>r?i:r}return 0===a?o-r:a}(e,t))).forEach((e=>{a=Object.assign(Object.assign({},a),e.overrides)})),a}class Ne extends ue{getRenderConfiguration(e){return He(this.getDefaultConfiguration(),this.getConfigurationOverrides(),e?Object.assign(Object.assign({},this.renderContext),{layout:e}):this.renderContext)}}t([fe({context:Pe,subscribe:!0})],Ne.prototype,"renderContext",void 0);
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
var Ve=(e,t,i)=>{for(var a of t)if(a[0]===e)return(0,a[1])();return null==i?void 0:i()},je=1,We=2,Ge=e=>function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return{_$litDirective$:e,values:i}};
/**
     * @license
     * Copyright 2020 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */class Qe{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,i){this._$Ct=e,this._$AM=t,this._$Ci=i}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */var qe=(e,t)=>{var i,a,o=e._$AN;if(void 0===o)return!1;for(var r of o)null===(a=(i=r)._$AO)||void 0===a||a.call(i,t,!1),qe(r,t);return!0},Xe=e=>{var t,i;do{if(void 0===(t=e._$AM))break;(i=t._$AN).delete(e),e=t}while(0===(null==i?void 0:i.size))},Ke=e=>{for(var t;t=e._$AM;e=t){var i=t._$AN;if(void 0===i)t._$AN=i=new Set;else if(i.has(e))break;i.add(e),Ze(t)}};function Ye(e){void 0!==this._$AN?(Xe(this),this._$AM=e,Ke(this)):this._$AM=e}function Je(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=this._$AH,o=this._$AN;if(void 0!==o&&0!==o.size)if(t)if(Array.isArray(a))for(var r=i;r<a.length;r++)qe(a[r],!1),Xe(a[r]);else null!=a&&(qe(a,!1),Xe(a));else qe(this,e)}var Ze=e=>{var t,i,a,o;e.type==We&&(null!==(t=(a=e)._$AP)&&void 0!==t||(a._$AP=Je),null!==(i=(o=e)._$AQ)&&void 0!==i||(o._$AQ=Ye))};class et extends Qe{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,i){super._$AT(e,t,i),Ke(this),this.isConnected=e._$AU}_$AO(e){var t,i,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e!==this.isConnected&&(this.isConnected=e,e?null===(t=this.reconnected)||void 0===t||t.call(this):null===(i=this.disconnected)||void 0===i||i.call(this)),a&&(qe(this,e),Xe(this))}setValue(e){if((e=>void 0===e.strings)
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */(this._$Ct))this._$Ct._$AI(e,this);else{var t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}
/**
     * @license
     * Copyright 2020 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */var tt=()=>new it;class it{}var at=new WeakMap,ot=Ge(class extends et{render(e){return Q}update(e,t){var i,[a]=t,o=a!==this.G;return o&&void 0!==this.G&&this.ot(void 0),(o||this.rt!==this.lt)&&(this.G=a,this.dt=null===(i=e.options)||void 0===i?void 0:i.host,this.ot(this.lt=e.element)),Q}ot(e){var t;if("function"==typeof this.G){var i=null!==(t=this.dt)&&void 0!==t?t:globalThis,a=at.get(i);void 0===a&&(a=new WeakMap,at.set(i,a)),void 0!==a.get(this.G)&&this.G.call(this.dt,void 0),a.set(this.G,e),void 0!==e&&this.G.call(this.dt,e)}else this.G.value=e}get rt(){var e,t,i;return"function"==typeof this.G?null===(t=at.get(null!==(e=this.dt)&&void 0!==e?e:globalThis))||void 0===t?void 0:t.get(this.G):null===(i=this.G)||void 0===i?void 0:i.value}disconnected(){this.rt===this.lt&&this.ot(void 0)}reconnected(){this.ot(this.lt)}}),rt=e=>null!=e?e:Q,st=v`
    :host {
        line-height: 0;
    }

    .programBadge {
        max-width: 50vw;
    }
`
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */;
/**
     * @license
     * Copyright 2018 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */function nt(e,t,i){return e?t():null==i?void 0:i()}const lt="books_ui",dt="bds-";var ct;!function(e){e.FATAL="FATAL",e.ERROR="ERROR",e.WARN="WARN"}(ct||(ct={}));class ut{static logCountMetric(...e){var t;const i=this.getMetricName(e);null===(t=window.ue)||void 0===t||t.count(i,1)}static getMetricName(e){return dt.concat(e.join("-"))}static logJSErrorMetric(e,t,i,a){var o;const r={logLevel:t,attribution:dt.concat(i),message:a};null===(o=window.ue)||void 0===o||o.ueLogError(e,r)}}const bt="csaAttributes",gt="layout",ht="NULL";function vt(e,t){return e in t}function pt(e){var t;const i=null===(t=e.prototype)||void 0===t?void 0:t.connectedCallback;function a(e){if("renderContext"in e){const t=e.renderContext;e.setAttribute("data-csa-c-device-type",(null==t?void 0:t.devicetype)||ht),e.setAttribute("data-csa-c-os",(null==t?void 0:t.operatingsystem)||ht),e.setAttribute("data-csa-c-host-application",(null==t?void 0:t.hostapplication)||ht),e.setAttribute("data-csa-c-locale",(null==t?void 0:t.locale)||ht),e.setAttribute("data-csa-c-theme",(null==t?void 0:t.theme)||ht),e.setAttribute("data-csa-c-marketplace",(null==t?void 0:t.marketplace)||ht),e.setAttribute("data-csa-c-page-type",(null==t?void 0:t.pagetype)||ht),e.setAttribute("data-csa-c-widget-id",(null==t?void 0:t.widgetid)||ht)}}i&&(e.prototype.connectedCallback=function(){var e;null==i||i.call(this),null===(e=window.csa)||void 0===e||e.call(window,"Content",{element:this});const t=this.firstUpdated;this.firstUpdated=function(e){null==t||t.call(this,e),a(this),this.setAttribute("data-csa-c-source",lt),this.setAttribute("data-csa-c-type","item"),this.setAttribute("data-csa-c-component",this.tagName||ht),this.setAttribute("data-csa-c-pathname",window.location.pathname);const i=this.constructor.elementProperties;var o,r,s,n;(null==i?void 0:i.has(bt))&&vt(bt,this)&&this[bt]&&Object.entries(this[bt]).forEach((([e,t])=>{this.setAttribute(e,String(t))})),o=this,r=gt,s="data-csa-c-layout",n=this.getAttribute(gt)||ht,o.hasAttribute(r)&&vt(r,o)&&o.setAttribute(s,n)};const o=this.updated;this.updated=function(e){null==o||o.call(this,e),a(this)}})}var _t;e.ProgramBadge=_t=class extends ue{constructor(){super(...arguments),this.badgeExtension=_t.DEFAULT_BADGE_EXTENSION,this.badgeImageHeightPx=14}shouldRenderBadge(){return!!this.badgePhysicalId}firstUpdated(){this.badgeAltText&&this.setAttribute("data-csa-c-badge-alt-text",this.badgeAltText)}renderBadge(){var e,t,i;return this.badgePhysicalId?W`<img
            style="height: ${this.badgeImageHeightPx}px;"
            class="programBadge"
            alt="${null!==(e=this.badgeAltText)&&void 0!==e?e:""}"
            src="${t=this.badgePhysicalId,i=this.badgeExtension||_t.DEFAULT_BADGE_EXTENSION,`https://m.media-amazon.com/images/I/${t}.${i}?aicid=${Ie}`}" />`:Q}render(){return nt(this.shouldRenderBadge(),(()=>this.renderBadge()))}},e.ProgramBadge.styles=st,e.ProgramBadge.DEFAULT_BADGE_EXTENSION="svg",t([xe({type:String})],e.ProgramBadge.prototype,"badgePhysicalId",void 0),t([xe({type:String})],e.ProgramBadge.prototype,"badgeAltText",void 0),t([xe({type:String})],e.ProgramBadge.prototype,"badgeExtension",void 0),t([xe({type:Number})],e.ProgramBadge.prototype,"badgeImageHeightPx",void 0),e.ProgramBadge=_t=t([Be("bds-program-badge"),pt],e.ProgramBadge);const mt=(e,t=!1)=>h(`\n        overflow: hidden;\n        text-overflow: ellipsis;\n        display: ${t?"-webkit-inline-box":"-webkit-box"};\n        -webkit-line-clamp: ${e};\n        -webkit-box-orient: vertical;\n    `),ft=e=>{try{return e/parseInt(getComputedStyle(document.documentElement).fontSize)}catch(t){return e/16}};var yt=v`
    #deepstack {
        height: 100%;
        position: relative;
    }

    #deepstack-bar-1 {
        height: 4px;
        width: 80%;
        background-color: #949185;
        position: absolute;
        top: 0;
        left: 10%;
    }

    #deepstack-bar-2 {
        height: 4px;
        position: absolute;
        top: 50%;
        left: 5%;
        width: 90%;
        background-color: #949185;
    }
`;e.DeepStack=class extends ue{constructor(){super(...arguments),this.shouldShowDeepstack=!1}render(){return W` <div id="deepstack">
            <div id="deepstack-bar-1"></div>
            <div id="deepstack-bar-2"></div>
        </div>`}},e.DeepStack.styles=yt,t([xe({type:Boolean})],e.DeepStack.prototype,"shouldShowDeepstack",void 0),e.DeepStack=t([Be("bds-deepstack")],e.DeepStack);var kt=v`
    #domino {
        height: 100%;
        width: 100%;
        position: relative;
    }

    #domino-bar-1 {
        height: 90%;
        width: 4px;
        background-color: #949185;
        position: absolute;
        top: 5%;
        left: 2px;
        border-radius: 0 2px 2px 0;
    }

    #domino-bar-1:dir(rtl) {
        left: auto;
        right: 2px;
    }

    #domino-bar-2 {
        height: 80%;
        width: 4px;
        background-color: #949185;
        position: absolute;
        top: 10%;
        left: 10px;
        border-radius: 0 2px 2px 0;
    }

    #domino-bar-2:dir(rtl) {
        left: auto;
        right: 10px;
    }
`;e.Domino=class extends ue{render(){return W`
            <div id="domino">
                <div id="domino-bar-1"></div>
                <div id="domino-bar-2"></div>
            </div>
        `}},e.Domino.styles=kt,e.Domino=t([Be("bds-domino")],e.Domino);const xt=new Set(["responsiveToContainer","grid"]),wt={coverImageHeightPx:266,coverImageWidthPx:void 0,wrapperHeight:266,wrapperWidth:void 0,badgeImageHeightPx:14,badgeMarginSizePx:4,disableProgramBadge:!1},Ct=[{targeting:{layout:"contained"},overrides:{coverImageHeightPx:180,wrapperHeight:180,wrapperWidth:150}},{targeting:{layout:"containedBaseline"},overrides:{coverImageHeightPx:200,wrapperHeight:200,wrapperWidth:194}},{targeting:{layout:"blurredBackdrop"},overrides:{coverImageHeightPx:170,wrapperHeight:190,wrapperWidth:ft(150)}},{targeting:{layout:"grid"},overrides:{coverImageHeightPx:247.5,wrapperHeight:void 0,wrapperWidth:void 0,disableProgramBadge:!0}},{targeting:{layout:"responsiveToContainer"},overrides:{coverImageHeightPx:247.5,wrapperHeight:void 0,wrapperWidth:void 0,disableProgramBadge:!0}},{targeting:{devicetype:"mobile"},overrides:{badgeImageHeightPx:10}},{targeting:{pagetype:"kindleHome"},overrides:{badgeImageHeightPx:11}},{targeting:{layout:"fixedHeight",devicetype:"tablet"},overrides:{coverImageHeightPx:210,wrapperHeight:210}},{targeting:{layout:"fixedHeight",devicetype:"mobile"},overrides:{coverImageHeightPx:210,wrapperHeight:210}},{targeting:{layout:"fixedHeight",pagetype:"kindleHome"},overrides:{coverImageHeightPx:210,wrapperHeight:210}},{targeting:{layout:"fixedHeight",pagetype:"eBooksTYPMessage",devicetype:"mobile"},overrides:{coverImageHeightPx:180,wrapperHeight:180}},{targeting:{layout:"fixedHeight",pagetype:"eBooksTYPMessage",devicetype:"tablet"},overrides:{coverImageHeightPx:210,wrapperHeight:210}},{targeting:{layout:"fixedHeight",pagetype:"eBooksTYPMessage",devicetype:"desktop"},overrides:{coverImageHeightPx:210,wrapperHeight:210}},{targeting:{layout:"fixedHeight",pagetype:"detailPage"},overrides:{badgeImageHeightPx:11,coverImageHeightPx:160,wrapperHeight:160}},{targeting:{layout:"fixedHeight",pagetype:"detailPage",devicetype:"mobile"},overrides:{badgeImageHeightPx:11,coverImageHeightPx:160,wrapperHeight:160}},{targeting:{layout:"fixedHeight",pagetype:"detailPage",devicetype:"tablet"},overrides:{badgeImageHeightPx:11,coverImageHeightPx:160,wrapperHeight:160}},{targeting:{layout:"fixedHeight",pagetype:"detailPage",devicetype:"desktop"},overrides:{badgeImageHeightPx:11,coverImageHeightPx:160,wrapperHeight:160}},{targeting:{layout:"contained",pagetype:"kindleHome"},overrides:{wrapperWidth:130}},{targeting:{layout:"containedBaseline",pagetype:"kindleHome"},overrides:{wrapperWidth:130}},{targeting:{layout:"list"},overrides:{coverImageWidthPx:100,wrapperWidth:100,wrapperHeight:180,coverImageHeightPx:180,disableProgramBadge:!0}}];e.BookCoverImage=class extends Ne{constructor(){super(...arguments),this.imageRef=tt(),this.blurredImageRef=tt(),this.layout="fixedHeight",this.coverImageExtension="jpg",this.badgeExtension=e.ProgramBadge.DEFAULT_BADGE_EXTENSION,this.useNoMetadataLayout=!1,this.shouldRenderDeepStack=!1,this.shouldRenderDomino=!1,this.enableFocusSpacing=!1}getImageSource(){var e;return null===(e=this.imageRef.value)||void 0===e?void 0:e.currentSrc}getDefaultConfiguration(){return wt}getConfigurationOverrides(){return Ct}shouldRenderBadge(e){return!!this.badgePhysicalId&&!e.disableProgramBadge}getImageRenderHeight(e){const t=e.coverImageHeightPx,i=this.shouldRenderBadge(e)?e.badgeImageHeightPx+e.badgeMarginSizePx:0;return this.shouldRenderDeepStack?t-i-15:t-i}getResponsiveImageCssClass(){return xt.has(this.layout)?"responsive":void 0}renderProgramBadge(e){return nt(this.shouldRenderBadge(e),(()=>W` <bds-program-badge
                badgePhysicalId=${rt(this.badgePhysicalId)}
                badgeAltText=${rt(this.badgeAltText)}
                badgeExtension=${this.badgeExtension}
                badgeImageHeightPx=${e.badgeImageHeightPx}
                style="margin-bottom: ${e.badgeMarginSizePx}px">
            </bds-program-badge>`))}renderCoverImageWithBlurredBackdrop(e){var t,i,a,o,r;const s=Ee(this.coverImagePhysicalId,e.coverImageHeightPx,null!==(i=null===(t=this.renderContext)||void 0===t?void 0:t.theme)&&void 0!==i?i:"light",this.coverImageExtension,this.imageStyleCode,"webp"),n=Ee(this.coverImagePhysicalId,e.coverImageHeightPx,null!==(o=null===(a=this.renderContext)||void 0===a?void 0:a.theme)&&void 0!==o?o:"light",this.coverImageExtension,this.imageStyleCode),l=this.useNoMetadataLayout?this.renderProgramBadge(e):"",d=l?`(${e.badgeImageHeightPx}px + var(--bds-size-utils-padding-6))`:"0px",c=l?"var(--bds-size-spacing-x-small)":"var(--bds-size-spacing-small)",u=this.useNoMetadataLayout?"var(--bds-size-spacing-small)":"var(--bds-size-spacing-x-small)",b=`calc(100% - ${c} - ${d} - ${u})`,g=`calc(${c} + ${d})`,h="var(--bds-size-spacing-x-small)",v=l?`(${c} + ${d} + ${h})`:"0px",p=`calc(100% - ${v} - ${this.useNoMetadataLayout?"0px":`(${u} + ${h})`})`;return W`
            <div
                class="coverImageWithBackdrop"
                style="${this.useNoMetadataLayout?"align-content: end;":""}">
                ${l}
                <div
                    class="blurredCoverImageWrapper"
                    aria-hidden="true"
                    style="height: ${p}; margin-top: calc(${v})">
                    <picture>
                        <source srcset="${s}" type="image/webp" />
                        <source srcset="${n}" type="image/jpeg" />
                        <img
                            ${ot(this.blurredImageRef)}
                            class="blurredCoverImage"
                            alt=""
                            @error="${this.handleBlurredImageLoadError}" />
                    </picture>
                </div>
                <picture>
                    <source srcset="${s}" type="image/webp" />
                    <source srcset="${n}" type="image/jpeg" />
                    <img
                        ${ot(this.imageRef)}
                        class="coverImage"
                        style="height: ${b}; top: ${g};"
                        alt="${null!==(r=this.coverImageAltText)&&void 0!==r?r:""}"
                        @error="${this.handleCoverImageLoadError}" />
                </picture>
            </div>
        `}getCoverImageStyle(e){switch(this.layout){case"grid":return`min-height: ${e/2}px;`;case"list":return`max-height: ${e}px; width: auto; max-width: 25vw;`;case"containedBaseline":return`max-height: ${e}px; min-height: ${e/2}px; box-shadow: 0px 4px 12px 0px #0f111140;`;default:return`max-height: ${e}px; min-height: ${e/2}px;`}}handleImageLoadError(e){var t,i;const a=e.value;a&&!a.src&&(null===(t=a.parentElement)||void 0===t||t.querySelectorAll("source").forEach((e=>e.srcset="")),a.src="dark"===(null===(i=this.renderContext)||void 0===i?void 0:i.theme)?Oe:Re)}handleCoverImageLoadError(){this.handleImageLoadError(this.imageRef)}handleBlurredImageLoadError(){this.handleImageLoadError(this.blurredImageRef)}renderCoverImage(e,t){var i,a,o,r,s;const n="list"==this.layout&&t,l=n?t:e,d=n?Me.WIDTH:Me.HEIGHT,c=this.shouldRenderDomino?l-25:l;return W`<picture>
            ${nt(this.shouldRenderDeepStack,(()=>this.renderDeepStack()))}
            <source
                srcset="
                    ${Ee(this.coverImagePhysicalId,c,null!==(a=null===(i=this.renderContext)||void 0===i?void 0:i.theme)&&void 0!==a?a:"light",this.coverImageExtension,this.imageStyleCode,"webp",d)}
                "
                type="image/webp" />
            <source
                srcset="
                    ${Ee(this.coverImagePhysicalId,c,null!==(r=null===(o=this.renderContext)||void 0===o?void 0:o.theme)&&void 0!==r?r:"light",this.coverImageExtension,this.imageStyleCode,void 0,d)}
                "
                type="image/jpeg" />
            <img
                ${ot(this.imageRef)}
                style="${this.getCoverImageStyle(e)}"
                height="${rt("fixedHeight"==this.layout?e:void 0)}"
                class="coverImage ${this.getResponsiveImageCssClass()}"
                alt="${null!==(s=this.coverImageAltText)&&void 0!==s?s:""}"
                @error="${this.handleCoverImageLoadError}" />
            ${nt(this.shouldRenderDomino,(()=>this.renderDomino(e)))}
        </picture>`}renderDefaultCoverImage(e){return W`
            ${this.renderProgramBadge(e)}
            ${this.renderCoverImage(this.getImageRenderHeight(e),e.coverImageWidthPx)}
        `}renderDeepStack(){return W` <bds-deepstack class="deepstack"> </bds-deepstack> `}renderDomino(e){let t;return"grid"===this.layout?t=`height:${e-.2*e}px`:("responsiveToContainer"===this.layout||"list"===this.layout)&&(t="height: inherit"),W` <bds-domino style=${rt(t)} class="domino"> </bds-domino> `}renderGridCoverImage(e){return W`
            <div class="coverImageBlock">
                <div class="coverImageContainer">
                    ${this.renderCoverImage(e.coverImageHeightPx)}
                </div>
            </div>
        `}getCoverImageWrapperStyles(e){const t=this.enableFocusSpacing?"padding: 4px; margin: -4px;":"";switch(this.layout){case"contained":return`\n                    height: ${e.wrapperHeight}px;\n                    width: ${e.wrapperWidth}px;\n                    align-items: ${this.useNoMetadataLayout?"center":"flex-start"};\n                    ${t}\n                `;case"containedBaseline":return`\n                    height: ${e.wrapperHeight}px;\n                    width: ${e.wrapperWidth}px;\n                    align-items: center;\n                    justify-content: flex-end;\n                    ${t}\n                `;case"blurredBackdrop":return`\n                    height: ${e.wrapperHeight}px;\n                    width: ${e.wrapperWidth}rem;\n                    min-width: 100%;\n                    ${t}\n                `;case"grid":case"responsiveToContainer":return t||void 0;case"list":return`\n                    width: ${e.wrapperWidth}px;\n                    max-width: 25vw;\n                    max-height: ${e.wrapperHeight}px;\n                    align-items: center;\n                    justify-content: flex-start;\n                    ${t}\n                `;default:return`height: ${e.wrapperHeight}px; ${t}`}}applyDimensionOverrides(e){const t=Object.assign({},e);return this.height&&(t.wrapperHeight=this.height,"blurredBackdrop"===this.layout?t.coverImageHeightPx=this.height-20:t.coverImageHeightPx=this.height),this.width&&"fixedHeight"!==this.layout&&(t.coverImageWidthPx=this.width,t.wrapperWidth="blurredBackdrop"===this.layout?ft(this.width):this.width),t}getRenderConfiguration(e){const t=super.getRenderConfiguration(e);return this.applyDimensionOverrides(t)}render(){var e;const t=this.getRenderConfiguration(this.layout);return W` <div
            class="coverImageWrapper ${this.layout} ${null===(e=this.renderContext)||void 0===e?void 0:e.theme} ${this.getResponsiveImageCssClass()}"
            style="${rt(this.getCoverImageWrapperStyles(t))}">
            ${Ve(this.layout,[["blurredBackdrop",()=>this.renderCoverImageWithBlurredBackdrop(t)],["grid",()=>this.renderGridCoverImage(t)],["list",()=>this.renderDefaultCoverImage(t)]],(()=>this.renderDefaultCoverImage(t)))}
        </div>`}},e.BookCoverImage.styles=De,t([xe({type:String})],e.BookCoverImage.prototype,"layout",void 0),t([xe({type:Number})],e.BookCoverImage.prototype,"height",void 0),t([xe({type:Number})],e.BookCoverImage.prototype,"width",void 0),t([xe({type:String})],e.BookCoverImage.prototype,"coverImagePhysicalId",void 0),t([xe({type:String})],e.BookCoverImage.prototype,"coverImageExtension",void 0),t([xe({type:String})],e.BookCoverImage.prototype,"coverImageAltText",void 0),t([xe({type:String})],e.BookCoverImage.prototype,"badgePhysicalId",void 0),t([xe({type:String})],e.BookCoverImage.prototype,"badgeAltText",void 0),t([xe({type:String})],e.BookCoverImage.prototype,"badgeExtension",void 0),t([xe({type:Boolean})],e.BookCoverImage.prototype,"useNoMetadataLayout",void 0),t([xe({type:Boolean})],e.BookCoverImage.prototype,"shouldRenderDeepStack",void 0),t([xe({type:Boolean})],e.BookCoverImage.prototype,"shouldRenderDomino",void 0),t([xe({type:Boolean})],e.BookCoverImage.prototype,"enableFocusSpacing",void 0),t([xe({type:String})],e.BookCoverImage.prototype,"imageStyleCode",void 0),e.BookCoverImage=t([Be("bds-book-cover-image"),pt],e.BookCoverImage);var $t=v`
    :host {
        display: flex;
        font-family: var(--bds-font-family-functional-label);
    }

    .badge-label {
        color: var(--bds-color-functional-neutral-on-surface-inverse-fixed, #fff);
        border-radius: var(--bds-size-radius-x-small);
        background-color: var(
            --bds-color-functional-supplemental-discount,
            #cc0c39
        ); /* Remove fallback once token is available */
        padding: var(--bds-size-spacing-2x-small) var(--bds-size-utils-padding-6);
        align-items: flex-start;
        text-align: center;
        font-size: var(--bds-size-font-functional-label-small);
        font-style: normal;
        font-weight: 700;
        line-height: var(--bds-size-line-height-functional-label-small);
    }
`;class Pt{constructor(e){this.data={},this.transpose(e)}set(e,t){var i;if(!e||""===e)return;const a=e.match(/[\w]+|\[\]|([^[[\w]\]]|["'](.*?)['"])/g);let o,r=this.data,s=null,n=null;if(!a)return;const l=function(e,t,i){"[]"===t?e.push(i):e[t]=i};for(;a.length>0;)o=null===(i=a.shift())||void 0===i?void 0:i.replace(/["']/g,""),o&&(isNaN(+o)&&"[]"!==o?"string"==typeof o&&("object"==typeof r&&null!==r||(r={},s&&n&&l(s,n,r))):Array.isArray(r)||(r=[],s&&n&&l(s,n,r)),s=r,n=o,r=r[o]);return s&&n&&l(s,n,t),this}transpose(e){if(e)for(const t in e)this.set(t,e[t])}getData(){return this.data}}function Tt(e){return!e||0===Object.keys(e).length}e.BookDealBadge=class extends ue{isFragmentsEmpty(e){return!Tt(e.fragments)&&!(e.fragments&&e.fragments.length>0&&""!==e.fragments[0].text)}getContentToRender(){var e,t,i,a;if(!this.dealBadge)return;const o=null===(t=null===(e=this.dealBadge)||void 0===e?void 0:e.messaging)||void 0===t?void 0:t.content,r=null===(a=null===(i=this.dealBadge)||void 0===i?void 0:i.label)||void 0===a?void 0:a.content;return Tt(o)||this.isFragmentsEmpty(o)?Tt(r)||this.isFragmentsEmpty(r)?void 0:r:o}firstUpdated(){var e,t;(null===(t=null===(e=this.dealBadge)||void 0===e?void 0:e.instrumentationMetadata)||void 0===t?void 0:t.lucidInstrumentationAci)&&this.setAttribute("data-csa-c-item-id",this.dealBadge.instrumentationMetadata.lucidInstrumentationAci)}render(){var e;if(this.dealBadge){const e=this.getContentToRender();return e?W`
                <div class="badge-label">
                    <bds-rich-content .content=${e}></bds-rich-content>
                </div>
            `:Q}return this.kindlePromotionTags?W`<div class="badge-label">${null===(e=this.kindlePromotionTags)||void 0===e?void 0:e.badgeContent}</div> `:Q}},e.BookDealBadge.styles=$t,t([xe({type:Object})],e.BookDealBadge.prototype,"dealBadge",void 0),t([xe({type:Object})],e.BookDealBadge.prototype,"kindlePromotionTags",void 0),e.BookDealBadge=t([Be("bds-book-deal-badge"),pt],e.BookDealBadge);
/**
     * @license
     * Copyright 2018 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
var Bt=Ge(class extends Qe{constructor(e){var t;if(super(e),e.type!==je||"class"!==e.name||(null===(t=e.strings)||void 0===t?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter((t=>e[t])).join(" ")+" "}update(e,t){var i,a,[o]=t;if(void 0===this.it){for(var r in this.it=new Set,void 0!==e.strings&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter((e=>""!==e)))),o)o[r]&&!(null===(i=this.nt)||void 0===i?void 0:i.has(r))&&this.it.add(r);return this.render(o)}var s=e.element.classList;for(var n in this.it.forEach((e=>{e in o||(s.remove(e),this.it.delete(e))})),o){var l=!!o[n];l===this.it.has(n)||(null===(a=this.nt)||void 0===a?void 0:a.has(n))||(l?(s.add(n),this.it.add(n)):(s.remove(n),this.it.delete(n)))}return G}});
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */class St{constructor(e,t){var{target:i,config:a,callback:o,skipInitial:r}=t;this.t=new Set,this.o=!1,this.i=!1,this.h=e,null!==i&&this.t.add(null!=i?i:e),this.o=null!=r?r:this.o,this.callback=o,window.IntersectionObserver?(this.u=new IntersectionObserver((e=>{var t=this.i;this.i=!1,this.o&&t||(this.handleChanges(e),this.h.requestUpdate())}),a),e.addController(this)):console.warn("IntersectionController error: browser does not support IntersectionObserver.")}handleChanges(e){var t;this.value=null===(t=this.callback)||void 0===t?void 0:t.call(this,e,this.u)}hostConnected(){for(var e of this.t)this.observe(e)}hostDisconnected(){this.disconnect()}hostUpdated(){var e=this;return a((function*(){var t=e.u.takeRecords();t.length&&e.handleChanges(t)}))()}observe(e){this.t.add(e),this.u.observe(e),this.i=!0}unobserve(e){this.t.delete(e),this.u.unobserve(e)}disconnect(){this.u.disconnect()}}const At=()=>v`
        .offscreen {
            position: absolute;
            z-index: -1;
            opacity: 0;
            clip: rect(0, 0, 0, 0);
            transform: translateX(-100%);
            height: 1px;
            overflow: hidden;
        }

        [dir="rtl"] .offscreen {
            transform: translateX(100%);
        }
    `;var It=[v`
    :host {
        color: var(--bds-color-functional-neutral-on-surface);
        font-size: var(--bds-size-font-functional-body-medium);
        font-weight: var(--bds-font-weight-functional-body);
        line-height: var(--bds-size-line-height-functional-body-small);
        max-width: 100%;
    }

    .unified-book-faceout {
        width: min-content;
        min-width: 140px;
        display: flex;
        flex-direction: row;
    }

    .unified-book-faceout a {
        text-decoration: none;
        cursor: pointer;
    }

    .ubf-book-info {
        position: relative;
        z-index: 0;
    }

    .ubf-color-block,
    .ubf-color-block-bottom {
        padding: var(--bds-size-utils-padding-10);
    }

    .ubf-color-block-bottom {
        display: flex;
        flex-direction: column;
        gap: var(--bds-size-utils-padding-10);
    }

    .series-overlay {
        margin-bottom: 4px;
    }

    .star-rating {
        margin: var(--bds-size-spacing-2x-small) 0;
    }

    /* stylelint-disable selector-class-pattern */
    .unified-book-faceout.blurred-backdrop {
        border-radius: 4px;
        box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 25%);
        overflow: hidden;
        background: var(--bds-color-functional-neutral-surface);
        height: 100%;
    }

    .unified-book-faceout.blurred-backdrop.dark {
        box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 75%);
    }

    .unified-book-faceout.blurred-backdrop.no-metadata-layout {
        height: auto;
        background: var(--bds-color-functional-neutral-surface);
    }

    .unified-book-faceout.blurred-backdrop.dark.no-metadata-layout {
        background: #232323;
    }

    .unified-book-faceout.blurred-backdrop .ubf-book-info a {
        outline-offset: -2px;
    }

    .unified-book-faceout.list {
        width: 100%;
    }

    /* TODO remove fallbacks when token v2 migration is complete */
    .unified-book-faceout.list .ubf-metadata {
        padding-left: min(var(--bds-size-spacing-x-small), 2vw);
    }

    .unified-book-faceout.blurred-backdrop .ubf-metadata {
        padding: 0 var(--bds-size-spacing-x-small) var(--bds-size-spacing-x-small);
    }

    .unified-book-faceout.metadata-only {
        width: auto;
    }

    .grid .star-rating,
    .standardV2 .star-rating {
        margin: 0;
    }

    .grid.unified-book-faceout,
    .standardV2.unified-book-faceout {
        flex-direction: column;
    }

    .grid.unified-book-faceout {
        width: 100%;
    }

    .metadata-badge-slot {
        height: 28px;
    }

    .metadata-badge-slot.hidden {
        visibility: hidden;
    }

    .grid .metadata-badge-slot {
        background: rgba(0, 0, 0, 3%);
        border-radius: var(--bds-size-spacing-x-small) var(--bds-size-spacing-x-small) 0 0;
        overflow: hidden;
    }

    .program-badge-wrapper {
        height: 20px;
        display: flex;
        align-items: center;
    }

    /* stylelint-enable selector-class-pattern */
`,At()],zt=v`
    :host {
        font-family: var(--bds-font-family-functional-body);
    }

    .sponsored {
        color: var(--bds-color-functional-neutral-on-surface-variant);
        font-size: var(--bds-size-font-functional-body-small);
        line-height: var(--bds-size-line-height-functional-body-small);
    }

    .info-icon {
        margin-left: var(--bds-size-spacing-2x-small);
    }

    .mobile .info-icon,
    .tablet .info-icon {
        display: none;
    }
`;e.BookSponsored=class extends ue{constructor(){super(...arguments),this.isSponsored=!1}render(){return nt(this.isSponsored,(()=>{var e;return W`<div class="sponsored ${null===(e=this.renderContext)||void 0===e?void 0:e.devicetype}">
                Sponsored
                <img
                    class="info-icon"
                    alt=""
                    src="https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/info.svg" />
            </div>`}))}},e.BookSponsored.styles=zt,t([xe({type:Boolean})],e.BookSponsored.prototype,"isSponsored",void 0),t([fe({context:Pe,subscribe:!0})],e.BookSponsored.prototype,"renderContext",void 0),e.BookSponsored=t([Be("bds-book-sponsored"),pt],e.BookSponsored);var Lt=[v`
    :host {
        font-family: var(--bds-font-family-functional-body);
    }

    .bookTitleContent {
        min-width: min(140px, 100%);
    }

    a {
        text-decoration: none;
    }

    .primaryText,
    .primaryText a {
        color: var(--bds-color-functional-neutral-on-surface);
    }

    .primaryText {
        font-size: var(--bds-size-font-functional-body-medium);
        line-height: var(--bds-size-line-height-functional-body-small);

        ${mt(2)};
    }

    .secondaryText,
    .tertiaryText {
        color: var(--bds-color-functional-neutral-on-surface-variant);
        font-size: var(--bds-size-font-functional-body-small);
        line-height: var(--bds-size-line-height-functional-body-small);

        ${mt(2)};
    }

    .secondaryText a,
    .tertiaryText a {
        text-decoration: underline;
        color: var(--bds-link-color-text-active);
    }

    .secondaryText a:hover,
    .tertiaryText a:hover {
        color: var(--bds-link-color-text-hover);
    }

    /* TODO remove fallbacks when token v2 migration is complete */
    .compact.primaryText,
    .compact.secondaryText {
        font-size: var(--bds-size-font-functional-body-small);

        ${mt(1)};
    }

    .compact.primaryText {
        font-weight: bold;
        color: var(--bds-color-functional-neutral-on-surface);
    }

    .compact.secondaryText {
        color: var(--bds-color-functional-neutral-on-surface-variant);
    }

    .compact.primaryText.primaryTextOnly {
        ${mt(2)};
    }

    .boldText {
        font-weight: bold;
    }

    :is(h1, h2, h3, h4, h5, h6) {
        all: inherit;
        position: relative;
    }
`,At()];e.BookTitleContent=class extends ue{constructor(){super(...arguments),this.suppressPrimaryAria=!1,this.suppressSecondaryAria=!1,this.suppressTertiaryAria=!1,this.layout="regular"}renderTitleSlot(e,t,i=!1){if(!this.hasValidTitleContent(t))return Q;const a=t.map(((e,a)=>{const o=a<(null==t?void 0:t.length)-1?", ":"";return this.getTitleContentWrapper(e,o,i,e.headingLevel)}));return W`<div class="${e} ${this.layout}">${a}</div>`}getTitleContentWrapper(e,t,i,a){const o=W`${e.displayText}${nt(e.appendedInlineContent,(()=>W`${e.appendedInlineContent}`))}${t}`,r=e.language,s=e.enableLink&&e.url,n=e.isBold?"boldText":void 0;let l;switch(a){case 1:l=W`<h1
                    class=${rt(n)}
                    lang=${rt(r)}
                    aria-hidden=${i}>
                    ${o}
                </h1>`;break;case 2:l=W`<h2
                    class=${rt(n)}
                    lang=${rt(r)}
                    aria-hidden=${i}>
                    ${o}
                </h2>`;break;case 3:l=W`<h3
                    class=${rt(n)}
                    lang=${rt(r)}
                    aria-hidden=${i}>
                    ${o}
                </h3>`;break;case 4:l=W`<h4
                    class=${rt(n)}
                    lang=${rt(r)}
                    aria-hidden=${i}>
                    ${o}
                </h4>`;break;case 5:l=W`<h5
                    class=${rt(n)}
                    lang=${rt(r)}
                    aria-hidden=${i}>
                    ${o}
                </h5>`;break;case 6:l=W`<h6
                    class=${rt(n)}
                    lang=${rt(r)}
                    aria-hidden=${i}>
                    ${o}
                </h6>`;break;default:l=W`<span
                    class=${rt(n)}
                    lang=${rt(r)}
                    aria-hidden="${i}"
                    @click=${e.handleClick}
                    >${o}</span
                >`}return nt(e.displayText,(()=>s?W`<a
                      @click=${e.handleClick}
                      href="${e.url}"
                      aria-hidden="${i}"
                      tabindex="${i?-1:0}">
                      ${l}</a
                  >`:l))}hasValidTitleContent(e){return!(!Array.isArray(e)||!e.length)}getPrimaryTextCssClass(){let e="primaryText";return"compact"!==this.layout||this.hasValidTitleContent(this.secondaryTitleContent)||(e+=" primaryTextOnly"),e}render(){var e;return this.primaryTitleContent||this.secondaryTitleContent||this.tertiaryTitleContent?W`<div class="bookTitleContent ${rt(null===(e=this.renderContext)||void 0===e?void 0:e.devicetype)}">
                ${this.renderTitleSlot(this.getPrimaryTextCssClass(),this.primaryTitleContent,this.suppressPrimaryAria)}
                ${this.renderTitleSlot("secondaryText",this.secondaryTitleContent,this.suppressSecondaryAria)}
                ${this.renderTitleSlot("tertiaryText",this.tertiaryTitleContent,this.suppressTertiaryAria)}
            </div> `:Q}},e.BookTitleContent.styles=Lt,t([xe({type:Array})],e.BookTitleContent.prototype,"primaryTitleContent",void 0),t([xe({type:Array})],e.BookTitleContent.prototype,"secondaryTitleContent",void 0),t([xe({type:Array})],e.BookTitleContent.prototype,"tertiaryTitleContent",void 0),t([xe({type:Boolean})],e.BookTitleContent.prototype,"suppressPrimaryAria",void 0),t([xe({type:Boolean})],e.BookTitleContent.prototype,"suppressSecondaryAria",void 0),t([xe({type:Boolean})],e.BookTitleContent.prototype,"suppressTertiaryAria",void 0),t([xe({type:String})],e.BookTitleContent.prototype,"layout",void 0),t([fe({context:Pe,subscribe:!0})],e.BookTitleContent.prototype,"renderContext",void 0),e.BookTitleContent=t([Be("bds-book-title-content"),pt],e.BookTitleContent);var Rt=v`
    :host {
        font-family: var(--bds-font-family-functional-body);
    }

    /* Adding config based wrap for a11y compliance */
    .allowWrap {
        flex-wrap: wrap; // To wrap star ratings when scaled/ratings go out of view.
        max-width: 50vw; // Placeholder width to prevent star ratings from going out of view when scaled.
    }

    .stars-container {
        display: flex;
        align-items: center;
        white-space: nowrap;
    }

    .rating {
        color: var(--bds-color-functional-neutral-on-surface);
    }

    .stars {
        align-items: center;
        display: flex;
        flex-shrink: 0;
    }

    .starRatingLinkDisabled,
    .starRatingLink {
        text-decoration: none;
        align-items: center;
        display: flex;
    }

    .halfStar:dir(rtl) {
        transform: scaleX(-1);
    }

    .numberOfReviews {
        color: var(--bds-color-functional-neutral-on-surface-variant);
    }

    .starRatingLink .numberOfReviews {
        text-decoration: underline;
        color: var(--bds-link-color-text-active);
    }

    .starRatingLink .numberOfReviews:hover {
        color: var(--bds-link-color-text-hover);
    }
`,Ot={resources:{bds_audible_sample_button_label:"Audible Sample",bds_author_follow_label:" Following",bds_author_unfollow_label:"+ Follow",bds_download_sample_label:"Download Sample",bds_blurb_read_full_article_label:"Read Full Article",bds_ubf_book_single_other_format_label:"Other format:",bds_ubf_book_other_formats_label:"Other formats:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} more",bds_collection_text_in_series_alt_text_prefix:{value:"in series"},sample_text:"Sample text here",sample_button:"Click sample {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} reviews"},bds_add_to_list_button_common_label:{value:"Add to list"},bds_add_to_library_button_common_label:{value:"Add to list"},bds_see_details_button_common_label:{value:"see all details"},bds_read_now_button_label:{value:"Read now"},bds_discover_new_stories_button_rare_label:{value:"Discover new stories"},bds_shuffle_button_rare_label:{value:"shuffle"},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"with {savingsPercentage} savings"},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title} by {authors}"},bds_previous_set_of_slides:{value:"Previous set of slides"},bds_next_set_of_slides:{value:"Next set of slides"},bds_this_title_release_date_text:{value:"This title will be released on {releaseDate}"}}},Mt={resources:{bds_audible_sample_button_label:"Ejemplo de Audible",bds_author_follow_label:" Siguiendo",bds_author_unfollow_label:"+ Seguir",bds_download_sample_label:"Descargar fragmento",bds_blurb_read_full_article_label:"Leer artculo completo",bds_ubf_book_single_other_format_label:"Otro formato:",bds_ubf_book_other_formats_label:"Otros formatos:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} ms",bds_collection_text_in_series_alt_text_prefix:{value:"de la serie"},sample_text:"Fragmento aqu",sample_button:"Haz clic en el fragmento {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} reseas"},bds_add_to_list_button_common_label:{value:"Aadir a la lista"},bds_add_to_library_button_common_label:{value:"Aadir a la lista"},bds_see_details_button_common_label:{value:"ver todos los detalles"},bds_read_now_button_label:{value:"Leer ahora"},bds_discover_new_stories_button_rare_label:{value:"Descubrir nuevas historias"},bds_shuffle_button_rare_label:{value:"modo aleatorio"},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"con un ahorro del {savingsPercentage}"},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title} de {authors}"},bds_previous_set_of_slides:{value:"Anterior grupo de portadas"},bds_next_set_of_slides:{value:"Siguiente grupo de portadas"},bds_this_title_release_date_text:{value:"El lanzamiento de este libro se producir el {releaseDate}"}}},Et={resources:{bds_audible_sample_button_label:"Extrait du livre audio Audible",bds_author_follow_label:" Suivi",bds_author_unfollow_label:"+ Suivre",bds_download_sample_label:"Tlcharger lextrait",bds_blurb_read_full_article_label:"Lire l'article dans son intgralit",bds_ubf_book_single_other_format_label:"Autre format:",bds_ubf_book_other_formats_label:"Autres formats:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} supplmentaires",bds_collection_text_in_series_alt_text_prefix:{value:"dans la srie"},sample_text:"Vous trouverez ici un extrait",sample_button:"Cliquez sur un extrait {stringText}{numberValue}{stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} valuations"},bds_add_to_list_button_common_label:{value:"Ajouter  la liste"},bds_add_to_library_button_common_label:{value:"Ajouter  la liste"},bds_see_details_button_common_label:{value:"afficher toutes les informations"},bds_read_now_button_label:{value:"Lire maintenant"},bds_discover_new_stories_button_rare_label:{value:"Dcouvrez de nouveaux rcits"},bds_shuffle_button_rare_label:{value:"rsultats alatoires"},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"avec des rductions de lordre de {savingsPercentage}"},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title} de {authors}"},bds_previous_set_of_slides:{value:"Srie de diapositives prcdente"},bds_next_set_of_slides:{value:"Prochaine srie de diapositives"},bds_this_title_release_date_text:{value:"Cet ouvrage paratra le {releaseDate}"}}},Ft={resources:{bds_audible_sample_button_label:"Amostra do Audible",bds_author_follow_label:" Seguindo",bds_author_unfollow_label:"+ Seguir",bds_download_sample_label:"Fazer download da amostra",bds_blurb_read_full_article_label:"Leia o artigo completo",bds_ubf_book_single_other_format_label:"Outro formato:",bds_ubf_book_other_formats_label:"Outros formatos:",bds_ubf_book_other_formats_more_text:"+ outros {numberOfFormats} formatos",bds_collection_text_in_series_alt_text_prefix:{value:"em srie"},sample_text:"Texto da amostra aqui",sample_button:"Clique na amostra {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} avaliaes"},bds_add_to_list_button_common_label:{value:"Adicionar  lista"},bds_add_to_library_button_common_label:{value:"Adicionar  lista"},bds_see_details_button_common_label:{value:"ver todos os detalhes"},bds_read_now_button_label:{value:"Ler agora"},bds_discover_new_stories_button_rare_label:{value:"Descobrir novas histrias"},bds_shuffle_button_rare_label:{value:"ordem aleatria"},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"com economia de {savingsPercentage}"},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title} por {authors}"},bds_previous_set_of_slides:{value:"Conjunto de slides anterior"},bds_next_set_of_slides:{value:"Prximo conjunto de slides"},bds_this_title_release_date_text:{value:"Este livro ser lanado em {releaseDate}"}}};const Dt={"ar-AE":{resources:{bds_audible_sample_button_label:" Audible",bds_author_follow_label:"  ",bds_author_unfollow_label:"+ ",bds_download_sample_label:" ",bds_blurb_read_full_article_label:"  ",bds_ubf_book_single_other_format_label:" :",bds_ubf_book_other_formats_label:" :",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats}   ",bds_collection_text_in_series_alt_text_prefix:{value:" "},sample_text:"  ",sample_button:"   {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary} {numberOfReviews}  "},bds_add_to_list_button_common_label:{value:"  "},bds_add_to_library_button_common_label:{value:"  "},bds_see_details_button_common_label:{value:"   "},bds_read_now_button_label:{value:" "},bds_discover_new_stories_button_rare_label:{value:"  "},bds_shuffle_button_rare_label:{value:""},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:" {savingsPercentage}  "},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title}  {authors}"},bds_previous_set_of_slides:{value:"   "},bds_next_set_of_slides:{value:"   "},bds_this_title_release_date_text:{value:"     {releaseDate}"}}},"bn-IN":{resources:{bds_audible_sample_button_label:"Audible ",bds_author_follow_label:"  ",bds_author_unfollow_label:"+  ",bds_download_sample_label:"  ",bds_blurb_read_full_article_label:"  ",bds_ubf_book_single_other_format_label:" :",bds_ubf_book_other_formats_label:" :",bds_ubf_book_other_formats_more_text:"+  {numberOfFormats}",bds_collection_text_in_series_alt_text_prefix:{value:""},sample_text:"   ",sample_button:" {stringText}{numberValue}{stringText}   ",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} "},bds_add_to_list_button_common_label:{value:"  "},bds_add_to_library_button_common_label:{value:"  "},bds_see_details_button_common_label:{value:"  "},bds_read_now_button_label:{value:" "},bds_discover_new_stories_button_rare_label:{value:"   "},bds_shuffle_button_rare_label:{value:" "},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay}{savingsPercentage}{audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"{savingsPercentage}  "},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{authors}-  {title}"},bds_previous_set_of_slides:{value:"  "},bds_next_set_of_slides:{value:"  "},bds_this_title_release_date_text:{value:"  {releaseDate}-  "}}},"cs-CZ":{resources:{bds_audible_sample_button_label:"Ukzka Audible",bds_author_follow_label:" Sledovan",bds_author_unfollow_label:"+ Sledovat",bds_download_sample_label:"Sthnout ukzku",bds_blurb_read_full_article_label:"Pest cel lnek",bds_ubf_book_single_other_format_label:"Jin formt:",bds_ubf_book_other_formats_label:"Jin formty:",bds_ubf_book_other_formats_more_text:"+{numberOfFormats} dal",bds_collection_text_in_series_alt_text_prefix:{value:"vsrii"},sample_text:"Ukzkov text zde",sample_button:"Ukzka ke kliknut {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, poet recenz:{numberOfReviews}"},bds_add_to_list_button_common_label:{value:"Pidat do seznamu"},bds_add_to_library_button_common_label:{value:"Pidat do seznamu"},bds_see_details_button_common_label:{value:"Zobrazit vechny podrobnosti"},bds_read_now_button_label:{value:"Pest hned"},bds_discover_new_stories_button_rare_label:{value:"Prozkoumat nov pbhy"},bds_shuffle_button_rare_label:{value:"Nhodn vbr"},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"s sporami ve vi {savingsPercentage}"},bds_savings_percentage_text:{value:"{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title} od {authors}"},bds_previous_set_of_slides:{value:"Pedchoz sada snmk"},bds_next_set_of_slides:{value:"Dal sada snmk"},bds_this_title_release_date_text:{value:"Tento titul bude vydn dne {releaseDate}"}}},"de-DE":{resources:{bds_audible_sample_button_label:"Audible-Hrprobe",bds_author_follow_label:" Abonniert",bds_author_unfollow_label:"+ Abonnieren",bds_download_sample_label:"Leseprobe herunterladen",bds_blurb_read_full_article_label:"Vollstndigen Artikel lesen",bds_ubf_book_single_other_format_label:"Anderes Format:",bds_ubf_book_other_formats_label:"Andere Formate:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} weitere",bds_collection_text_in_series_alt_text_prefix:{value:"in der Serie"},sample_text:"Beispieltext hier",sample_button:"Leseprobe anklicken{stringText}{numberValue}{stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} Rezensionen"},bds_add_to_list_button_common_label:{value:"Zur Liste hinzufgen"},bds_add_to_library_button_common_label:{value:"Zur Liste hinzufgen"},bds_see_details_button_common_label:{value:"Alle Details anzeigen"},bds_read_now_button_label:{value:"Jetzt lesen"},bds_discover_new_stories_button_rare_label:{value:"Neue Geschichten entdecken"},bds_shuffle_button_rare_label:{value:"Zufllig anordnen"},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"mit {savingsPercentage} Ermigung"},bds_savings_percentage_text:{value:"{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title} von {authors}"},bds_previous_set_of_slides:{value:"Vorherige Auswahl an Bchern"},bds_next_set_of_slides:{value:"Nchste Auswahl an Bchern"},bds_this_title_release_date_text:{value:"Dieser Titel wird am {releaseDate} verffentlicht"}}},"en-AE":Ot,"en-AU":Ot,"en-CA":Ot,"en-GB":Ot,"en-IN":Ot,"en-NG":Ot,"en-SG":Ot,"en-US":Ot,"en-ZA":Ot,"es-ES":Mt,"es-MX":Mt,"es-US":Mt,"fr-BE":Et,"fr-CA":Et,"fr-FR":Et,"he-IL":{resources:{bds_audible_sample_button_label:"  Audible",bds_author_follow_label:" ",bds_author_unfollow_label:"+ ",bds_download_sample_label:" ",bds_blurb_read_full_article_label:"   ",bds_ubf_book_single_other_format_label:" :",bds_ubf_book_other_formats_label:" :",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} ",bds_collection_text_in_series_alt_text_prefix:{value:""},sample_text:"  ",sample_button:"    {stringText}{numberValue}{stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} "},bds_add_to_list_button_common_label:{value:" "},bds_add_to_library_button_common_label:{value:" "},bds_see_details_button_common_label:{value:"   "},bds_read_now_button_label:{value:" "},bds_discover_new_stories_button_rare_label:{value:"  "},bds_shuffle_button_rare_label:{value:""},bds_basis_price_text:{value:"{label}{basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:" {savingsPercentage} "},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title}  {authors}"},bds_previous_set_of_slides:{value:"  "},bds_next_set_of_slides:{value:"  "},bds_this_title_release_date_text:{value:"     {releaseDate}"}}},"hi-IN":{resources:{bds_audible_sample_button_label:" ",bds_author_follow_label:"   ",bds_author_unfollow_label:"+  ",bds_download_sample_label:"  ",bds_blurb_read_full_article_label:"  ",bds_ubf_book_single_other_format_label:" :",bds_ubf_book_other_formats_label:" :",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} ",bds_collection_text_in_series_alt_text_prefix:{value:" "},sample_text:"  ",sample_button:" {stringText} {numberValue} {stringText}  ",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} "},bds_add_to_list_button_common_label:{value:"  "},bds_add_to_library_button_common_label:{value:"  "},bds_see_details_button_common_label:{value:"  "},bds_read_now_button_label:{value:" "},bds_discover_new_stories_button_rare_label:{value:"  "},bds_shuffle_button_rare_label:{value:" "},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"{savingsPercentage}   "},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title}   {authors}"},bds_previous_set_of_slides:{value:"   "},bds_next_set_of_slides:{value:"   "},bds_this_title_release_date_text:{value:"  {releaseDate}    "}}},"it-IT":{resources:{bds_audible_sample_button_label:"Estratto Audible",bds_author_follow_label:" Storie seguite",bds_author_unfollow_label:"+ Segui",bds_download_sample_label:"Scarica estratto",bds_blurb_read_full_article_label:"Leggi l'articolo completo",bds_ubf_book_single_other_format_label:"Altro formato:",bds_ubf_book_other_formats_label:"Altri formati:",bds_ubf_book_other_formats_more_text:"+ altri {numberOfFormats}",bds_collection_text_in_series_alt_text_prefix:{value:"nella serie"},sample_text:"Testo dell'estratto qui",sample_button:"Fai clic su un estratto {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} recensioni"},bds_add_to_list_button_common_label:{value:"Aggiungi allelenco"},bds_add_to_library_button_common_label:{value:"Aggiungi allelenco"},bds_see_details_button_common_label:{value:"visualizza tutti i dettagli"},bds_read_now_button_label:{value:"Leggi ora"},bds_discover_new_stories_button_rare_label:{value:"Scopri nuove storie"},bds_shuffle_button_rare_label:{value:"ordine casuale"},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"con un risparmio del {savingsPercentage}"},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title} di {authors}"},bds_previous_set_of_slides:{value:"Serie di diapositive precedente"},bds_next_set_of_slides:{value:"Serie di diapositive successiva"},bds_this_title_release_date_text:{value:"Questo titolo verr rilasciato il giorno {releaseDate}"}}},"ja-JP":{resources:{bds_audible_sample_button_label:"Audible ",bds_author_follow_label:" ",bds_author_unfollow_label:"+ ",bds_download_sample_label:"",bds_blurb_read_full_article_label:"",bds_ubf_book_single_other_format_label:":",bds_ubf_book_other_formats_label:":",bds_ubf_book_other_formats_more_text:"{numberOfFormats} ",bds_collection_text_in_series_alt_text_prefix:{value:":"},sample_text:" ",sample_button:" {stringText} {numberValue} {stringText} ",bds_star_rating_review_count_summary:{value:"{ratingSummary} ({numberOfReviews} )"},bds_add_to_list_button_common_label:{value:""},bds_add_to_library_button_common_label:{value:""},bds_see_details_button_common_label:{value:""},bds_read_now_button_label:{value:""},bds_discover_new_stories_button_rare_label:{value:""},bds_shuffle_button_rare_label:{value:""},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"{savingsPercentage} "},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title}({authors} )"},bds_previous_set_of_slides:{value:" "},bds_next_set_of_slides:{value:" "},bds_this_title_release_date_text:{value:": {releaseDate}"}}},"kn-IN":{resources:{bds_audible_sample_button_label:"Audible ",bds_author_follow_label:"  ",bds_author_unfollow_label:"+ ",bds_download_sample_label:"  ",bds_blurb_read_full_article_label:"  ",bds_ubf_book_single_other_format_label:" :",bds_ubf_book_other_formats_label:" :",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} ",bds_collection_text_in_series_alt_text_prefix:{value:""},sample_text:"  ",sample_button:"   {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} "},bds_add_to_list_button_common_label:{value:" "},bds_add_to_library_button_common_label:{value:" "},bds_see_details_button_common_label:{value:"  "},bds_read_now_button_label:{value:" "},bds_discover_new_stories_button_rare_label:{value:"  "},bds_shuffle_button_rare_label:{value:" "},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"{savingsPercentage} "},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{authors}  {title}"},bds_previous_set_of_slides:{value:"  "},bds_next_set_of_slides:{value:"  "},bds_this_title_release_date_text:{value:"  {releaseDate}   "}}},"ko-KR":{resources:{bds_audible_sample_button_label:"Audible ",bds_author_follow_label:"  ",bds_author_unfollow_label:"+ ",bds_download_sample_label:" ",bds_blurb_read_full_article_label:"  ",bds_ubf_book_single_other_format_label:" :",bds_ubf_book_other_formats_label:" :",bds_ubf_book_other_formats_more_text:"+{numberOfFormats}  ",bds_collection_text_in_series_alt_text_prefix:{value:""},sample_text:"  ",sample_button:"  {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} "},bds_add_to_list_button_common_label:{value:" "},bds_add_to_library_button_common_label:{value:" "},bds_see_details_button_common_label:{value:"   "},bds_read_now_button_label:{value:" "},bds_discover_new_stories_button_rare_label:{value:"  "},bds_shuffle_button_rare_label:{value:""},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"{savingsPercentage}  "},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title}(: {authors})"},bds_previous_set_of_slides:{value:"  "},bds_next_set_of_slides:{value:"  "},bds_this_title_release_date_text:{value:"  {releaseDate}  "}}},"ml-IN":{resources:{bds_audible_sample_button_label:"Audible ",bds_author_follow_label:" ",bds_author_unfollow_label:"+ ",bds_download_sample_label:" ",bds_blurb_read_full_article_label:"  ",bds_ubf_book_single_other_format_label:" :",bds_ubf_book_other_formats_label:" :",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} ",bds_collection_text_in_series_alt_text_prefix:{value:""},sample_text:"   ",sample_button:"   {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} "},bds_add_to_list_button_common_label:{value:" "},bds_add_to_library_button_common_label:{value:" "},bds_see_details_button_common_label:{value:"  "},bds_read_now_button_label:{value:" "},bds_discover_new_stories_button_rare_label:{value:"  "},bds_shuffle_button_rare_label:{value:" "},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"{savingsPercentage} "},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{authors}  {title}"},bds_previous_set_of_slides:{value:"  "},bds_next_set_of_slides:{value:"  "},bds_this_title_release_date_text:{value:"  {releaseDate}-  "}}},"mr-IN":{resources:{bds_audible_sample_button_label:"Audible ",bds_author_follow_label:" ",bds_author_unfollow_label:"+  ",bds_download_sample_label:"  ",bds_blurb_read_full_article_label:"  ",bds_ubf_book_single_other_format_label:" :",bds_ubf_book_other_formats_label:" :",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} ",bds_collection_text_in_series_alt_text_prefix:{value:""},sample_text:"  ",sample_button:"{stringText} {numberValue} {stringText}   ",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} "},bds_add_to_list_button_common_label:{value:" "},bds_add_to_library_button_common_label:{value:" "},bds_see_details_button_common_label:{value:"  "},bds_read_now_button_label:{value:" "},bds_discover_new_stories_button_rare_label:{value:"  "},bds_shuffle_button_rare_label:{value:""},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"{savingsPercentage} "},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{authors}  {title}"},bds_previous_set_of_slides:{value:"  "},bds_next_set_of_slides:{value:"  "},bds_this_title_release_date_text:{value:"  {releaseDate}   "}}},"nl-NL":{resources:{bds_audible_sample_button_label:"Audible-fragment",bds_author_follow_label:" Volgend",bds_author_unfollow_label:"+ Volgen",bds_download_sample_label:"Fragment downloaden",bds_blurb_read_full_article_label:"Het volledige artikel lezen",bds_ubf_book_single_other_format_label:"Andere indeling:",bds_ubf_book_other_formats_label:"Andere uitvoeringen:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} meer",bds_collection_text_in_series_alt_text_prefix:{value:"in serie"},sample_text:"Tekst van fragment hier",sample_button:"Klik op fragment {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} recensies"},bds_add_to_list_button_common_label:{value:"Toevoegen aan lijst"},bds_add_to_library_button_common_label:{value:"Toevoegen aan lijst"},bds_see_details_button_common_label:{value:"alle details bekijken"},bds_read_now_button_label:{value:"Nu lezen"},bds_discover_new_stories_button_rare_label:{value:"Nieuwe verhalen ontdekken"},bds_shuffle_button_rare_label:{value:"shuffle"},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay}{savingsPercentage}{audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"met korting van {savingsPercentage}"},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title} door {authors}"},bds_previous_set_of_slides:{value:"Vorige set slides"},bds_next_set_of_slides:{value:"Volgende set slides"},bds_this_title_release_date_text:{value:"Dit boek wordt uitgebracht op {releaseDate}"}}},"pl-PL":{resources:{bds_audible_sample_button_label:"Fragment z Audible",bds_author_follow_label:" Obserwujesz",bds_author_unfollow_label:"+ Obserwuj",bds_download_sample_label:"Pobierz fragment",bds_blurb_read_full_article_label:"Przeczytaj cay artyku",bds_ubf_book_single_other_format_label:"Inny format:",bds_ubf_book_other_formats_label:"Inne formaty:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} wicej",bds_collection_text_in_series_alt_text_prefix:{value:"w serii"},sample_text:"Fragment tekstu tutaj",sample_button:"Kliknij fragment {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} recenzje"},bds_add_to_list_button_common_label:{value:"Dodaj do listy"},bds_add_to_library_button_common_label:{value:"Dodaj do listy"},bds_see_details_button_common_label:{value:"zobacz wszystkie szczegy"},bds_read_now_button_label:{value:"Czytaj teraz"},bds_discover_new_stories_button_rare_label:{value:"Poznaj nowe historie"},bds_shuffle_button_rare_label:{value:"przemieszaj"},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay}{savingsPercentage}{audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay}{savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay}{audibleMessage}"},bds_savings_percentage_aria_text:{value:"oszczdzasz {savingsPercentage}"},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title} autorstwa {authors}"},bds_previous_set_of_slides:{value:"Poprzedni zestaw slajdw"},bds_next_set_of_slides:{value:"Nastpny zestaw slajdw"},bds_this_title_release_date_text:{value:"Ten tytu zostanie wydany {releaseDate}"}}},"pt-BR":Ft,"pt-PT":Ft,"sv-SE":{resources:{bds_audible_sample_button_label:"Hrbart prov",bds_author_follow_label:"Fljer",bds_author_unfollow_label:"+ Flj",bds_download_sample_label:"Ladda ned prov",bds_blurb_read_full_article_label:"Ls hela artikeln",bds_ubf_book_single_other_format_label:"Annat format:",bds_ubf_book_other_formats_label:"Andra format:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} till",bds_collection_text_in_series_alt_text_prefix:{value:"i serien"},sample_text:"Textprov hr",sample_button:"Klicka p prov{stringText}{numberValue}{stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} recensioner"},bds_add_to_list_button_common_label:{value:"Lgg till i lista"},bds_add_to_library_button_common_label:{value:"Lgg till i lista"},bds_see_details_button_common_label:{value:"se all information"},bds_read_now_button_label:{value:"Ls nu"},bds_discover_new_stories_button_rare_label:{value:"Upptck nya berttelser"},bds_shuffle_button_rare_label:{value:"blanda"},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"med en besparing p {savingsPercentage}"},bds_savings_percentage_text:{value:"{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title} av {authors}"},bds_previous_set_of_slides:{value:"Fregende uppsttning bilder"},bds_next_set_of_slides:{value:"Nsta uppsttning bilder"},bds_this_title_release_date_text:{value:"Denna titel slpps den {releaseDate}"}}},"ta-IN":{resources:{bds_audible_sample_button_label:" ",bds_author_follow_label:" ",bds_author_unfollow_label:"+ ",bds_download_sample_label:" ",bds_blurb_read_full_article_label:"  ",bds_ubf_book_single_other_format_label:" :",bds_ubf_book_other_formats_label:" :",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} ",bds_collection_text_in_series_alt_text_prefix:{value:""},sample_text:"   ",sample_button:"{stringText} {numberValue} {stringText}  ",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} "},bds_add_to_list_button_common_label:{value:" "},bds_add_to_library_button_common_label:{value:" "},bds_see_details_button_common_label:{value:"  "},bds_read_now_button_label:{value:" "},bds_discover_new_stories_button_rare_label:{value:"  "},bds_shuffle_button_rare_label:{value:" "},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"{savingsPercentage} "},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{authors}-  {title}"},bds_previous_set_of_slides:{value:"  "},bds_next_set_of_slides:{value:"  "},bds_this_title_release_date_text:{value:"  {releaseDate}  "}}},"te-IN":{resources:{bds_audible_sample_button_label:" ",bds_author_follow_label:" ",bds_author_unfollow_label:"+ ",bds_download_sample_label:"  ",bds_blurb_read_full_article_label:"  ",bds_ubf_book_single_other_format_label:" :",bds_ubf_book_other_formats_label:" :",bds_ubf_book_other_formats_more_text:" + {numberOfFormats}",bds_collection_text_in_series_alt_text_prefix:{value:""},sample_text:"   ",sample_button:"   {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} "},bds_add_to_list_button_common_label:{value:" "},bds_add_to_library_button_common_label:{value:" "},bds_see_details_button_common_label:{value:"  "},bds_read_now_button_label:{value:" "},bds_discover_new_stories_button_rare_label:{value:"  "},bds_shuffle_button_rare_label:{value:" "},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"{savingsPercentage} "},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{authors}  {title}"},bds_previous_set_of_slides:{value:"  "},bds_next_set_of_slides:{value:"  "},bds_this_title_release_date_text:{value:"  {releaseDate}  "}}},"tr-TR":{resources:{bds_audible_sample_button_label:"Audible rnei",bds_author_follow_label:" Takip ediliyor",bds_author_unfollow_label:"+ Takip et",bds_download_sample_label:"rnek Para ndir",bds_blurb_read_full_article_label:"Makalenin Tamamn Oku",bds_ubf_book_single_other_format_label:"Dier biim:",bds_ubf_book_other_formats_label:"Dier biimler:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} daha",bds_collection_text_in_series_alt_text_prefix:{value:"seri halinde"},sample_text:"rnek metin buraya gelecek",sample_button:"rnee tklayn {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} deerlendirme"},bds_add_to_list_button_common_label:{value:"Listeye ekle"},bds_add_to_library_button_common_label:{value:"Listeye ekle"},bds_see_details_button_common_label:{value:"tm ayrntlar grn"},bds_read_now_button_label:{value:"imdi okuyun"},bds_discover_new_stories_button_rare_label:{value:"Yeni hikayeleri kefedin"},bds_shuffle_button_rare_label:{value:"kartr"},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"{savingsPercentage} tasarrufla"},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title} - {authors}"},bds_previous_set_of_slides:{value:"nceki slayt seti"},bds_next_set_of_slides:{value:"Sonraki slayt seti"},bds_this_title_release_date_text:{value:"Bu kitap, {releaseDate} tarihinde yaymlanacak"}}},"zh-CN":{resources:{bds_audible_sample_button_label:"Audible ",bds_author_follow_label:" ",bds_author_unfollow_label:"+ ",bds_download_sample_label:"",bds_blurb_read_full_article_label:"",bds_ubf_book_single_other_format_label:"",bds_ubf_book_other_formats_label:"",bds_ubf_book_other_formats_more_text:" {numberOfFormats} ",bds_collection_text_in_series_alt_text_prefix:{value:""},sample_text:"",sample_button:" {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}{numberOfReviews} "},bds_add_to_list_button_common_label:{value:""},bds_add_to_library_button_common_label:{value:""},bds_see_details_button_common_label:{value:""},bds_read_now_button_label:{value:""},bds_discover_new_stories_button_rare_label:{value:""},bds_shuffle_button_rare_label:{value:""},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:" {savingsPercentage}"},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title}{authors}"},bds_previous_set_of_slides:{value:""},bds_next_set_of_slides:{value:""},bds_this_title_release_date_text:{value:" {releaseDate} "}}},"zh-TW":{resources:{bds_audible_sample_button_label:"Audible ",bds_author_follow_label:" ",bds_author_unfollow_label:"+ ",bds_download_sample_label:"",bds_blurb_read_full_article_label:"",bds_ubf_book_single_other_format_label:"",bds_ubf_book_other_formats_label:"",bds_ubf_book_other_formats_more_text:"+  {numberOfFormats} ",bds_collection_text_in_series_alt_text_prefix:{value:""},sample_text:"",sample_button:" {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}{numberOfReviews} "},bds_add_to_list_button_common_label:{value:""},bds_add_to_library_button_common_label:{value:""},bds_see_details_button_common_label:{value:""},bds_read_now_button_label:{value:""},bds_discover_new_stories_button_rare_label:{value:""},bds_shuffle_button_rare_label:{value:""},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:" {savingsPercentage}"},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title}{authors}"},bds_previous_set_of_slides:{value:""},bds_next_set_of_slides:{value:""},bds_this_title_release_date_text:{value:" {releaseDate} "}}}},Ut="en-US";function Ht(e,t,i){var a,o,r;const s=(null===(o=null===(a=Dt[null!=t?t:Ut])||void 0===a?void 0:a.resources)||void 0===o?void 0:o[e])||(null===(r=Dt[Ut].resources)||void 0===r?void 0:r[e])||"";return void 0===i?Nt(s):function(e,t){for(const i in t){const a=new RegExp("{"+i+"}","g");e=e.replace(a,t[i])}return e}(Nt(s),i)}function Nt(e){return"object"==typeof e?e.value:e}function Vt(){return"rtl"===window.document.dir}var jt;e.StarRating=jt=class extends Ne{constructor(){super(...arguments),this.hideEmptyStars=!1,this.layout="small",this.onClick=e=>{this.handleClick&&(e.preventDefault(),this.handleClick())}}getDefaultConfiguration(){return{starIconHeight:16,starIconWidth:15,starFullIconUrl:Fe("starFullSmall.svg"),starHalfIconUrl:Fe("starHalfSmall.svg"),starEmptyIconUrl:Fe("starEmptySmall.svg"),fontSizeToken:"var(--bds-review-stars-size-text-font-small)",lineHeightToken:"var(--bds-review-stars-size-text-line-height-small)",paddingStartToken:"2px",paddingEndToken:"4px",paddingBottomToken:"1px"}}getConfigurationOverrides(){return[{targeting:{layout:"small",theme:"dark"},overrides:{starFullIconUrl:Fe("starFullSmallDark.svg"),starHalfIconUrl:Fe("starHalfSmallDark.svg"),starEmptyIconUrl:Fe("starEmptySmallDark.svg")}},{targeting:{layout:"small",devicetype:"desktop"},overrides:{fontSizeToken:"var(--bds-size-font-functional-body-small)"}},{targeting:{layout:"mini"},overrides:{starIconHeight:12,starIconWidth:11,starFullIconUrl:Fe("starFullMini.svg"),starHalfIconUrl:Fe("starHalfMini.svg"),starEmptyIconUrl:Fe("starEmptyMini.svg"),fontSizeToken:"var(--bds-size-font-functional-body-small)",lineHeightToken:"var(--bds-size-line-height-functional-body-small)",paddingBottomToken:"0"}},{targeting:{layout:"mini",theme:"dark"},overrides:{starFullIconUrl:Fe("starFullMiniDark.svg"),starHalfIconUrl:Fe("starHalfMiniDark.svg"),starEmptyIconUrl:Fe("starEmptyMiniDark.svg")}},{targeting:{layout:"mini",devicetype:"desktop"},overrides:{fontSizeToken:"var(--bds-size-font-functional-body-small)",lineHeightToken:"var(--bds-size-line-height-mini)"}},{targeting:{layout:"medium"},overrides:{starIconHeight:19,starIconWidth:18,starFullIconUrl:Fe("starFullMedium.svg"),starHalfIconUrl:Fe("starHalfMedium.svg"),starEmptyIconUrl:Fe("starEmptyMedium.svg")}},{targeting:{layout:"medium",theme:"dark"},overrides:{starFullIconUrl:Fe("starFullMediumDark.svg"),starHalfIconUrl:Fe("starHalfMediumDark.svg"),starEmptyIconUrl:Fe("starEmptyMediumDark.svg")}},{targeting:{layout:"medium",devicetype:"desktop"},overrides:{fontSizeToken:"var(--bds-size-font-functional-body-small)"}},{targeting:{layout:"standardV2"},overrides:{fontSizeToken:"var(--bds-size-font-functional-body-small)",lineHeightToken:"var(--bds-size-line-height-functional-body-small)"}}]}getNumberofReviewsDisplayString(){var e,t;return this.numberOfReviewsDisplayString?this.numberOfReviewsDisplayString:null===(e=this.numberOfReviews)||void 0===e?void 0:e.toLocaleString(null===(t=this.renderContext)||void 0===t?void 0:t.locale)}getAriaLabel(){var e;const t=this.getNumberofReviewsDisplayString();return this.altText&&t?Ht("bds_star_rating_review_count_summary",null===(e=this.renderContext)||void 0===e?void 0:e.locale,{ratingSummary:this.altText,numberOfReviews:t})||`${this.altText}, ${t}`:this.altText?this.altText:t||""}renderReviewStarAndCount(){const e=this.getRenderConfiguration(this.layout),t=[];for(let i=0;i<this.numberOfStars;i++)t.push(W`<img
                    class="fullStar"
                    alt=""
                    src="${e.starFullIconUrl}"
                    width="${e.starIconWidth}"
                    height="${e.starIconHeight}" />`);if(this.hasHalfStar&&t.push(W`<img
                    class="halfStar"
                    alt=""
                    src="${e.starHalfIconUrl}"
                    width="${e.starIconWidth}"
                    height="${e.starIconHeight}" />`),!this.hideEmptyStars){const i=jt.MAX_REVIEW_STARS-this.numberOfStars-(this.hasHalfStar?1:0);for(let a=0;a<i;a++)t.push(W`<img
                        class="emptyStar"
                        alt=""
                        src="${e.starEmptyIconUrl}"
                        width="${e.starIconWidth}"
                        height="${e.starIconHeight}" />`)}return W`
            <span
                class="stars-container ${this.allowWrap?"allowWrap":""}"
                style="font-size: ${e.fontSizeToken}; line-height: ${e.lineHeightToken}">
                ${nt(this.shortDisplayString,(()=>W`
                        <span class="rating" aria-hidden="true"> ${this.shortDisplayString} </span>
                    `))}
                <span
                    class="stars"
                    style="padding: 0 ${e.paddingEndToken} ${e.paddingBottomToken} ${this.shortDisplayString?e.paddingStartToken:"0"}">
                    ${t}
                </span>
                ${nt(this.numberOfReviewsDisplayString||this.numberOfReviews&&this.numberOfReviews>0,(()=>W`
                        <span class="numberOfReviews" aria-hidden="true">
                            ${this.getNumberofReviewsDisplayString()}
                        </span>
                    `))}
            </span>
        `}render(){return W`<div class="starRating">
            ${this.reviewUrl&&this.enableReviewsLink||this.handleClick?W`
                      <a
                          href="${rt(this.reviewUrl&&this.enableReviewsLink?this.reviewUrl:void 0)}"
                          @click=${this.onClick}
                          class="starRatingLink"
                          role="${this.handleClick?"button":"link"}"
                          aria-label=${rt(this.getAriaLabel())}>
                          ${this.renderReviewStarAndCount()}
                      </a>
                  `:W`
                      <span
                          class="starRatingLinkDisabled"
                          aria-label=${rt(this.getAriaLabel())}
                          role="text">
                          ${this.renderReviewStarAndCount()}
                      </span>
                  `}
        </div>`}},e.StarRating.MAX_REVIEW_STARS=5,e.StarRating.styles=Rt,t([xe({type:Number})],e.StarRating.prototype,"numberOfStars",void 0),t([xe({type:Boolean})],e.StarRating.prototype,"hasHalfStar",void 0),t([xe({type:String})],e.StarRating.prototype,"numberOfReviewsDisplayString",void 0),t([xe({type:Number})],e.StarRating.prototype,"numberOfReviews",void 0),t([xe({type:String})],e.StarRating.prototype,"reviewUrl",void 0),t([xe({type:Boolean})],e.StarRating.prototype,"enableReviewsLink",void 0),t([xe({type:Boolean})],e.StarRating.prototype,"allowWrap",void 0),t([xe({type:Boolean})],e.StarRating.prototype,"hideEmptyStars",void 0),t([xe({type:String})],e.StarRating.prototype,"layout",void 0),t([xe({type:String})],e.StarRating.prototype,"altText",void 0),t([xe({type:String})],e.StarRating.prototype,"shortDisplayString",void 0),t([xe()],e.StarRating.prototype,"handleClick",void 0),t([fe({context:Pe,subscribe:!0})],e.StarRating.prototype,"renderContext",void 0),e.StarRating=jt=t([Be("bds-star-rating"),pt],e.StarRating);var Wt=v`
    :host {
        font-family: var(--bds-font-family-functional-body);
    }

    .badge-container {
        white-space: nowrap;
        font-size: var(--bds-size-font-functional-label-small);
        line-height: var(--bds-size-line-height-functional-label-small);
        position: relative;
        top: var(--bds-size-utils-padding-1);
        left: var(--bds-size-utils-padding-1);
    }

    .badge {
        background-color: var(--bds-color-functional-neutral-on-surface-variant);
        color: var(--bds-color-functional-neutral-on-surface-inverse);
        border-width: var(--bds-size-line-weight-small);
        border-radius: var(--bds-size-radius-x-small);
        vertical-align: top;

        /**
         * This max-width is to prevent the badge from overflowing the container in grid UBF
         * Calculation details:
         * 100% (parent container) - 10px (badge padding) - 9px (stylized-edge width) - 8px (border radius of grid badge container)
         */
        max-width: calc(100% - 10px - 9px - 8px);

        ${mt(1,!0)};

        /**
         * This is required for the line clamp ellipses truncation
         */
        display: inline-block;
    }

    /* TODO update with design token when available */
    .TOP_SELLER .badge {
        background-color: #d14900;
    }

    .BONUS_OFFER .badge {
        background-color: var(--bds-color-functional-supplemental-discount);
        color: var(--bds-color-functional-neutral-on-surface-inverse-fixed);
    }

    .secondaryText {
        color: #11100f;
        font-family: var(--bds-font-family-functional-body);
    }

    .UNKNOWN .badge {
        background-color: var(--bds-color-functional-neutral-surface);
        border: var(--bds-size-radius-3x-small) solid var(--bds-color-functional-neutral-on-surface);
        color: var(--bds-color-functional-neutral-on-surface);
    }
`
/**
     * @license
     * Copyright 2018 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */,Gt="important",Qt=" !"+Gt,qt=Ge(class extends Qe{constructor(e){var t;if(super(e),e.type!==je||"style"!==e.name||(null===(t=e.strings)||void 0===t?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce(((t,i)=>{var a=e[i];return null==a?t:t+"".concat(i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase(),":").concat(a,";")}),"")}update(e,t){var[i]=t,{style:a}=e.element;if(void 0===this.ht){for(var o in this.ht=new Set,i)this.ht.add(o);return this.render(i)}for(var r in this.ht.forEach((e=>{null==i[e]&&(this.ht.delete(e),e.includes("-")?a.removeProperty(e):a[e]="")})),i){var s=i[r];if(null!=s){this.ht.add(r);var n="string"==typeof s&&s.endsWith(Qt);r.includes("-")||n?a.setProperty(r,n?s.slice(0,-11):s,n?Gt:""):a[r]=s}}return G}});e.BookMetadataBadge=class extends Ne{getDefaultConfiguration(){return{horizontalBadgePaddingCSS:"var(--bds-size-utils-padding-3)",verticalBadgePaddingCSS:"var(--bds-size-utils-padding-1)"}}getConfigurationOverrides(){return[{targeting:{devicetype:"mobile"},overrides:{verticalBadgePaddingCSS:"0"}}]}render(){const e=this.getRenderConfiguration(),t={padding:`${e.verticalBadgePaddingCSS} ${e.horizontalBadgePaddingCSS}`};return nt(this.giftGuideBadgeLabel,(()=>W`<div class="badge-container ${this.badgeType}">
                <span class="badge" style=${qt(t)}
                    >${this.giftGuideBadgeLabel}</span
                >
                ${nt(this.secondaryText,(()=>W`<span class="secondaryText">${this.secondaryText}</span>`))}
            </div>`))}},e.BookMetadataBadge.styles=Wt,t([xe({type:String})],e.BookMetadataBadge.prototype,"giftGuideBadgeLabel",void 0),t([xe({type:String})],e.BookMetadataBadge.prototype,"secondaryText",void 0),t([xe({type:String})],e.BookMetadataBadge.prototype,"badgeType",void 0),e.BookMetadataBadge=t([Be("bds-book-metadata-badge"),pt],e.BookMetadataBadge);var Xt=v`
    :host {
        font-family: var(--bds-font-family-functional-body);
    }

    .format {
        color: var(--bds-color-functional-neutral-on-surface-variant);
        font-size: var(--bds-size-font-functional-body-medium);
        font-weight: var(--bds-font-weight-functional-body);
        line-height: var(--bds-size-line-height-functional-body-small);
        ${mt(1)};
    }

    .format-container {
        display: flex;
        align-items: center;
        gap: var(--bds-size-spacing-2x-small);
        margin-bottom: var(--bds-size-spacing-2x-small);
    }

    .secondary-compact .format {
        font-size: var(
            --bds-size-font-functional-body-small
        );
        color: var(
            --bds-color-functional-neutral-on-surface-variant
        );
    }

    .secondary-compact.format-container,
    .primary.format-container {
        margin-bottom: 0;
    }

    .primary .format {
        color: var(--bds-color-functional-neutral-on-surface);
    }
`;e.BookFormat=class extends ue{constructor(){super(...arguments),this.layout="secondary"}render(){return nt(this.format,(()=>{var e;return W`
                <div class="format-container ${this.layout}">
                    ${this.secondaryBadge&&Kt(this.secondaryBadge)}
                    <div class="format ${null===(e=this.renderContext)||void 0===e?void 0:e.devicetype}">${this.format}</div>
                </div>
            `}))}},e.BookFormat.styles=Xt,t([xe({type:String})],e.BookFormat.prototype,"format",void 0),t([xe({type:Object})],e.BookFormat.prototype,"secondaryBadge",void 0),t([xe({type:String})],e.BookFormat.prototype,"layout",void 0),t([fe({context:Pe,subscribe:!0})],e.BookFormat.prototype,"renderContext",void 0),e.BookFormat=t([Be("bds-book-format"),pt],e.BookFormat);const Kt=e=>W`
        <bds-program-badge
            badgePhysicalId=${rt(e.badgePhysicalId)}
            badgeAltText=${rt(e.badgeAltText)}
            badgeExtension=${rt(e.badgeExtension)}
            badgeImageHeightPx=${rt(e.badgeImageHeightPx)}>
        </bds-program-badge>
    `;var Yt=[v`
    :host {
        font-family: var(--bds-font-family-functional-body);
    }

    .price {
        color: var(--bds-color-functional-neutral-on-surface);
        display: inline-block;
        margin-bottom: var(--bds-size-spacing-2x-small);
        font-size: var(--bds-size-font-functional-body-large);
        line-height: var(--bds-size-line-height-functional-body-small);
        position: relative;
    }

    .price.you-pay .promotion-message {
        color: var(--bds-color-functional-neutral-on-surface-variant);
        margin-bottom: var(--bds-size-spacing-2x-small);
        font-size: var(--bds-size-font-functional-body-small);
        line-height: var(--bds-size-line-height-functional-title-small);
    }

    .price-field {
        display: inline-block;
    }

    /* stylelint-disable-next-line selector-class-pattern
    */
    .currencySymbol {
        font-size: var(--bds-price-block-item-price-size-font-superscript);
        line-height: var(--bds-price-block-item-price-size-line-height-superscript);
        vertical-align: 20%;
    }

    .membership-message {
        color: var(--bds-color-functional-neutral-on-surface);
        margin-bottom: var(--bds-size-spacing-2x-small);
        font-size: var(--bds-size-font-functional-body-small);
        line-height: var(--bds-size-line-height-functional-title-small);
    }

    .basis-price {
        color: var(--bds-color-functional-neutral-on-surface-variant);
        font-size: var(--bds-size-font-functional-body-small);
        line-height: var(--bds-size-line-height-functional-title-small);
    }

    .basis-price .basis-price-display-string {
        text-decoration: line-through;
    }

    .price.inline {
        display: flex;
        column-gap: 24px;
        align-items: baseline;
        flex-flow: row wrap;
    }

    .price-format-parts-wrapper {
        display: inline;
    }

    /* TODO remove fallbacks below once tokenv2 migration is completed */
    .rio.price,
    .price.inline {
        margin-bottom: 0;
    }

    .price .deal-percentage {
        color: var(--bds-color-functional-supplemental-discount);
        font-family: var(--bds-price-block-discount-percent-font-family);
        font-size: var(--bds-price-block-discount-percent-size-font);
        font-weight: var(--bds-price-block-discount-percent-font-weight);
        line-height: var(--bds-price-block-discount-percent-size-line-height);
    }

    .price .price-to-pay-message {
        font-size: var(--bds-size-font-functional-body-small);
        color: var(--bds-color-functional-neutral-on-surface-variant);
    }

    .rio-format.price-field.currencySymbol,
    .rio-format.price-field.fractionalValue,
    .rio-format.price-field.integerValue {
        font-family: var(--bds-price-block-item-price-font-family);
        font-weight: var(--bds-price-block-item-price-font-weight);
    }

    .rio-format.price-field.currencySymbol,
    .rio-format.price-field.fractionalValue {
        font-size: var(--bds-price-block-item-price-size-font-superscript);
        line-height: var(--bds-price-block-item-price-size-line-height-superscript);
        vertical-align: text-top;
    }

    .rio-format.price-field.integerValue {
        font-size: var(--bds-price-block-item-price-size-font-main);
        line-height: var(--bds-price-block-item-price-size-line-height-main);
    }

    .rio-format.price-field.decimalSeparator {
        display: none;
    }
`,At()];e.BookPrice=class extends ue{constructor(){super(...arguments),this.layout="multiline"}isValidPriceFormatParts(e){var t,i;return!!((null==e?void 0:e.displayString)&&(null==e?void 0:e.displayFieldOrder)&&(null===(t=null==e?void 0:e.displayFields)||void 0===t?void 0:t.currencySymbol)&&(null===(i=null==e?void 0:e.displayFields)||void 0===i?void 0:i.integerValue))}renderPriceFormatParts(e,t,i){var a,o;let r=[...e.displayFieldOrder];Vt()&&(null==e?void 0:e.displayFieldOrder)&&(null===(o=null===(a=this.priceFormatParts)||void 0===a?void 0:a.displayFields)||void 0===o?void 0:o.currencySymbol)&&(r=[...e.displayFieldOrder].filter((e=>"currencySymbol"!==e)),r.unshift("currencySymbol"));const s=r.filter((t=>{var i;return!!(null===(i=null==e?void 0:e.displayFields)||void 0===i?void 0:i[t])})).map((t=>{const a="currencySymbol"===t&&Vt()?"rtl":void 0;return W`<div
                    class="price-field ${t} ${this.layout} ${i}"
                    aria-hidden="true"
                    dir="${rt(a)}">
                    ${null==e?void 0:e.displayFields[t]}
                </div>`}));return W`
            ${nt(s,(()=>W`<div class="price-format-parts-wrapper" dir="ltr">${s}</div>`))}
            ${nt(t&&(null==e?void 0:e.displayString),(()=>W`<span class="offscreen">${null==e?void 0:e.displayString}</span>`))}
        `}getPriceAmountAriaLabel(e){var t,i,a;const o=this.savingsPercentageDisplayString&&Ht("bds_savings_percentage_aria_text",null===(t=this.renderContext)||void 0===t?void 0:t.locale,{savingsPercentage:this.savingsPercentageDisplayString})||"",r=(null===(i=this.audiblePromotion)||void 0===i?void 0:i.audibleMemberMessage)||"";if(!e||!o&&!r)return;let s;return s=o&&r?"bds_price_amount_with_savings_percentage_with_audible_message_aria_text":o?"bds_price_amount_with_savings_percentage_aria_text":"bds_price_amount_with_audible_message_aria_text",Ht(s,null===(a=this.renderContext)||void 0===a?void 0:a.locale,{priceToPay:e,audibleMessage:r,savingsPercentage:o})}render(){var e,t,i,a;const o="inline"===this.layout||"rio"===this.layout?"rio-format":void 0;if(this.youPayPromotion&&this.youPayPromotion.youPayAmount&&this.youPayPromotion.basePrice&&this.youPayPromotion.promotionMessage)return W`
                <div class="price you-pay">
                    ${nt("string"==typeof this.youPayPromotion.youPayAmount,(()=>{var e;return W`<div class="amount">
                                ${null===(e=this.youPayPromotion)||void 0===e?void 0:e.youPayAmount}
                            </div>`}),(()=>{var e;return this.renderPriceFormatParts(null===(e=this.youPayPromotion)||void 0===e?void 0:e.youPayAmount,!0,o)}))}
                    <div class="promotion-message">
                        ${nt("string"==typeof this.youPayPromotion.basePrice,(()=>{var e;return W`${null===(e=this.youPayPromotion)||void 0===e?void 0:e.basePrice}`}),(()=>{var e;return this.renderPriceFormatParts(null===(e=this.youPayPromotion)||void 0===e?void 0:e.basePrice,!0,o)}))}
                        ${this.youPayPromotion.promotionMessage}
                    </div>
                </div>
            `;const r=null!==(t=null===(e=this.priceFormatParts)||void 0===e?void 0:e.displayString)&&void 0!==t?t:this.unstylizedPrice,s=this.getPriceAmountAriaLabel(r||"");return W`
            <div class="price ${this.layout} ${o}">
                <div class="amount">
                    ${nt(this.savingsPercentageDisplayString&&this.basisPriceDisplayString,(()=>{var e;const t=this.savingsPercentageDisplayString&&Ht("bds_savings_percentage_text",null===(e=this.renderContext)||void 0===e?void 0:e.locale,{savingsPercentage:this.savingsPercentageDisplayString});return nt(!!t,(()=>W`<span class="deal-percentage" aria-hidden="true">
                                    ${t}
                                </span>`))}))}
                    ${nt(this.isValidPriceFormatParts(this.priceFormatParts),(()=>this.renderPriceFormatParts(this.priceFormatParts,!s,o)),(()=>nt(!!r,(()=>W`<span aria-hidden=${!!s}
                                        >${r}</span
                                    >`))))}
                    ${nt("inline"!==this.layout&&(null===(i=this.audiblePromotion)||void 0===i?void 0:i.audibleMemberMessage),(()=>{var e;return W`
                            <span class="membership-message" aria-hidden="true">
                                ${null===(e=this.audiblePromotion)||void 0===e?void 0:e.audibleMemberMessage}
                            </span>
                        `}))}
                    ${nt(!!s,(()=>W`<span class="offscreen"> ${s} </span>`))}
                </div>

                ${nt(this.basisPriceDisplayString,(()=>W` <span class="basis-price" aria-hidden="true">
                        ${nt(this.basisPriceLabel&&"inline"!==this.layout,(()=>W`<span class="basis-price-label" aria-hidden="true">
                                    ${this.basisPriceLabel}
                                </span>`))}
                        ${nt(this.basisPriceDisplayString,(()=>W`<span class="basis-price-display-string" aria-hidden="true">
                                    ${this.basisPriceDisplayString}
                                </span>`))}
                    </span>`))}
                ${nt(this.basisPriceDisplayString,(()=>{var e;const t=!(!this.basisPriceDisplayString||!this.basisPriceLabel)&&Ht("bds_basis_price_text",null===(e=this.renderContext)||void 0===e?void 0:e.locale,{label:this.basisPriceLabel,basisPrice:this.basisPriceDisplayString});return nt(!!t,(()=>W`<span class="offscreen"> ${t} </span>`))}))}
                ${nt("inline"===this.layout&&(null===(a=this.audiblePromotion)||void 0===a?void 0:a.audibleMemberMessage),(()=>{var e;return W`
                        <span class="membership-message" aria-hidden="true">
                            ${null===(e=this.audiblePromotion)||void 0===e?void 0:e.audibleMemberMessage}
                        </span>
                    `}))}
                ${nt(this.priceToPayMessage,(()=>W`<div class="price-to-pay-message">${this.priceToPayMessage}</div>`))}
            </div>
        `}},e.BookPrice.styles=Yt,t([fe({context:Pe,subscribe:!0})],e.BookPrice.prototype,"renderContext",void 0),t([xe({type:String})],e.BookPrice.prototype,"unstylizedPrice",void 0),t([xe({type:Object})],e.BookPrice.prototype,"priceFormatParts",void 0),t([xe({type:Object})],e.BookPrice.prototype,"youPayPromotion",void 0),t([xe({type:Object})],e.BookPrice.prototype,"audiblePromotion",void 0),t([xe({type:String})],e.BookPrice.prototype,"basisPriceDisplayString",void 0),t([xe({type:String})],e.BookPrice.prototype,"basisPriceLabel",void 0),t([xe({type:String})],e.BookPrice.prototype,"layout",void 0),t([xe({type:String})],e.BookPrice.prototype,"savingsPercentageDisplayString",void 0),t([xe({type:String})],e.BookPrice.prototype,"priceToPayMessage",void 0),e.BookPrice=t([Be("bds-book-price"),pt],e.BookPrice);var Jt=v`
    :host {
        font-family: var(--bds-font-family-functional-body);
    }

    .points {
        color: var(--bds-color-functional-neutral-on-surface-variant);
        font-size: var(--bds-size-font-functional-body-small);
        font-weight: var(--bds-font-weight-functional-body);
        line-height: var(--bds-size-line-height-functional-body-small);
        margin-bottom: var(--bds-size-spacing-2x-small);

        ${mt(1)};
    }
`;e.BookPoints=class extends ue{getPointsDisplay(){var e;return(null===(e=this.pointsV2)||void 0===e?void 0:e.displayString)?this.pointsV2.displayString:this.points?this.points:""}render(){var e;return this.points||this.pointsV2?W`<div class="points ${null===(e=this.renderContext)||void 0===e?void 0:e.devicetype}">
                ${this.getPointsDisplay()}
            </div>`:Q}},e.BookPoints.styles=Jt,t([xe({type:String})],e.BookPoints.prototype,"points",void 0),t([xe({type:Object})],e.BookPoints.prototype,"pointsV2",void 0),t([fe({context:Pe,subscribe:!0})],e.BookPoints.prototype,"renderContext",void 0),e.BookPoints=t([Be("bds-book-points"),pt],e.BookPoints);var Zt=v`
    :host {
        font-family: var(--bds-font-family-functional-body);
    }

    .formats {
        color: var(--bds-color-functional-neutral-on-surface-variant);
        font-weight: var(--bds-font-weight-functional-body);
        margin-bottom: var(--bds-size-spacing-2x-small);
        line-height: var(--bds-size-line-height-functional-body-small);
        font-size: var(--bds-size-font-functional-body-medium);
    }

    .formats.larger-text {
        font-size: var(--bds-size-font-functional-body-large);
        line-height: var(--bds-size-line-height-functional-body-large);
    }

    .formats a {
        color: var(--bds-color-functional-neutral-on-surface-variant);
        font-weight: var(--bds-font-weight-functional-body);
        margin-bottom: var(--bds-size-spacing-2x-small);
        line-height: var(--bds-size-line-height-functional-body-small);
        font-size: var(--bds-size-font-functional-body-medium);
    }

    .formats.larger-text a {
        font-size: var(--bds-size-font-functional-body-large);
        line-height: var(--bds-size-line-height-functional-body-large);
    }
`;e.BookOtherFormats=class extends Ne{getDefaultConfiguration(){return{enableLargerText:!1,disableIndividualFormatLinks:!1}}getConfigurationOverrides(){return[{targeting:{devicetype:"mobile"},overrides:{disableIndividualFormatLinks:!0}},{targeting:{devicetype:"tablet"},overrides:{disableIndividualFormatLinks:!0}},{targeting:{devicetype:"desktop"},overrides:{enableLargerText:!0}}]}render(){var e,t;const i=this.getRenderConfiguration();if(!Array.isArray(this.allFormats)||!this.allFormats.length)return Q;let a=[];const o=Math.min(this.allFormats.length,void 0!==this.numFormatsToShow?this.numFormatsToShow:3);if(a=[...this.allFormats].splice(0,o).map((e=>i.disableIndividualFormatLinks?e.displayString:W`<a href="${e.detailUrl}"> ${e.displayString} </a>`)),this.allFormats.length>o){const t=this.allFormats.length-o,r=Ht("bds_ubf_book_other_formats_more_text",null===(e=this.renderContext)||void 0===e?void 0:e.locale,{numberOfFormats:t});!i.disableIndividualFormatLinks&&this.detailPage?a.push(W`<a href="${this.detailPage}"> ${r} </a>`):a.push(W`${r}`)}const r=
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
function*(e,t){var i="function"==typeof t;if(void 0!==e){var a=-1;for(var o of e)a>-1&&(yield i?t(a):t),a++,yield o}}(a,W`<span aria-hidden="true">, </span>`),s=Ht(1===o?"bds_ubf_book_single_other_format_label":"bds_ubf_book_other_formats_label",null===(t=this.renderContext)||void 0===t?void 0:t.locale);return W`<div class="formats ${i.enableLargerText?"larger-text":""}">
            ${s}
            ${i.disableIndividualFormatLinks&&this.detailPage?W`<a href="${this.detailPage}"> ${r} </a>`:r}
        </div>`}},e.BookOtherFormats.styles=Zt,t([xe({type:String})],e.BookOtherFormats.prototype,"detailPage",void 0),t([xe({type:Number})],e.BookOtherFormats.prototype,"numFormatsToShow",void 0),t([xe({type:Array})],e.BookOtherFormats.prototype,"allFormats",void 0),e.BookOtherFormats=t([Be("bds-book-other-formats"),pt],e.BookOtherFormats);var ei=v`
    .blurb-wrapper {
        min-height: 295px;
        min-width: 231px;
        width: min-content;
        display: grid;
        grid-template-columns: 11px auto;
        box-sizing: border-box;
        word-wrap: break-word;
        word-break: break-word;
        font-family: var(--bds-font-family-functional-body);
        color: var(--bds-color-functional-neutral-on-surface);
        padding-left: var(--bds-size-spacing-2x-small);
    }

    .blurb-wrapper.compact {
        min-height: 295px;
        min-width: 160px;
    }

    .blurb-container {
        display: flex;
        flex-direction: column;
        position: relative;
        border-style: solid;
        padding: var(--bds-size-utils-padding-10);
        line-height: var(--bds-size-line-height-functional-body-small);
        border-width: var(--bds-size-line-weight-small);
        border-color: var(--bds-color-functional-neutral-outline);
        border-left-width: var(--bds-size-line-weight-x-large);
        border-left-color: #28a7dd;
    }

    .compact .blurb-container {
        padding: var(--bds-size-utils-padding-6);
        line-height: var(--bds-size-line-height-functional-title-small);
    }

    .pointer-arrow {
        clip-path: polygon(
            0px 105px,
            10px 114px,
            10px 100%,
            11px 100%,
            11px 96px,
            11px 0%,
            10px 0%,
            10px 96px,
            0px 105px
        );
        background: #28a7dd;
    }

    a.blurb-container-link {
        color: unset;
        text-decoration: none;
        height: 100%;
    }

    .blurb-quote {
        display: block;
        align-self: flex-start;
        border: 0;
        height: 35px;
    }

    .compact .blurb-quote {
        height: 23px;
    }

    .blurb-text-container {
        margin-bottom: var(--bds-size-utils-padding-6);
    }

    .blurb-text {
        position: relative;
        font-size: var(--bds-size-font-functional-body-medium);
        padding-top: var(--bds-size-spacing-2x-small);
        margin-top: 0;
    }

    .blurb-text::after {
        content: '';
        position: absolute;
        pointer-events: none;
        height: var(--bds-size-utils-padding-20);
        background: linear-gradient(
            to bottom,
            transparent,
            var(--bds-color-functional-neutral-surface)
        );
        visibility: var(--fade-out-overlay-visibility, hidden);
        left: 0;
        bottom: 0;
        width: 100%;
    }

    a.read-full-article-link {
        text-decoration: underline;
        cursor: pointer;
        display: block;
        color: var(--bds-link-color-text-active);
    }

    a.read-full-article-link:hover {
        color: var(--bds-link-color-text-hover);
    }

    .blurb-author-bottom-align {
        margin-top: auto;
    }

    .blurb-card-line {
        height: 5px;
        width: 45px;
        background-color: #28a7dd;
    }

    .compact .blurb-card-line {
        width: 35px;
    }

    .blurb-contributor-container {
        display: flex;
        padding-block: var(--bds-size-spacing-x-small);
        font-size: var(--bds-size-font-functional-body-large);
        min-height: 45px;
    }

    .compact .blurb-contributor-container {
        display: block;
        padding-block: var(--bds-size-utils-padding-6);
    }

    .blurb-contributor-details {
        padding-left: var(--bds-size-spacing-x-small);
    }

    .compact .blurb-contributor-details {
        padding-left: 0;
    }

    .blurb-contributor-image {
        position: relative;
        vertical-align: top;
        height: 45px;
        width: 45px;
        border-radius: 50%;
    }

    .compact .blurb-contributor-image {
        vertical-align: top;
        height: 34px;
        width: 34px;
    }

    .blurb-contributor-head {
        color: var(--bds-color-functional-neutral-on-surface-variant);
    }

    a.blurb-contributor-subhead {
        text-decoration: underline;
        font-weight: var(--bds-font-weight-functional-display);
        color: var(--bds-link-color-text-active);
    }

    a.blurb-contributor-subhead:hover {
        color: var(--bds-link-color-text-hover);
    }
`;let ti=class extends Ne{getDefaultConfiguration(){return{displayMode:"default"}}getConfigurationOverrides(){return[{targeting:{devicetype:"mobile"},overrides:{displayMode:"compact"}}]}firstUpdated(){this.updateBlurbContextOnOverflow()}updated(e){e.has("blurbMetadata")&&this.updateBlurbContextOnOverflow()}updateBlurbContextOnOverflow(){const e=this.renderRoot.querySelector(".blurb-text");e instanceof HTMLElement&&(e.scrollHeight>e.clientHeight?e.style.setProperty("--fade-out-overlay-visibility","visible"):e.style.setProperty("--fade-out-overlay-visibility","hidden"))}shouldRenderBlurb(){var e,t;const i=!!(null===(e=this.blurbMetadata)||void 0===e?void 0:e.blurbText);return!!(null===(t=this.blurbMetadata)||void 0===t?void 0:t.blurbRefUrl)&&i}renderBlurbTextContainer(){var e,t;const i=function(e){if("string"!=typeof e)return!1;try{return new URL(e).protocol.startsWith("http")}catch(e){return!1}}(null===(e=this.blurbMetadata)||void 0===e?void 0:e.articleRefUrl);return W` <div class="blurb-text-container">
            <div class="blurb-text" .style="${nt(i,(()=>mt(7)))}">
                ${null===(t=this.blurbMetadata)||void 0===t?void 0:t.blurbText}
            </div>
            ${nt(i,(()=>{var e,t;return W`<a
                    href="${rt(null===(e=this.blurbMetadata)||void 0===e?void 0:e.articleRefUrl)}"
                    class="read-full-article-link"
                    >${Ht("bds_blurb_read_full_article_label",null===(t=this.renderContext)||void 0===t?void 0:t.locale)}</a
                >`}))}
        </div>`}renderContributorContainer(){var e,t,i;const a=!!(null===(e=this.blurbMetadata)||void 0===e?void 0:e.contributorImageUrl),o=!!(null===(t=this.blurbMetadata)||void 0===t?void 0:t.contributorSubHeading);return nt(!!(null===(i=this.blurbMetadata)||void 0===i?void 0:i.contributorHeading),(()=>{var e;return W` <div class="blurb-contributor-container">
                ${nt(a,(()=>{var e;return W` <div aria-hidden="true" class="blurb-contributor-image-container">
                        <img
                            alt=""
                            src="${rt(null===(e=this.blurbMetadata)||void 0===e?void 0:e.contributorImageUrl)}"
                            class="blurb-contributor-image" />
                    </div>`}))}
                <div class="blurb-contributor-details">
                    <div>
                        <span class="blurb-contributor-head"
                            >${null===(e=this.blurbMetadata)||void 0===e?void 0:e.contributorHeading}</span
                        >
                    </div>
                    ${nt(o,(()=>{var e,t;return W` <div>
                            <a
                                class="blurb-contributor-subhead"
                                href="${rt(null===(e=this.blurbMetadata)||void 0===e?void 0:e.contributorRefUrl)}">
                                ${null===(t=this.blurbMetadata)||void 0===t?void 0:t.contributorSubHeading}</a
                            >
                        </div>`}))}
                </div>
            </div>`}))}render(){const e=this.getRenderConfiguration();return W` ${nt(this.shouldRenderBlurb(),(()=>{var t;return W` <div class="blurb-wrapper ${e.displayMode}">
                <div class="pointer-arrow"></div>
                <div class="blurb-container">
                    <img
                        alt=""
                        class="blurb-quote"
                        src="https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/blurbQuote.svg"
                        aria-hidden="true" />
                    <a
                        class="blurb-container-link"
                        href="${rt(null===(t=this.blurbMetadata)||void 0===t?void 0:t.blurbRefUrl)}">
                        ${this.renderBlurbTextContainer()}
                    </a>
                    <div class="blurb-author-bottom-align">
                        <div class="blurb-card-line"></div>
                        ${this.renderContributorContainer()}
                    </div>
                </div>
            </div>`}))}`}};ti.styles=ei,t([xe({type:Object})],ti.prototype,"blurbMetadata",void 0),ti=t([Be("bds-book-blurb")],ti);var ii=v`
    :host {
        font-family: var(--bds-font-family-functional-body);
    }

    .delivery-badge {
        display: flex;
        align-items: center;
    }

    .delivery-message {
        font-size: var(--bds-size-font-functional-label-small);
        font-weight: var(--bds-font-weight-functional-label);
        line-height: var(--bds-size-line-height-functional-label-small);
    }

    .delivery-fragment-strong {
        font-weight: var(--bds-font-weight-functional-display);
    }

    .delivery-fragment-nowrap {
        white-space: nowrap;
    }

    .delivery-promise-wrapper.spaced {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }
`;e.DeliveryPromise=class extends ue{render(){var e,t,i;return nt((null===(e=this.deliveryInfo)||void 0===e?void 0:e.deliveryBadge)&&(null===(i=null===(t=this.deliveryInfo)||void 0===t?void 0:t.deliveryMessageFragmentList)||void 0===i?void 0:i.length),(()=>{var e,t,i,a;return W`
                <div class="delivery-promise-wrapper ${this.layout}">
                    <div class="delivery-badge ${null===(e=this.renderContext)||void 0===e?void 0:e.devicetype}">
                        ${(null===(t=this.deliveryInfo)||void 0===t?void 0:t.deliveryBadge)&&ai(this.deliveryInfo.deliveryBadge)}
                    </div>
                    ${nt(null===(a=null===(i=this.deliveryInfo)||void 0===i?void 0:i.deliveryMessageFragmentList)||void 0===a?void 0:a.length,(()=>{var e;return W`<div class="delivery-message">
                            ${oi(null===(e=this.deliveryInfo)||void 0===e?void 0:e.deliveryMessageFragmentList)}
                        </div>`}))}
                </div>
            `}))}},e.DeliveryPromise.styles=ii,t([xe({type:Object})],e.DeliveryPromise.prototype,"deliveryInfo",void 0),t([fe({context:Pe,subscribe:!0})],e.DeliveryPromise.prototype,"renderContext",void 0),t([xe({type:String})],e.DeliveryPromise.prototype,"layout",void 0),e.DeliveryPromise=t([Be("bds-delivery-promise"),pt],e.DeliveryPromise);const ai=e=>W`
        <bds-program-badge
            badgePhysicalId=${rt(e.badgePhysicalId)}
            badgeAltText=${rt(e.badgeAltText)}
            badgeExtension=${rt(e.badgeExtension)}
            badgeImageHeightPx=${rt(e.badgeImageHeightPx)}>
        </bds-program-badge>
    `,oi=e=>void 0===e?Q:e.map((e=>{var t,i;return e.text?W`
            <span
                class="${(null===(t=e.style)||void 0===t?void 0:t.strong)?"delivery-fragment-strong":""} ${(null===(i=e.style)||void 0===i?void 0:i.noWrap)?"delivery-fragment-nowrap":""}">
                ${e.text}
            </span>
        `:Q}));var ri=v`
    .overlay-container {
        border: 1px solid;
        height: 23px;
        line-height: 23px;
        font-size: var(--bds-size-font-functional-body-medium);
        border-radius: 5px;
        justify-content: center;
        align-items: center;
        display: flex;
        background: white;
        width: max-content;
        padding: 1px 5px;
        margin-right: 2px;
        margin-top: 1px;
        color: black;
        box-shadow: 0.5px 0.5px;
    }
`;e.SeriesOverlay=class extends Ne{getDefaultConfiguration(){return{textLineHeight:"--bds-size-line-height-functional-title-small",fontSize:"--bds-size-font-functional-body-small"}}getConfigurationOverrides(){return[{targeting:{devicetype:"mobile",marketplace:"A1VC38T7YXB528"},overrides:{textLineHeight:"--bds-size-line-height-functional-title-small",fontSize:"--bds-size-font-functional-body-small"}},{targeting:{devicetype:"tablet",marketplace:"A1VC38T7YXB528"},overrides:{textLineHeight:"--bds-size-line-height-functional-title-small",fontSize:"--bds-size-font-functional-body-small"}}]}render(){const e=this.getRenderConfiguration();return W`<div
            class="overlay-container"
            style="line-height: var(${e.textLineHeight}); font-size: var(${e.fontSize});">
            <p>${this.label}</p>
        </div>`}},e.SeriesOverlay.styles=ri,t([xe({type:String})],e.SeriesOverlay.prototype,"label",void 0),e.SeriesOverlay=t([Be("bds-series-overlay"),pt],e.SeriesOverlay);var si=v`
    :host {
        font-family: var(--bds-font-family-functional-body);
    }

    .book-release-date {
        color: var(--bds-color-functional-neutral-on-surface-variant);
        font-size: var(--bds-size-font-functional-body-small);
        font-weight: var(--bds-font-weight-functional-body);
        line-height: var(--bds-size-line-height-functional-body-small);
    }
`;let ni=class extends ue{getReleaseDateString(e){var t;return Ht("bds_this_title_release_date_text",null===(t=this.renderContext)||void 0===t?void 0:t.locale,{releaseDate:e})}render(){const e=this.releaseDate,t=(null==e?void 0:e.displayString)?this.getReleaseDateString(e.displayString):void 0;return W`
            ${nt(t,(()=>W` <div class="book-release-date">${t}</div>`))}
        `}};ni.styles=si,t([xe({type:Object})],ni.prototype,"releaseDate",void 0),t([fe({context:Pe,subscribe:!0})],ni.prototype,"renderContext",void 0),ni=t([Be("bds-book-release-date"),pt],ni);const li=[{targeting:{pagetype:"storefront"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!0,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!0},bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},enableBookPoints:!0,bookMetadataBadgeConfiguration:{enableBookMetadataBadge:!0},enableProgramBadge:!0,enableBookFormat:!0,enableDeliveryPromise:!0}},{targeting:{pagetype:"storefront",devicetype:"mobile"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!1}}},{targeting:{pagetype:"storefront",devicetype:"tablet"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!1}}},{targeting:{pagetype:"storefront",operatingsystem:"iOS",hostapplication:"kindle"},overrides:{bookPriceConfiguration:{enableBookPrice:!1,enableQuickView:!1},enableBookPoints:!1}},{targeting:{pagetype:"storefront",operatingsystem:"iOS",hostapplication:"mShop"},overrides:{bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},enableBookPoints:!0}},{targeting:{pagetype:"storefront",operatingsystem:"iOS",marketplace:"ATVPDKIKX0DER"},overrides:{bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},enableBookPoints:!0}}],di=[{targeting:{pagetype:"eBooksTYP"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:"author",enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!0},bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},enableBookPoints:!0,enableProgramBadge:!0,enableBookFormat:!0}},{targeting:{pagetype:"eBooksTYP",devicetype:"mobile"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:void 0,enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!1}}},{targeting:{pagetype:"eBooksTYP",devicetype:"tablet"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:void 0,enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!1}}},{targeting:{pagetype:"eBooksTYP",operatingsystem:"iOS",hostapplication:"kindle"},overrides:{bookPriceConfiguration:{enableBookPrice:!1,enableQuickView:!1},enableBookPoints:!1}},{targeting:{pagetype:"eBooksTYP",operatingsystem:"iOS",hostapplication:"mShop"},overrides:{bookPriceConfiguration:{enableBookPrice:!1,enableQuickView:!1},enableBookPoints:!1}},{targeting:{pagetype:"eBooksTYP",operatingsystem:"iOS",marketplace:"ATVPDKIKX0DER"},overrides:{bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},enableBookPoints:!0}}],ci={bookTitleContentConfiguration:{primaryText:"headline",enablePrimaryLink:!0,suppressPrimaryAria:!1,secondaryText:void 0,enableSecondaryLink:!1,suppressSecondaryAria:!0,tertiaryText:void 0,enableTertiaryLink:!0,suppressTertiaryAria:!1,enableQuickView:!1},bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!0},enableBookPoints:!1,bookMetadataBadgeConfiguration:{enableBookMetadataBadge:!0,enableBookMetadataBadgeTopSlot:!0}},ui=[{targeting:{pagetype:"limber",devicetype:"desktop"},overrides:ci},{targeting:{pagetype:"limber",devicetype:"mobile"},overrides:ci},{targeting:{pagetype:"limber",devicetype:"tablet"},overrides:ci},{targeting:{pagetype:"limber",devicetype:"default"},overrides:ci}],bi={layoutConfiguration:{bookCoverImageLayout:"fixedHeight",bookTitleContentLayout:"compact",priceLayout:"rio",bookFormatLayout:"secondary-compact",starRatingLayout:"standardV2"},bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!0},bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!1,secondaryText:"author",enableSecondaryLink:!0,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!0,enableQuickView:!0,secondaryShouldLinkToPrimaryTapTarget:!1},enableProgramBadgeInMetadataBlock:!0,enableProgramBadge:!0,enableDeliveryPromise:!0,enableBookFormat:!0,enableBookPoints:!0,bookTapTargetConfiguration:{enableStarRatingPrimaryTapAction:!1,enablePriceTapAction:!0,enableFormatTapAction:!0,enableProgramBadgeTapAction:!0,enableDeliveryPromiseTapAction:!0},bookMetadataBadgeConfiguration:{enableBookMetadataBadge:!0,enableBookMetadataBadgeTopSlot:!1}},gi={bookTapTargetConfiguration:Object.assign(Object.assign({},bi.bookTapTargetConfiguration),{enableStarRatingPrimaryTapAction:!0}),starRatingConfiguration:Object.assign(Object.assign({},bi.starRatingConfiguration),{enableReviewsLink:!1}),bookTitleContentConfiguration:Object.assign(Object.assign({},bi.bookTitleContentConfiguration),{enableSecondaryLink:!1,secondaryShouldLinkToPrimaryTapTarget:!0})},hi={bookTapTargetConfiguration:Object.assign(Object.assign({},bi.bookTapTargetConfiguration),{enableStarRatingPrimaryTapAction:!0}),starRatingConfiguration:Object.assign(Object.assign({},bi.starRatingConfiguration),{enableReviewsLink:!1}),bookTitleContentConfiguration:Object.assign(Object.assign({},bi.bookTitleContentConfiguration),{enableSecondaryLink:!1,secondaryShouldLinkToPrimaryTapTarget:!0})},vi=[{targeting:{layout:"metadata-only"},overrides:{bookCoverImageConfiguration:{disableBookCoverImage:!0,enableQuickView:!1},enableProgramBadgeInMetadataBlock:!0}},{targeting:{layout:"blurred-backdrop"},overrides:{layoutConfiguration:{bookCoverImageLayout:"blurredBackdrop",starRatingLayout:"mini"},enableProgramBadgeInMetadataBlock:!0}},{targeting:{layout:"contained"},overrides:{layoutConfiguration:{bookCoverImageLayout:"contained",starRatingLayout:void 0}}},{targeting:{layout:"containedBaseline"},overrides:{layoutConfiguration:{bookCoverImageLayout:"containedBaseline",starRatingLayout:void 0}}},{targeting:{layout:"grid"},overrides:Object.assign(Object.assign({},bi),{layoutConfiguration:Object.assign(Object.assign({},bi.layoutConfiguration),{bookCoverImageLayout:"grid"}),bookMetadataBadgeConfiguration:Object.assign(Object.assign({},bi.bookMetadataBadgeConfiguration),{enableBookMetadataBadgeTopSlot:!0}),bookTitleContentConfiguration:Object.assign(Object.assign({},bi.bookTitleContentConfiguration),{enableSecondaryLink:!1}),enableBookPoints:!1})},{targeting:{layout:"grid",devicetype:"mobile"},overrides:Object.assign({},hi)},{targeting:{layout:"grid",devicetype:"tablet"},overrides:Object.assign({},gi)},{targeting:{layout:"list"},overrides:{layoutConfiguration:{bookCoverImageLayout:"list",starRatingLayout:void 0,bookTitleContentLayout:"regular",priceLayout:"rio",bookFormatLayout:"secondary-compact"},bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!0,enableStarRatingsWrap:!0},bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,enablePrimaryTextBold:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:"author",enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},enableProgramBadgeInMetadataBlock:!0,enableProgramBadge:!0,enableBookFormat:!0,enableBookPoints:!0,enableBookReleaseDate:!0,bookTapTargetConfiguration:{enableStarRatingPrimaryTapAction:!0,enablePriceTapAction:!0,enableFormatTapAction:!0},bookMetadataBadgeConfiguration:{enableBookMetadataBadge:!1}}},{targeting:{layout:"standardV2"},overrides:Object.assign({},bi)},{targeting:{layout:"standardV2",marketplace:"A1VC38T7YXB528"},overrides:Object.assign(Object.assign({},bi),{bookMetadataBadgeConfiguration:Object.assign(Object.assign({},bi.bookMetadataBadgeConfiguration),{enableBookMetadataBadgeTopSlot:!0})})},{targeting:{layout:"standardV2",marketplace:"A1VC38T7YXB528",devicetype:"tablet"},overrides:Object.assign({},gi)},{targeting:{layout:"standardV2",marketplace:"A1VC38T7YXB528",devicetype:"mobile"},overrides:Object.assign({},hi)},{targeting:{layout:"standardV2",devicetype:"tablet"},overrides:Object.assign({},gi)},{targeting:{layout:"standardV2",devicetype:"mobile"},overrides:Object.assign({},hi)}],pi=[{targeting:{pagetype:"kuSignUp"},overrides:{bookTitleContentConfiguration:void 0,starRatingConfiguration:void 0,bookPriceConfiguration:void 0,enableBookReleaseDate:void 0,enableBookPoints:!1,bookMetadataBadgeConfiguration:{enableBookMetadataBadge:!1},enableProgramBadge:!1,enableBookFormat:!1,bookTapTargetConfiguration:{enableStarRatingPrimaryTapAction:!1,enablePriceTapAction:!1,enableFormatTapAction:!1}}}],_i=[{targeting:{devicetype:"mobile"},overrides:{seriesOverlayConfiguration:{topOffsetPx:18}}},{targeting:{marketplace:"A1VC38T7YXB528"},overrides:{enableBookPoints:!0}}].concat(li).concat(di).concat([{targeting:{pagetype:"detailPage"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!0,suppressSecondaryAria:!1,tertiaryText:"author",enableTertiaryLink:!0,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!0},bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},enableBookPoints:!0,enableBookFormat:!0,enableBookFormats:!1,enableDeliveryPromise:!0}},{targeting:{pagetype:"detailPage",devicetype:"mobile"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:"author",enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!1}}},{targeting:{pagetype:"detailPage",devicetype:"tablet"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:"author",enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!1}}},{targeting:{pagetype:"detailPage",operatingsystem:"iOS",hostapplication:"kindle"},overrides:{bookPriceConfiguration:{enableBookPrice:!1,enableQuickView:!1},enableBookPoints:!1}},{targeting:{pagetype:"detailPage",operatingsystem:"iOS",hostapplication:"kindle",marketplace:"ATVPDKIKX0DER"},overrides:{bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},enableBookPoints:!0}}]).concat([{targeting:{pagetype:"kindleHome"},overrides:{enableMetadataBlock:!1}}]).concat(ui).concat(vi).concat(pi);const mi=()=>window.WebViewWidget,fi=()=>{var e;return null===(e=window.webkit)||void 0===e?void 0:e.messageHandlers},yi={openWebPage:(e,t,i,a=!1)=>{var o,r,s,n;if(mi()){const n=(e=>{try{return new URL(e),!0}catch(e){return!1}})(e)?e:new URL(e,"localhost"===window.location.hostname?"https://www.amazon.com":window.location.origin).href;(null===(o=mi())||void 0===o?void 0:o.openWebUrl)?null===(r=mi())||void 0===r||r.openWebUrl(n,t||void 0,i||"",a):null===(s=mi())||void 0===s||s.openWebPage(n,t||void 0,i||"")}else if(fi()){const a={url:e};t&&(a.viewTitle=t),i&&(a.reftag=i),null===(n=fi())||void 0===n||n.openWebPage.postMessage(a)}},isOpenWebPageAvailable:()=>{var e,t,i;return!!((null===(e=mi())||void 0===e?void 0:e.openWebPage)||(null===(t=mi())||void 0===t?void 0:t.openWebUrl)||(null===(i=fi())||void 0===i?void 0:i.openWebPage))},isNativeBridgeAvailable:()=>!(!mi()&&!fi()),reportActionMetric:(e,t)=>{var i,a,o,r;(null===(i=mi())||void 0===i?void 0:i.reportActionMetric)?null===(a=mi())||void 0===a||a.reportActionMetric(e,t):(null===(o=fi())||void 0===o?void 0:o.reportActionMetric)&&(null===(r=fi())||void 0===r||r.reportActionMetric.postMessage({action:e,actionType:t}))},isLaunchQuickViewAvailable:()=>{var e,t,i;return!!((null===(e=mi())||void 0===e?void 0:e.launchQuickViewIfEnabledAsync)||(null===(t=mi())||void 0===t?void 0:t.launchQuickViewIfEnabled)||(null===(i=fi())||void 0===i?void 0:i.launchQuickViewIfEnabled))},launchQuickViewIfEnabled:(e,t,i=void 0,a=void 0)=>{var o,r,s,n,l,d;yi.reportActionMetric("tap","QUICKVIEW"),(null===(o=mi())||void 0===o?void 0:o.launchQuickViewIfEnabledAsync)?null===(r=mi())||void 0===r||r.launchQuickViewIfEnabledAsync(e,JSON.stringify(t),i,a):(null===(s=mi())||void 0===s?void 0:s.launchQuickViewIfEnabled)?null===(n=mi())||void 0===n||n.launchQuickViewIfEnabled(e,JSON.stringify(t),i,a):(null===(l=fi())||void 0===l?void 0:l.launchQuickViewIfEnabled)&&(null===(d=fi())||void 0===d||d.launchQuickViewIfEnabled.postMessage({initialIndex:e,asins:t,title:i,reftag:a}))}},ki={openWebPage:e=>{yi.isNativeBridgeAvailable()&&yi.isOpenWebPageAvailable()?yi.openWebPage(e):window.location.assign(e)},isQuickViewEnabled:()=>{var e,t,i;if(yi.isNativeBridgeAvailable()&&yi.isLaunchQuickViewAvailable())return!0;return"true"===(null!==(t=null===(e=document.querySelector("meta[name='x-feature-quickview-enabled']"))||void 0===e?void 0:e.getAttribute("content"))&&void 0!==t?t:void 0)&&!!(null===(i=window.qv)||void 0===i?void 0:i.launchQuickView)},getMergedAsinMetadata(e,t){if(!t||0===t.length)return e;const i=new Map;return e.forEach((e=>{e.asin&&i.set(e.asin,e)})),t.map((e=>{var t;return null!==(t=i.get(e))&&void 0!==t?t:{asin:e}}))},openQuickView:(e=0,t,i,a,o)=>{const r=t.asinMetadataCallbacks.map((e=>e())),s=ki.getMergedAsinMetadata(r,t.asinList);if(e<0||0===r.length&&(!t.asinList||0===t.asinList.length)||e>=s.length||!ki.isQuickViewEnabled())return ut.logCountMetric("quickview-error"),void ki.openWebPage(i);ut.logCountMetric("quickview-launched");const n=JSON.stringify({qvPageClient:"ubf-page",widgetName:a||"ubf"});ki.launchQuickView(e,s,o,n)},launchQuickView(e,t,i,a){var o,r;yi.isNativeBridgeAvailable()&&yi.isLaunchQuickViewAvailable()?yi.launchQuickViewIfEnabled(e,t,i,a):null===(r=null===(o=window.qv)||void 0===o?void 0:o.launchQuickView)||void 0===r||r.call(o,{initialIndex:e,asins:t,title:i,csaContext:a})}},xi=new Set(["kindle_edition","kindle_edition_av","kindle_single","kindle_edition_active"]),wi=new Set(["digital_audiobook","audible_audiobook","audio_download"]);function Ci(e,t){if("ATVPDKIKX0DER"===(null==t?void 0:t.marketplace))return!0;const i="iOS"===(null==t?void 0:t.operatingsystem)&&"kindle"===(null==t?void 0:t.hostapplication),a="iOS"===(null==t?void 0:t.operatingsystem)&&"mShop"===(null==t?void 0:t.hostapplication);return!(function(e){return!e||xi.has(e)||wi.has(e)}(e)&&(a||i))}const $i="item",Pi="asin";e.UnifiedBookFaceout=class extends Ne{getDefaultConfiguration(){return{enableBookFormat:!1,enableProgramBadge:!1,enableProgramBadgeInMetadataBlock:!1,enableBookPoints:!1,enableBookSponsored:!1,enableBookFormats:!1,enableBookBlurb:!1,enableMetadataBlock:!0,enableBookReleaseDate:!1,bookTapTargetConfiguration:{enableStarRatingPrimaryTapAction:!1,enableFormatTapAction:!1,enablePriceTapAction:!1},bookTitleContentConfiguration:void 0,bookMetadataBadgeConfiguration:{enableBookMetadataBadge:!1,enableBookMetadataBadgeTopSlot:!1},starRatingConfiguration:void 0,bookCoverImageConfiguration:void 0,bookPriceConfiguration:void 0,fontFamilyCSSVariable:"--bds-font-family-functional-body",seriesOverlayConfiguration:{topOffsetPx:this.shouldRenderBadge()?22:7},enableDeliveryPromise:!1,layoutConfiguration:{bookFormatLayout:"secondary"}}}constructor(){var e;super(),this.asinIndex=0,this.bookImageRef=tt(),this.intersectionController=new St(this,{config:{threshold:.5},callback:e=>{if(void 0===this.elementVisibleStartTime)return this.elementVisibleStartTime=Date.now(),e[0].isIntersecting;return((e,t,i,...a)=>Date.now()-e>t&&(i(...a),!0))(this.elementVisibleStartTime,1e3,this.handleCsaCustomEvent,"impressed","UBF")||(this.elementVisibleStartTime=void 0),e[0].isIntersecting}}),this.elementVisibleStartTime=void 0,this.metricsEmitted=new Set,this.position=0,this.isSponsored=!1,this.hasHalfStar=!1,this.ffoIsEnabled=!1,this.shouldShowDeepStack=!1,this.shouldShowDomino=!1,this.handleClick=(e,t)=>{var i,a;this.handleCsaCustomEvent("click",t),null===(i=this.handleNavigation)||void 0===i||i.call(this,this.asin);const o=e;o.altKey||o.ctrlKey||o.shiftKey||o.metaKey||(e.preventDefault(),this.shouldEnableQuickView()&&this.asinContext&&this.detailPageUrl?ki.openQuickView(this.asinIndex,this.asinContext,this.detailPageUrl,null===(a=this.renderContext)||void 0===a?void 0:a.widgetid):this.detailPageUrl&&ki.openWebPage(this.detailPageUrl))},this.getCsaEventDetails=(e,t)=>{var i,a,o,r,s,n,l,d;return{schemaId:"BEE.BDSWebClientSideEvent.3",asin:this.asin||"NULL",preFFOAsin:this.preFFOAsin||"NULL",eventType:e,eventValue:t,widgetId:(null===(i=this.metricsMetadata)||void 0===i?void 0:i.widgetId)||"NULL",widgetGroup:(null===(a=this.metricsMetadata)||void 0===a?void 0:a.widgetGroup)||"NULL",strategyId:(null===(o=this.metricsMetadata)||void 0===o?void 0:o.strategyId)||"NULL",creativeId:(null===(r=this.metricsMetadata)||void 0===r?void 0:r.creativeId)||"NULL",binding:this.format||"NULL",deviceType:(null===(s=this.renderContext)||void 0===s?void 0:s.devicetype)||"NULL",operatingSystem:(null===(n=this.renderContext)||void 0===n?void 0:n.operatingsystem)||"NULL",hostApplication:(null===(l=this.renderContext)||void 0===l?void 0:l.hostapplication)||"NULL",locale:(null===(d=this.renderContext)||void 0===d?void 0:d.locale)||"NULL"}},this.handleCsaCustomEvent=(e,t,i={ent:"all"})=>{var a;this.metricsEmitted.has(e)||(null===(a=this.csaEventInstance)||void 0===a||a.call(this,"log",this.getCsaEventDetails(e,t),i),this.metricsEmitted.add(e))},this.csaEventInstance=null===(e=window.csa)||void 0===e?void 0:e.call(window,"Events",{producerId:"bee"})}getConfigurationOverrides(){const e=_i;return e.forEach((e=>{"mobile"===e.targeting.devicetype&&e.overrides.seriesOverlayConfiguration&&(this.shouldRenderBadge()?e.overrides.seriesOverlayConfiguration.topOffsetPx=18:e.overrides.seriesOverlayConfiguration.topOffsetPx=7)})),e}shouldRenderBadge(){return!!this.badgePhysicalId}addCSAAttributes(){var e,t,i,a,o,r,s,n,l,d,c,u,b,g;this.setAttribute("data-csa-c-type",$i),this.setAttribute("data-csa-c-item-type",Pi),this.setAttribute("data-csa-c-component",this.tagName),this.setAttribute("data-csa-c-item-id",null!==(e=this.asin)&&void 0!==e?e:"NULL"),this.setAttribute("data-csa-c-source",lt),this.setAttribute("data-csa-c-widget-id",(null===(t=this.metricsMetadata)||void 0===t?void 0:t.widgetId)||(null===(i=this.renderContext)||void 0===i?void 0:i.widgetid)||"NULL"),this.setAttribute("data-csa-c-asin-index",this.asinIndex.toString()),this.setAttribute("data-csa-c-widget-group-id",(null===(a=this.metricsMetadata)||void 0===a?void 0:a.widgetGroup)||"NULL"),this.setAttribute("data-csa-c-strategy-id",(null===(o=this.metricsMetadata)||void 0===o?void 0:o.strategyId)||"NULL"),this.setAttribute("data-csa-c-creative-id",(null===(r=this.metricsMetadata)||void 0===r?void 0:r.creativeId)||"NULL"),this.setAttribute("data-csa-c-binding",this.format||"NULL"),this.setAttribute("data-csa-c-device-type",(null===(s=this.renderContext)||void 0===s?void 0:s.devicetype)||"NULL"),this.setAttribute("data-csa-c-os",(null===(n=this.renderContext)||void 0===n?void 0:n.operatingsystem)||"NULL"),this.setAttribute("data-csa-c-host-application",(null===(l=this.renderContext)||void 0===l?void 0:l.hostapplication)||"NULL"),this.setAttribute("data-csa-c-locale",(null===(d=this.renderContext)||void 0===d?void 0:d.locale)||"NULL"),this.setAttribute("data-csa-c-theme",(null===(c=this.renderContext)||void 0===c?void 0:c.theme)||"NULL"),this.setAttribute("data-csa-c-marketplace",(null===(u=this.renderContext)||void 0===u?void 0:u.marketplace)||"NULL"),this.setAttribute("data-csa-c-page-type",(null===(b=this.renderContext)||void 0===b?void 0:b.pagetype)||"NULL");for(const e in this.csaAttributes)this.setAttribute("data-csa-c-"+e,this.csaAttributes[e]);null===(g=window.csa)||void 0===g||g.call(window,"Content",{element:this})}firstUpdated(){var e,t;this.setAsinContextForQuickView(),this.ffoIsEnabled&&this.handleCsaCustomEvent("widgetIsFFOEnabled","UBF"),null===(e=this.csaEventInstance)||void 0===e||e.call(this,"setEntity",{ubf:Object.assign({asinIndex:this.asinIndex.toString()},this.csaAttributes)}),this.addCSAAttributes(),ut.logCountMetric("ubf-displayed"),ut.logCountMetric("ubf-displayed",`${null===(t=this.renderContext)||void 0===t?void 0:t.pagetype}`)}disconnectedCallback(){if(super.disconnectedCallback(),this.elementVisibleStartTime){Date.now()-this.elementVisibleStartTime>1e3&&this.handleCsaCustomEvent("impressed","UBF")}}get badgeLabel(){return this.giftGuideBadgeLabel}set badgeLabel(e){this.giftGuideBadgeLabel=e}getTitleContentForSlot(e,t,i,a){var o,r,s,n,l,d,c,u,b,g,h,v;switch(e){case"title":if(this.bookTitle)return[{displayText:this.bookTitle,language:this.bookTitleLanguage,url:this.detailPageUrl,enableLink:t,appendedInlineContent:this.getAppendedInlineTitleContent(),isBold:i,headingLevel:this.getPrimaryTextHeadingLevel(),handleClick:e=>this.handleClick(e,"title")}];break;case"headline":if(this.bookHeadline)return[{displayText:this.bookHeadline,language:this.bookHeadlineLanguage,url:this.detailPageUrl,enableLink:t}];break;case"author":{const e=a?e=>this.handleClick(e,"author"):void 0,i=this.byLineV2?(g=this.byLineV2,h=null!=t&&t,v=e,g.contributors.map((e=>{var t;return{displayText:e.name,url:null===(t=e.links.find((e=>"authorPageUrl"===e.rel)))||void 0===t?void 0:t.url,enableLink:h,handleClick:v}}))):void 0;if(null===(o=null==i?void 0:i[0])||void 0===o?void 0:o.displayText)return i;if(this.bookAuthor)return[{displayText:this.bookAuthor,url:null!==(r=this.bookAuthorLinkUrl)&&void 0!==r?r:this.detailPageUrl,enableLink:t,handleClick:e}];break}case"seriesBullet":{let e;if(e="mobile"===(null===(s=this.renderContext)||void 0===s?void 0:s.devicetype)&&"list"!==this.layout?null===(l=null===(n=this.seriesBullet)||void 0===n?void 0:n.message)||void 0===l?void 0:l.shortMessage:null===(c=null===(d=this.seriesBullet)||void 0===d?void 0:d.message)||void 0===c?void 0:c.longMessage,e)return[{displayText:e,language:this.seriesBulletLanguage,url:null===(b=null===(u=this.seriesBullet)||void 0===u?void 0:u.link)||void 0===b?void 0:b.url,enableLink:t}];break}}}useUBFStandardV2CX(){return"grid"===this.layout||"standardV2"===this.layout}getAppendedInlineTitleContent(){return nt(this.useUBFStandardV2CX()&&this.giftGuideBadgeLabel,(()=>W`<span class="offscreen">${this.giftGuideBadgeLabel}</span>`))}getPrimaryTextHeadingLevel(){var e;return this.useUBFStandardV2CX()?null!==(e=this.primaryTextHeadingLevel)&&void 0!==e?e:3:void 0}getTitleContentConfiguration(e){var t,i,a,o,r,s,n,l;return{primaryTitleContent:this.getTitleContentForSlot(null===(t=e.bookTitleContentConfiguration)||void 0===t?void 0:t.primaryText,null===(i=e.bookTitleContentConfiguration)||void 0===i?void 0:i.enablePrimaryLink,null===(a=e.bookTitleContentConfiguration)||void 0===a?void 0:a.enablePrimaryTextBold),secondaryTitleContent:this.getTitleContentForSlot(null===(o=e.bookTitleContentConfiguration)||void 0===o?void 0:o.secondaryText,null===(r=e.bookTitleContentConfiguration)||void 0===r?void 0:r.enableSecondaryLink,!1,null===(s=e.bookTitleContentConfiguration)||void 0===s?void 0:s.secondaryShouldLinkToPrimaryTapTarget),tertiaryTitleContent:this.getTitleContentForSlot(null===(n=e.bookTitleContentConfiguration)||void 0===n?void 0:n.tertiaryText,null===(l=e.bookTitleContentConfiguration)||void 0===l?void 0:l.enableTertiaryLink)}}getBookCoverImageAriaLabel(e){var t,i;if(!this.coverImageAltText)return"";let a=this.coverImageAltText;if(!this.isAuthorShown(e)&&this.getBookAuthors()&&(a=Ht("bds_book_name_by_author_text",null===(t=this.renderContext)||void 0===t?void 0:t.locale,{title:this.coverImageAltText,authors:this.getBookAuthors()})),this.badgePhysicalId&&this.badgeAltText&&(a=this.badgeAltText+", "+a),this.seriesCollectionText){const e=Ht("bds_collection_text_in_series_alt_text_prefix",null===(i=this.renderContext)||void 0===i?void 0:i.locale);a=this.seriesCollectionText+" "+e+", "+a}return a}getSeriesOverlay(e){var t;const i=`top: ${null===(t=e.seriesOverlayConfiguration)||void 0===t?void 0:t.topOffsetPx}px`;return W`<div class="series-overlay" style="${i}">
            <bds-series-overlay label=${rt(this.seriesCollectionText)}></bds-series-overlay>
        </div>`}renderBookCoverImage(e){const t=this.useUBFStandardV2CX()?void 0:this.badgePhysicalId,i=this.useUBFStandardV2CX()?void 0:this.badgeAltText,a=this.useUBFStandardV2CX()?void 0:this.badgeExtension;return W`
            <bds-book-cover-image
                coverImagePhysicalId=${this.coverImagePhysicalId}
                coverImageExtension=${rt(this.coverImageExtension)}
                imageStyleCode=${rt(this.imageStyleCodes)}
                coverImageAltText=${this.coverImageAltText}
                layout=${rt(e.layoutConfiguration.bookCoverImageLayout)}
                badgePhysicalId=${rt(t)}
                badgeAltText=${rt(i)}
                badgeExtension=${rt(a)}
                ?useNoMetadataLayout=${!e.enableMetadataBlock}
                ?shouldRenderDeepStack=${this.shouldShowDeepStack}
                ?shouldRenderDomino=${this.shouldShowDomino}
                ${ot(this.bookImageRef)}>
            </bds-book-cover-image>
        `}setAsinContextForQuickView(){var e;this.asin&&(null===(e=this.asinContext)||void 0===e?void 0:e.asinMetadataCallbacks)&&(this.asinIndex=this.asinContext.asinMetadataCallbacks.length,this.asinContext.asinMetadataCallbacks.push(this.getQuickViewMetadata.bind(this)))}getQuickViewMetadata(){var e;const t=this.getBookAuthors();return{asin:this.asin||"",physicalId:this.coverImagePhysicalId,title:this.bookTitle,imageUrl:null===(e=this.bookImageRef.value)||void 0===e?void 0:e.getImageSource(),authors:t||"",detailPageLink:this.detailPageUrl,binding:this.format,reviewStars:this.numberOfStars,reviewCount:this.numberOfReviews}}getBookAuthors(){var e;return(null===(e=this.byLineV2)||void 0===e?void 0:e.contributors)?this.byLineV2.contributors.map((e=>e.name)).join(", "):this.bookAuthor}isAuthorShown(e){const t=e.bookTitleContentConfiguration;return[null==t?void 0:t.primaryText,null==t?void 0:t.secondaryText,null==t?void 0:t.tertiaryText].includes("author")}shouldEnableQuickView(){var e,t;return(!(null===(e=this.renderContext)||void 0===e?void 0:e.widgetid)||!["PopularSeriesByAuthorsYouFollow"].some((e=>{var t,i;return null===(i=null===(t=this.renderContext)||void 0===t?void 0:t.widgetid)||void 0===i?void 0:i.includes(e)})))&&!!(ki.isQuickViewEnabled()&&(null===(t=this.asinContext)||void 0===t?void 0:t.asinMetadataCallbacks)&&this.detailPageUrl)}renderMetadataBlock(e){var t;return W` <div class="ubf-metadata">
            ${nt(e.enableBookSponsored,(()=>W`
                    <bds-book-sponsored ?isSponsored=${this.isSponsored}></bds-book-sponsored>
                `))}
            ${nt(e.bookTitleContentConfiguration,(()=>this.renderBookTitleContentBlock(e)))}
            ${this.renderStarRating(e)}
            ${nt(!this.useUBFStandardV2CX(),(()=>this.renderBookMetadataBadge(e)))}
            ${this.renderProgramBadge(e)} ${this.renderBookFormat(e)}
            ${this.renderBookPrice(e)} ${this.renderBookReleaseDate(e)}
            ${this.renderDeliveryPromise(e)}
            ${nt(e.enableBookPoints&&function(e,t){return!e||!wi.has(e)&&Ci(e,t)}(this.bindingSymbol,this.renderContext)&&!(!this.points&&!(null===(t=this.pointsV2)||void 0===t?void 0:t.displayString)),(()=>W`
                        <bds-book-points
                            points=${rt(this.points)}
                            .pointsV2=${this.pointsV2}></bds-book-points>
                    `))}
            ${nt(e.enableBookFormats,(()=>W` <bds-book-other-formats
                    .allFormats=${this.formats}
                    detailPage=${rt(this.detailPageUrl)}
                    numFormatsToShow=${rt(this.numFormatsToShow)}></bds-book-other-formats>`))}
        </div>`}setLayoutForBackwardCompatibilty(){const e={fixedHeight:"standard",contained:"contained",containedBaseline:"containedBaseline",blurredBackdrop:"blurred-backdrop",grid:"grid",responsiveToContainer:"grid",list:"list"};this.coverImageLayout&&!this.layout&&(this.layout=e[this.coverImageLayout])}renderBookTitleContentBlock(e){var t,i,a;const o=this.getTitleContentConfiguration(e);return W` <bds-book-title-content
            layout=${rt(e.layoutConfiguration.bookTitleContentLayout)}
            .primaryTitleContent=${o.primaryTitleContent}
            ?suppressPrimaryAria=${!this.useUBFStandardV2CX()&&(null===(t=e.bookTitleContentConfiguration)||void 0===t?void 0:t.suppressPrimaryAria)}
            .secondaryTitleContent=${o.secondaryTitleContent}
            ?suppressSecondaryAria=${null===(i=e.bookTitleContentConfiguration)||void 0===i?void 0:i.suppressSecondaryAria}
            .tertiaryTitleContent=${o.tertiaryTitleContent}
            ?suppressTertiaryAria=${null===(a=e.bookTitleContentConfiguration)||void 0===a?void 0:a.suppressTertiaryAria}></bds-book-title-content>`}renderCoverImageBlock(e){var t;const i=!(!this.useUBFStandardV2CX()||!this.bookTitle&&!this.bookHeadline);return nt(!(null===(t=e.bookCoverImageConfiguration)||void 0===t?void 0:t.disableBookCoverImage),(()=>this.detailPageUrl?W`<a
                      href=${this.detailPageUrl}
                      role=${this.shouldEnableQuickView()?"button":"link"}
                      tabindex="${i?-1:0}"
                      @click=${e=>this.handleClick(e,"coverimage")}
                      aria-label=${this.getBookCoverImageAriaLabel(e)}
                      aria-hidden=${i}>
                      ${nt(this.seriesCollectionText,(()=>this.getSeriesOverlay(e)))}
                      ${this.renderBookCoverImage(e)}
                  </a>`:W`<div
                      aria-label=${this.getBookCoverImageAriaLabel(e)}
                      aria-hidden=${i}>
                      ${this.renderBookCoverImage(e)}
                  </div>`))}renderProgramBadge(e){var t;const i=(null===(t=e.bookTapTargetConfiguration)||void 0===t?void 0:t.enableProgramBadgeTapAction)?e=>this.handleClick(e,"programbadge"):void 0;return nt(e.enableProgramBadge&&e.enableProgramBadgeInMetadataBlock&&this.badgePhysicalId,(()=>{const e=this.useUBFStandardV2CX()?13:void 0,t=W`
                    <bds-program-badge
                        badgePhysicalId=${rt(this.badgePhysicalId)}
                        badgeAltText=${rt(this.badgeAltText)}
                        badgeExtension=${rt(this.badgeExtension)}
                        badgeImageHeightPx=${rt(e)}
                        @click=${i}>
                    </bds-program-badge>
                `;return this.useUBFStandardV2CX()?W`<div class="program-badge-wrapper">${t}</div>`:t}))}renderBookMetadataBadge(e){var t;return nt((null===(t=null==e?void 0:e.bookMetadataBadgeConfiguration)||void 0===t?void 0:t.enableBookMetadataBadge)&&this.giftGuideBadgeLabel,(()=>W`
                <div class="book-metadata-badge">
                    <bds-book-metadata-badge
                        giftGuideBadgeLabel=${rt(this.giftGuideBadgeLabel)}
                        badgeType=${rt(this.metadataBadgeType)}>
                    </bds-book-metadata-badge>
                </div>
            `))}renderBookFormat(e){var t;const i=(null===(t=e.bookTapTargetConfiguration)||void 0===t?void 0:t.enableFormatTapAction)?e=>this.handleClick(e,"format"):void 0;return nt(e.enableBookFormat,(()=>W`
                <div class="book-format">
                    <bds-book-format
                        layout=${rt(e.layoutConfiguration.bookFormatLayout)}
                        format=${rt(this.format)}
                        .secondaryBadge=${this.secondaryBadge}
                        @click=${i}>
                    </bds-book-format>
                </div>
            `))}renderBookPrice(e){var t,i;const a=(null===(t=e.bookTapTargetConfiguration)||void 0===t?void 0:t.enablePriceTapAction)?e=>this.handleClick(e,"price"):void 0,o=[!!this.unstylizedPrice,!!this.priceFormatParts,!!this.youPayPromotion,!!this.audiblePromotion,!!this.basisPriceDisplayString,!!this.priceToPayMessage].filter((e=>!!e)).length>0;return nt((null===(i=e.bookPriceConfiguration)||void 0===i?void 0:i.enableBookPrice)&&Ci(this.bindingSymbol,this.renderContext)&&o,(()=>W`
                ${nt(this.dealBadge||this.kindlePromotionTags,(()=>W`<bds-book-deal-badge
                        .dealBadge=${this.dealBadge}
                        .kindlePromotionTags=${this.kindlePromotionTags}>
                    </bds-book-deal-badge>`))}
                <bds-book-price
                    unstylizedPrice=${rt(this.unstylizedPrice)}
                    .priceFormatParts=${this.priceFormatParts}
                    .youPayPromotion=${this.youPayPromotion}
                    .audiblePromotion=${this.audiblePromotion}
                    layout=${rt(e.layoutConfiguration.priceLayout)}
                    basisPriceDisplayString=${rt(this.basisPriceDisplayString)}
                    basisPriceLabel=${rt(this.basisPriceLabel)}
                    savingsPercentageDisplayString=${rt(this.savingsPercentageDisplayString)}
                    priceToPayMessage=${rt(this.priceToPayMessage)}
                    @click=${a}>
                </bds-book-price>
            `))}renderBookReleaseDate(e){var t;return nt(e.enableBookReleaseDate&&(null===(t=this.releaseDate)||void 0===t?void 0:t.displayString),(()=>W` <bds-book-release-date .releaseDate=${this.releaseDate}>
            </bds-book-release-date>`))}renderDeliveryPromise(e){var t,i,a,o,r;const s=(null===(t=e.bookTapTargetConfiguration)||void 0===t?void 0:t.enablePriceTapAction)?e=>this.handleClick(e,"deliverypromise"):void 0;return nt(e.enableDeliveryPromise&&(null===(a=null===(i=this.deliveryInfo)||void 0===i?void 0:i.deliveryBadge)||void 0===a?void 0:a.badgePhysicalId)&&(null===(r=null===(o=this.deliveryInfo)||void 0===o?void 0:o.deliveryMessageFragmentList)||void 0===r?void 0:r.length),(()=>W` <bds-delivery-promise
                    .deliveryInfo=${this.deliveryInfo}
                    @click=${s}>
                </bds-delivery-promise>`),(()=>Q))}renderStarRating(e){var t;const i=(null===(t=e.bookTapTargetConfiguration)||void 0===t?void 0:t.enableStarRatingPrimaryTapAction)?e=>this.handleClick(e,"reviewstars"):void 0;return nt(e.starRatingConfiguration&&this.numberOfReviews&&this.numberOfReviews>0,(()=>{var t,a;return W`
                <div class="star-rating">
                    <bds-star-rating
                        numberOfStars=${rt(this.numberOfStars)}
                        ?hasHalfStar=${this.hasHalfStar}
                        numberOfReviews=${rt(this.numberOfReviews)}
                        reviewUrl=${rt(this.reviewUrl)}
                        ?enableReviewsLink=${null===(t=e.starRatingConfiguration)||void 0===t?void 0:t.enableReviewsLink}
                        ?allowWrap=${null===(a=e.starRatingConfiguration)||void 0===a?void 0:a.enableStarRatingsWrap}
                        altText=${rt(this.starRatingAltText)}
                        shortDisplayString=${rt(this.starRatingShortDisplayString)}
                        layout="${rt(e.layoutConfiguration.starRatingLayout)}"
                        @click=${i}>
                    </bds-star-rating>
                </div>
            `}))}renderStandardV2Block(e){var t;return W`
            ${nt(!!this.giftGuideBadgeLabel||(null===(t=e.bookMetadataBadgeConfiguration)||void 0===t?void 0:t.enableBookMetadataBadgeTopSlot),(()=>W` <div
                    class="metadata-badge-slot ${Bt({hidden:"Hidden"===this.giftGuideBadgeLabel})}"
                    aria-hidden="true">
                    ${this.renderBookMetadataBadge(e)}
                </div>`))}
            ${this.renderCoverImageBlock(e)} ${this.renderMetadataBlock(e)}
        `}renderListBlock(e){return W` ${this.renderCoverImageBlock(e)} ${this.renderMetadataBlock(e)} `}renderDefaultBlock(e){return W`<div class="ubf-book-info">
                ${this.renderCoverImageBlock(e)}
                ${nt(e.enableMetadataBlock,(()=>this.renderMetadataBlock(e)))}
            </div>
            ${nt(e.enableBookBlurb,(()=>W` <bds-book-blurb .blurbMetadata=${this.blurbMetadata}></bds-book-blurb>`))}`}render(){var e;this.intersectionController.value||void 0===this.elementVisibleStartTime||this.metricsEmitted.has("impressed")||(this.elementVisibleStartTime=void 0),ut.logCountMetric("ubf-rendered"),this.setLayoutForBackwardCompatibilty();const t=this.getRenderConfiguration(this.layout);return W`
            <div
                class="unified-book-faceout ${this.layout} ${null===(e=this.renderContext)||void 0===e?void 0:e.theme}
                    ${t.enableMetadataBlock?"":"no-metadata-layout"}"
                style="font-family: var(${t.fontFamilyCSSVariable})"
                data-csa-c-type="${$i}"
                data-csa-c-item-type="${Pi}"
                data-csa-c-item-id="${rt(this.asin)}">
                ${Ve(this.layout,[["grid",()=>this.renderStandardV2Block(t)],["list",()=>this.renderListBlock(t)],["standardV2",()=>this.renderStandardV2Block(t)]],(()=>this.renderDefaultBlock(t)))}
            </div>
        `}},e.UnifiedBookFaceout.styles=It,t([fe({context:Te,subscribe:!0})],e.UnifiedBookFaceout.prototype,"asinContext",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"detailPageUrl",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"asin",void 0),t([xe({type:Number})],e.UnifiedBookFaceout.prototype,"position",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"coverImagePhysicalId",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"coverImageExtension",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"coverImageAltText",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"coverImageLayout",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"layout",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"badgePhysicalId",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"badgeAltText",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"badgeExtension",void 0),t([xe({type:Object})],e.UnifiedBookFaceout.prototype,"secondaryBadge",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"bookTitle",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"bookTitleLanguage",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"bookHeadline",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"bookHeadlineLanguage",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"bookAuthor",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"bookAuthorLinkUrl",void 0),t([xe({type:Object})],e.UnifiedBookFaceout.prototype,"byLineV2",void 0),t([xe({type:Boolean})],e.UnifiedBookFaceout.prototype,"isSponsored",void 0),t([xe({type:Number})],e.UnifiedBookFaceout.prototype,"numberOfStars",void 0),t([xe({type:Boolean})],e.UnifiedBookFaceout.prototype,"hasHalfStar",void 0),t([xe({type:Number})],e.UnifiedBookFaceout.prototype,"numberOfReviews",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"starRatingAltText",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"starRatingShortDisplayString",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"reviewUrl",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"giftGuideBadgeLabel",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"unstylizedPrice",void 0),t([xe({type:Object})],e.UnifiedBookFaceout.prototype,"priceFormatParts",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"basisPriceDisplayString",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"basisPriceLabel",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"savingsPercentageDisplayString",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"priceToPayMessage",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"metadataBadgeType",void 0),t([xe({type:Object})],e.UnifiedBookFaceout.prototype,"youPayPromotion",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"points",void 0),t([xe({type:Object})],e.UnifiedBookFaceout.prototype,"pointsV2",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"format",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"bindingSymbol",void 0),t([xe({type:String,reflect:!0})],e.UnifiedBookFaceout.prototype,"cel_widget_id",void 0),t([xe({type:String,reflect:!0})],e.UnifiedBookFaceout.prototype,"class",void 0),t([xe({type:Object})],e.UnifiedBookFaceout.prototype,"blurbMetadata",void 0),t([xe({type:Array})],e.UnifiedBookFaceout.prototype,"formats",void 0),t([xe({type:Number})],e.UnifiedBookFaceout.prototype,"numFormatsToShow",void 0),t([xe({type:Object})],e.UnifiedBookFaceout.prototype,"seriesBullet",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"seriesBulletLanguage",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"backgroundColor",void 0),t([xe()],e.UnifiedBookFaceout.prototype,"handleNavigation",void 0),t([xe()],e.UnifiedBookFaceout.prototype,"badgeLabel",null),t([xe({type:Object})],e.UnifiedBookFaceout.prototype,"metricsMetadata",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"preFFOAsin",void 0),t([xe({type:Boolean})],e.UnifiedBookFaceout.prototype,"ffoIsEnabled",void 0),t([xe({type:Object})],e.UnifiedBookFaceout.prototype,"audiblePromotion",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"seriesCollectionText",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"imageStyleCodes",void 0),t([xe({type:Object})],e.UnifiedBookFaceout.prototype,"deliveryInfo",void 0),t([xe({type:Number})],e.UnifiedBookFaceout.prototype,"primaryTextHeadingLevel",void 0),t([xe({type:Object})],e.UnifiedBookFaceout.prototype,"csaAttributes",void 0),t([xe({type:Object})],e.UnifiedBookFaceout.prototype,"releaseDate",void 0),t([xe({type:Boolean})],e.UnifiedBookFaceout.prototype,"shouldShowDeepStack",void 0),t([xe({type:Boolean})],e.UnifiedBookFaceout.prototype,"shouldShowDomino",void 0),t([xe({type:Object})],e.UnifiedBookFaceout.prototype,"dealBadge",void 0),t([xe({type:Object})],e.UnifiedBookFaceout.prototype,"kindlePromotionTags",void 0),e.UnifiedBookFaceout=t([Be("bds-unified-book-faceout")],e.UnifiedBookFaceout);var Ti=v`
    :host {
        font-family: var(--bds-font-family-functional-label);
        display: inline-block;
    }
`;const Bi="00:00";e.CountdownTimer=class extends ue{constructor(){super(...arguments),this.targetTime="",this.endedText=Bi,this.remaining=0,this.ended=!1}connectedCallback(){super.connectedCallback(),this.start()}disconnectedCallback(){super.disconnectedCallback(),this.clearTimer()}updated(e){e.has("targetTime")&&this.start()}clearTimer(){this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=void 0)}start(){this.clearTimer(),this.ended=!1;const e=new Date(this.targetTime).getTime();this.tick(e),this.intervalId=window.setInterval((()=>this.tick(e)),1e3)}tick(e){const t=e-Date.now();t<=0?(this.remaining=0,this.ended=!0,this.clearTimer()):this.remaining=t}format(e){const t=Math.floor(e/1e3),i=Math.floor(t/3600),a=Math.floor(t%3600/60),o=t%60;let r="";return i>0&&(r+=`${String(i).padStart(2,"0")}:`),a>0&&(r+=`${String(a).padStart(2,"0")}:`),r+=`${String(o).padStart(2,"0")}`,r}render(){return this.ended?W`<span class="ended">${this.endedText}</span>`:W` <span class="time">${this.format(this.remaining)}</span> `}},e.CountdownTimer.styles=Ti,t([xe({type:String})],e.CountdownTimer.prototype,"targetTime",void 0),t([xe({type:String})],e.CountdownTimer.prototype,"endedText",void 0),t([we()],e.CountdownTimer.prototype,"remaining",void 0),t([we()],e.CountdownTimer.prototype,"ended",void 0),e.CountdownTimer=t([Be("bds-countdown-timer"),pt],e.CountdownTimer);var Si=v`
    .buy.filled {
        color: var(--bds-color-functional-supplemental-rio-primary);
        background: var(--bds-color-functional-supplemental-rio-buy-now);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-rio-color-orange-palette-600-blaze, #ff8f00);
        outline: none;
    }

    .buy.filled:active {
        background: var(--bds-rio-color-orange-palette-300-ignition, #eb7b13);
    }

    .buy.filled:focus {
        border: var(--bds-size-line-weight-small) solid
            var(--bds-rio-color-blue-palette-400-pacific, #007185);
        box-shadow: 0 0 0 0.1875rem #fff inset, 0 0 0 0.1875rem #c8f3fa,
            0 0.125rem 0.3125rem 0 rgba(213, 217, 217, 0.5);
    }

    .buy.filled:disabled {
        color: var(--bds-color-functional-utils-on-surface-inactive);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-rio-color-orange-palette-1200-vent, #ffd894);
        background: var(--bds-rio-color-orange-palette-1500-spark, #fff8e5);
    }

    .buy.filled:hover {
        border: var(--bds-size-line-weight-small) solid
            var(--bds-rio-color-orange-palette-400-vulcan, #f78307);
        background: var(--bds-rio-color-orange-palette-500-molten, #fa8900);
    }
`,Ai=v`
    .order.filled {
        color: var(--bds-color-functional-supplemental-rio-primary);
        background: var(--bds-color-functional-supplemental-rio-add-to-cart);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-rio-color-yellow-800-solar, #fcd200);
        outline: none;
    }

    .order.filled:active {
        background: var(--bds-rio-color-yellow-500-supergiant, #f0b800);
    }

    .order.filled:focus {
        border: var(--bds-size-line-weight-small) solid
            var(--bds-rio-color-blue-palette-400-pacific, #007185);
        box-shadow: 0 0 0 0.1875rem #fff inset, 0 0 0 0.1875rem #c8f3fa,
            0 0.125rem 0.3125rem 0 rgba(213, 217, 217, 0.5);
    }

    .order.filled:disabled {
        color: var(--bds-color-functional-utils-on-surface-inactive);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-rio-color-yellow-1200-sirius, #ffed94);
        background: var(--bds-rio-color-yellow-palette-1500-Luna, #fffae0);
    }

    .order.filled:hover {
        border: var(--bds-size-line-weight-small) solid
            var(--bds-rio-color-yellow-600-arcturus, #f2c200);
        background: var(--bds-rio-color-yellow-700-venus, #f7ca00);
    }
`,Ii=v`
    .common.filled {
        background: var(--bds-color-functional-core-secondary);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-core-secondary);
    }

    .common.outlined {
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-neutral-outline);
    }
`,zi=v`
    .rare.filled {
        background: var(
            --bds-color-functional-gradients-electric-unicorn,
            linear-gradient(226deg, #0274e6 -0.01%, #5e5cd1 41.89%, #cc0285 97.94%)
        );
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-utils-transparent);
    }

    .rare.outlined {
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-gradients-electric-unicorn, #0274e6);
    }
`,Li=v`
    .reading.filled {
        background: var(--bds-color-functional-core-primary-fixed);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-core-primary-fixed);
    }

    .reading.outlined {
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-core-primary-fixed);
    }
`,Ri=v`
    :host > button,
    :host > a {
        position: relative;
        font-family: var(--bds-font-family-functional-body);
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: var(--bds-size-radius-circle);
        font-style: normal;
        font-weight: 400;
        min-width: var(--bds-size-tap-target-minimum);
        min-height: var(--bds-size-tap-target-minimum);
    }

    :host > a {
        text-decoration: none;
        display: inline-flex;
        box-sizing: border-box;
    }

    button:disabled,
    a[aria-disabled='true'] {
        cursor: default;
    }

    :hover {
        cursor: pointer;
    }

    .full-width {
        width: 100%;
        max-width: 400px; /* max width for button for large screens and tablet view */
    }

    .common.filled {
        color: var(--bds-color-functional-core-on-secondary);
    }

    .rare.filled {
        color: var(--bds-color-functional-core-on-electric-unicorn);
    }

    .reading.filled {
        color: var(--bds-color-functional-core-on-primary-fixed);
    }

    .common.outlined,
    .rare.outlined,
    .reading.outlined {
        color: var(--bds-color-functional-neutral-on-surface);
        background: none;
    }

    .common:focus,
    .rare:focus,
    .reading:focus {
        box-shadow: 0 0 0 0.1875rem #fff inset, 0 0 0 0.1875rem #c8f3fa,
            0 0.125rem 0.3125rem 0 rgba(213, 217, 217, 50%);
    }

    .common.filled:disabled,
    .rare.filled:disabled,
    .reading.filled:disabled {
        color: var(--bds-color-functional-utils-on-surface-inactive);
        background: var(--bds-color-functional-utils-surface-inactive);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-utils-outline-inactive);
    }

    .common.outlined:disabled,
    .rare.outlined:disabled,
    .reading.outlined:disabled {
        color: var(--bds-color-functional-utils-on-surface-inactive);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-neutral-outline-variant);
    }

    .common.filled:hover:after,
    .rare.filled:hover:after,
    .reading.filled:hover:after {
        background: var(--bds-color-functional-utils-overlay-alpha-2-inverse);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-utils-overlay-alpha-2-inverse);
    }

    .common.filled:active:after,
    .rare.filled:active:after,
    .reading.filled:active:after {
        background: var(--bds-color-functional-utils-overlay-alpha-1-inverse);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-utils-overlay-alpha-1-inverse);
    }

    .common.outlined:hover:after,
    .rare.outlined:hover:after,
    .reading.outlined:hover:after {
        background: var(--bds-color-functional-utils-overlay-alpha-2);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-utils-overlay-alpha-2);
    }

    .common.outlined:active:after,
    .rare.outlined:active:after,
    .reading.outlined:active:after {
        background: var(--bds-color-functional-utils-overlay-alpha-1);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-utils-overlay-alpha-1);
    }

    .common:hover:after,
    .rare:hover:after,
    .reading:hover:after,
    .common:active:after,
    .rare:active:after,
    .reading:active:after {
        border-radius: var(--bds-size-radius-circle);
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
    }

    .base {
        padding: 6px var(--bds-size-utils-padding-20);
        font-size: var(--bds-size-font-functional-label-medium);
        line-height: var(--bds-size-line-height-functional-label-medium); /* 142.857% */
    }

    .small {
        padding: 2px var(--bds-size-spacing-small);
        font-size: var(--bds-size-font-functional-label-small);
        line-height: var(--bds-size-line-height-functional-label-small); /* 133.333% */
    }

    .inner-border {
        position: absolute;
        inset: 0;
        border-radius: var(--bds-size-radius-circle);
        display: none;
    }
`
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */;class Oi extends Qe{constructor(e){if(super(e),this.et=Q,e.type!==We)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===Q||null==e)return this.ft=void 0,this.et=e;if(e===G)return e;if("string"!=typeof e)throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.et)return this.ft;this.et=e;var t=[e];return t.raw=t,this.ft={_$litType$:this.constructor.resultType,strings:t,values:[]}}}Oi.directiveName="unsafeHTML",Oi.resultType=1;var Mi=Ge(Oi);e.Button=class extends ue{constructor(){super(...arguments),this.size="base",this.fullWidth=!1,this.isInactive=!1,this.onClickHandler=e=>{var t;ut.logCountMetric(`bds-button-clicked-${this.category}-${this.emphasis}`),null===(t=this.handleClick)||void 0===t||t.call(this,e)}}static get styles(){return[Ri,Si,Ii,Ai,zi,Li]}render(){var e,t,i,a;return this.url?W` <a
                href=${this.url}
                aria-label=${rt(this.accessibilityLabel)}
                aria-disabled=${this.isInactive?"true":"false"}
                class="${this.category} ${this.emphasis} ${this.size} ${null!==(t=null===(e=this.renderContext)||void 0===e?void 0:e.theme)&&void 0!==t?t:""} ${this.fullWidth?"full-width":""}"
                ?disabled=${this.isInactive}>
                ${Mi(this.content)}
            </a>`:W` <button
            aria-label=${rt(this.accessibilityLabel)}
            @click=${this.onClickHandler}
            class="${this.category} ${this.emphasis} ${this.size} ${null!==(a=null===(i=this.renderContext)||void 0===i?void 0:i.theme)&&void 0!==a?a:""} ${this.fullWidth?"full-width":""}"
            ?disabled=${this.isInactive}>
            ${Mi(this.content)}
        </button>`}},t([xe({type:String})],e.Button.prototype,"accessibilityLabel",void 0),t([xe({type:String})],e.Button.prototype,"category",void 0),t([xe({type:String})],e.Button.prototype,"content",void 0),t([xe({type:String})],e.Button.prototype,"emphasis",void 0),t([xe({type:String})],e.Button.prototype,"size",void 0),t([xe({type:Boolean})],e.Button.prototype,"fullWidth",void 0),t([xe()],e.Button.prototype,"handleClick",void 0),t([xe({type:Boolean})],e.Button.prototype,"isInactive",void 0),t([xe({type:String})],e.Button.prototype,"url",void 0),t([fe({context:Pe,subscribe:!0})],e.Button.prototype,"renderContext",void 0),e.Button=t([Be("bds-button"),pt],e.Button),e.RareButton=class extends ue{constructor(){super(...arguments),this.size="base",this.fullWidth=!1,this.isInactive=!1}render(){return W` <bds-button
            accessibilityLabel=${rt(this.accessibilityLabel)}
            content=${this.content}
            category="rare"
            emphasis=${this.emphasis}
            size=${rt(this.size)}
            .handleClick=${this.handleClick}
            ?fullWidth=${this.fullWidth}
            ?isInactive=${this.isInactive}>
        </bds-button>`}},t([xe({type:String})],e.RareButton.prototype,"accessibilityLabel",void 0),t([xe({type:String})],e.RareButton.prototype,"content",void 0),t([xe({type:String})],e.RareButton.prototype,"emphasis",void 0),t([xe({type:String})],e.RareButton.prototype,"size",void 0),t([xe({type:Boolean})],e.RareButton.prototype,"fullWidth",void 0),t([xe()],e.RareButton.prototype,"handleClick",void 0),t([xe({type:Boolean})],e.RareButton.prototype,"isInactive",void 0),e.RareButton=t([Be("bds-rare-button")],e.RareButton),e.ReadingButton=class extends ue{constructor(){super(...arguments),this.size="base",this.fullWidth=!1,this.isInactive=!1,this.onClickReadHandler=e=>{var t;this.handleClick?this.handleClick():this.callToAction?(null==e||e.preventDefault(),ki.openWebPage(null===(t=this.callToAction)||void 0===t?void 0:t.url)):ut.logCountMetric("bds-reading-button-onclick-error")}}render(){var e,t;const i=this.handleClick||yi.isNativeBridgeAvailable()&&yi.isOpenWebPageAvailable();return W` <bds-button
            accessibilityLabel=${rt(this.accessibilityLabel)}
            content=${Ht("bds_read_now_button_label",null===(e=this.renderContext)||void 0===e?void 0:e.locale)}
            category="reading"
            emphasis=${this.emphasis}
            size=${rt(this.size)}
            url=${rt(i||null===(t=this.callToAction)||void 0===t?void 0:t.url)}
            .handleClick=${this.onClickReadHandler}
            ?fullWidth=${this.fullWidth}
            ?isInactive=${this.isInactive}>
        </bds-button>`}},t([xe({type:String})],e.ReadingButton.prototype,"accessibilityLabel",void 0),t([xe({type:String})],e.ReadingButton.prototype,"emphasis",void 0),t([xe({type:String})],e.ReadingButton.prototype,"size",void 0),t([xe({type:Boolean})],e.ReadingButton.prototype,"fullWidth",void 0),t([xe()],e.ReadingButton.prototype,"handleClick",void 0),t([xe({type:Object})],e.ReadingButton.prototype,"callToAction",void 0),t([xe({type:Boolean})],e.ReadingButton.prototype,"isInactive",void 0),t([fe({context:Pe,subscribe:!0})],e.ReadingButton.prototype,"renderContext",void 0),e.ReadingButton=t([Be("bds-reading-button")],e.ReadingButton),e.CommonButton=class extends ue{constructor(){super(...arguments),this.size="base",this.fullWidth=!1,this.isInactive=!1,this.onClickReadHandler=e=>{this.handleClick?this.handleClick():this.url?(null==e||e.preventDefault(),ki.openWebPage(this.url)):ut.logCountMetric("bds-common-button-onclick-error")}}render(){const e=this.handleClick||yi.isNativeBridgeAvailable()&&yi.isOpenWebPageAvailable();return W` <bds-button
            accessibilityLabel=${rt(this.accessibilityLabel)}
            content=${this.content}
            category="common"
            emphasis=${this.emphasis}
            size=${rt(this.size)}
            url=${rt(e||null==this?void 0:this.url)}
            .handleClick=${this.onClickReadHandler}
            ?fullWidth=${this.fullWidth}
            ?isInactive=${this.isInactive}>
        </bds-button>`}},t([xe({type:String})],e.CommonButton.prototype,"accessibilityLabel",void 0),t([xe({type:String})],e.CommonButton.prototype,"content",void 0),t([xe({type:String})],e.CommonButton.prototype,"emphasis",void 0),t([xe({type:String})],e.CommonButton.prototype,"size",void 0),t([xe({type:Boolean})],e.CommonButton.prototype,"fullWidth",void 0),t([xe()],e.CommonButton.prototype,"handleClick",void 0),t([xe({type:String})],e.CommonButton.prototype,"url",void 0),t([xe({type:Boolean})],e.CommonButton.prototype,"isInactive",void 0),e.CommonButton=t([Be("bds-common-button")],e.CommonButton);const Ei={KINDLE_UNLIMITED:"KU",COMICS_UNLIMITED:"CU",PrimeReading:"PRIME"},Fi={"content-type":"application/x-www-form-urlencoded"};function Di(e){e&&e.ok&&(e.redirected?ki.openWebPage(e.url):e.json().then((e=>{var t,i,a;try{const o=null===(a=null===(i=null===(t=null==e?void 0:e.resources)||void 0===t?void 0:t[0].states)||void 0===i?void 0:i[0].links)||void 0===a?void 0:a[0].url;o&&ki.openWebPage(o)}catch(e){throw ut.logCountMetric("bds-fetchresponse-handler-error"),new Error(`Error in getting redirect url from fetchResponse: ${e}`)}})))}function Ui(e,t){if(!t)return e;const[i,a]=e.split("?"),o=new URLSearchParams(a);Object.entries(t).forEach((([e,t])=>{o.append(e,t)}));const r=new URL(i,"https://www.amazon.com");return r.search=o.toString(),r.pathname+r.search}const Hi=e=>{const t={};if(!e)return t;for(const i of e)(null==i?void 0:i.name)&&(null==i?void 0:i.value)&&(t[i.name]=i.value);return t};function Ni(e,t){var i;const{url:a,data:o}=e,r=Ui(a,t),s=(e=>{var t,i,a,o,r,s,n,l,d;const c=Hi(e);return{programCode:null!==(i=null!==(t=null==c?void 0:c.programCode)&&void 0!==t?t:null==c?void 0:c.program)&&void 0!==i?i:"KINDLE_UNLIMITED",channelCode:null!==(o=null!==(a=null==c?void 0:c.programChannel)&&void 0!==a?a:null==c?void 0:c.channel)&&void 0!==o?o:"ALL_YOU_CAN_READ",programName:null!==(n=null!==(r=null==c?void 0:c.programName)&&void 0!==r?r:Ei[null!==(s=c.programCode)&&void 0!==s?s:""])&&void 0!==n?n:"KU",actionType:null!==(l=null==c?void 0:c.actionType)&&void 0!==l?l:"Borrow",asin:null!==(d=null==c?void 0:c.asin)&&void 0!==d?d:""}})(null==o?void 0:o.parameters),n={csrf:null!==(i=null==t?void 0:t.csrf)&&void 0!==i?i:"",items:[{action:{asin:s.asin,actionType:s.actionType,program:{programCode:s.programCode,name:s.programName,channelCode:s.channelCode}}}]};return fetch(r,{method:"POST",headers:Fi,body:new URLSearchParams(Vi(n))}).then((e=>Di(e)))}function Vi(e,t=""){const i=[];for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const o=Array.isArray(e),r=t?o?`${t}[${a}]`:`${t}.${a}`:a,s=o?e[Number(a)]:e[a];null!==s&&"object"==typeof s?i.push(Vi(s,r)):i.push(`${encodeURIComponent(r)}=${encodeURIComponent(s)}`)}return i.join("&")}e.BuyButton=class extends ue{constructor(){super(...arguments),this.category="buy",this.size="base",this.fullWidth=!1,this.isInactive=!1,this.onClickBuyHandler=()=>{if(this.handleClick)this.handleClick();else if(this.callToAction)try{this.isInactive=!0,function(e,t){var i;const a="data"in e?Hi(null===(i=e.data)||void 0===i?void 0:i.parameters):{},o=new Pt(a).getData();o.csrf=null==t?void 0:t.csrf;const r=Ui(e.url,t);return fetch(r,{method:"POST",headers:Fi,body:new URLSearchParams(Vi(o))}).then((e=>Di(e)))}(this.callToAction,this.biFrostRequestParams).finally((()=>{this.isInactive=!1}))}catch(e){ut.logCountMetric(`bds-buy-button-onclick-error-${this.category}-${this.emphasis}`)}}}render(){return W` <bds-button
            accessibilityLabel=${rt(this.accessibilityLabel)}
            content=${this.content}
            category=${rt(this.category)}
            emphasis=${this.emphasis}
            size=${rt(this.size)}
            .handleClick=${this.onClickBuyHandler}
            ?fullWidth=${this.fullWidth}
            ?isInactive=${this.isInactive}>
        </bds-button>`}},t([xe({type:String})],e.BuyButton.prototype,"accessibilityLabel",void 0),t([xe({type:String})],e.BuyButton.prototype,"category",void 0),t([xe({type:String})],e.BuyButton.prototype,"content",void 0),t([xe({type:String})],e.BuyButton.prototype,"emphasis",void 0),t([xe({type:String})],e.BuyButton.prototype,"size",void 0),t([xe({type:Boolean})],e.BuyButton.prototype,"fullWidth",void 0),t([xe()],e.BuyButton.prototype,"handleClick",void 0),t([xe({type:Object})],e.BuyButton.prototype,"callToAction",void 0),t([xe({type:Object})],e.BuyButton.prototype,"biFrostRequestParams",void 0),t([xe({type:Boolean})],e.BuyButton.prototype,"isInactive",void 0),e.BuyButton=t([Be("bds-buy-button")],e.BuyButton),e.BorrowButton=class extends ue{constructor(){super(...arguments),this.size="base",this.fullWidth=!1,this.isInactive=!1,this.onClickBuyHandler=()=>{if(this.handleClick)this.handleClick();else if(this.isInactive=!0,this.callToAction)try{"data"in this.callToAction&&Ni(this.callToAction,this.biFrostRequestParams).finally((()=>{this.isInactive=!1}))}catch(e){ut.logCountMetric("bds-borrow-button-borrow-onclick-error")}else if(this.ebookSample)try{(function(e,t){var i;const a=Ui(e.endpoint.url,t);return fetch(a,{method:"POST",headers:Fi,body:new URLSearchParams({csrf:null!==(i=null==t?void 0:t.csrf)&&void 0!==i?i:""})}).then((e=>Di(e)))})(this.ebookSample,this.biFrostRequestParams).finally((()=>{this.isInactive=!1}))}catch(e){ut.logCountMetric("bds-borrow-button-ebookSample-onclick-error")}}}render(){return W` <bds-button
            accessibilityLabel=${rt(this.accessibilityLabel)}
            content=${this.content}
            category=${"order"}
            emphasis=${"filled"}
            size=${rt(this.size)}
            .handleClick=${this.onClickBuyHandler}
            ?fullWidth=${this.fullWidth}
            ?isInactive=${this.isInactive}>
        </bds-button>`}},t([xe({type:String})],e.BorrowButton.prototype,"accessibilityLabel",void 0),t([xe({type:String})],e.BorrowButton.prototype,"content",void 0),t([xe({type:String})],e.BorrowButton.prototype,"size",void 0),t([xe({type:Boolean})],e.BorrowButton.prototype,"fullWidth",void 0),t([xe()],e.BorrowButton.prototype,"handleClick",void 0),t([xe({type:Object})],e.BorrowButton.prototype,"callToAction",void 0),t([xe({type:Object})],e.BorrowButton.prototype,"biFrostRequestParams",void 0),t([xe({type:Object})],e.BorrowButton.prototype,"ebookSample",void 0),t([xe({type:Boolean})],e.BorrowButton.prototype,"isInactive",void 0),e.BorrowButton=t([Be("bds-borrow-button")],e.BorrowButton);var ji=v`
    :host {
        display: inline-block;
    }
`;e.Icon=class extends ue{constructor(){super(...arguments),this.iconColor="var(--bds-color-functional-neutral-outline-bright)",this.iconSize="24px"}render(){return W`
            <div
                style="
                    width: ${this.iconSize};
                    height: ${this.iconSize};
                    mask: url(${Fe(this.iconName)}) no-repeat center;
                    mask-size: 100%;
                    background-color: ${this.iconColor}
                "></div>
        `}},e.Icon.styles=ji,t([xe({type:String})],e.Icon.prototype,"iconName",void 0),t([xe({type:String})],e.Icon.prototype,"iconColor",void 0),t([xe({type:String})],e.Icon.prototype,"iconSize",void 0),e.Icon=t([Be("bds-icon")],e.Icon);var Wi=v`
    :host {
        display: block;
        margin: 0;
    }

    .divider {
        border-bottom-style: solid;
        border-bottom-color: var(--bds-color-functional-neutral-outline-variant);
        box-sizing: border-box;
        margin: 0;
    }

    .divider.small {
        border-bottom-width: var(--bds-size-line-weight-small);
    }

    .divider.medium {
        border-bottom-width: var(--bds-size-line-weight-medium);
    }
`;e.Divider=class extends ue{constructor(){super(...arguments),this.size="small"}render(){return W`<div class="divider ${this.size}"></div>`}},e.Divider.styles=Wi,t([xe({type:String})],e.Divider.prototype,"size",void 0),e.Divider=t([Be("bds-divider")],e.Divider);var Gi=v`
    .savings-percentage-overlay {
        background-color: var(--bds-mosaic-faceout-color-deal-percent-background);
        border: 1px solid var(--bds-mosaic-faceout-color-deal-percent-border);
        border-radius: var(--bds-mosaic-faceout-size-deal-percent-border-radius);
        color: var(--bds-mosaic-faceout-color-deal-percent-text);
        font-family: var(--bds-mosaic-faceout-font-family-deal-percent-text);
        font-size: var(--bds-mosaic-faceout-size-deal-percent-text);
        font-weight: var(--bds-mosaic-faceout-font-weight-deal-percent-text);
        line-height: var(--bds-mosaic-faceout-size-deal-percent-line-height);
        padding: 1px 8px;
        text-decoration: var(--bds-mosaic-faceout-font-decoration-deal-percent-text);
    }
`;e.SavingsPercentageOverlay=class extends ue{render(){return W`<span class="savings-percentage-overlay">
            ${this.savingsPercentageDisplayString}
        </span>`}},e.SavingsPercentageOverlay.styles=Gi,t([xe({type:String})],e.SavingsPercentageOverlay.prototype,"savingsPercentageDisplayString",void 0),e.SavingsPercentageOverlay=t([Be("bds-savings-percentage-overlay"),pt],e.SavingsPercentageOverlay);var Qi=[v`
    .card-header {
        /* Allow natural word wrapping */
        overflow-wrap: break-word;
    }

    .standard .card-title {
        color: var(--bds-color-functional-neutral-on-surface);
        font-family: var(--bds-font-family-functional-title);
        font-size: var(--bds-size-font-functional-title-large);
        font-style: normal;
        font-weight: 600;
        line-height: var(--bds-size-line-height-functional-title-large);
    }

    .standard .card-why-line {
        color: var(--bds-color-functional-neutral-on-surface);
        font-family: var(--bds-font-family-functional-title);
        font-size: var(--bds-size-font-functional-title-small);
        font-style: normal;
        font-weight: var(--bds-card-font-weight-subheading);
        line-height: var(--bds-size-line-height-functional-title-small);
    }

    .headerWithCTA {
        display: flex;
        align-items: flex-end;
        justify-content: space-between;
        gap: var(--bds-size-spacing-small);
        align-self: stretch;
    }

    .headerWithCTA .card-title {
        flex: 1 0 0;
        color: var(--bds-color-functional-neutral-on-surface);
        font-family: var(--bds-font-family-functional-headline);
        font-size: var(--bds-size-font-functional-headline-small);
        font-style: normal;
        font-weight: var(--bds-font-weight-functional-headline);
        line-height: var(--bds-size-line-height-functional-headline-small);
    }

    .headerWithCTA .card-why-line {
        flex: 1 0 0;
        color: var(--bds-color-functional-neutral-on-surface-variant);
        font-family: var(--bds-font-family-functional-body);
        font-size: var(--bds-size-font-functional-body-small);
        font-style: normal;
        font-weight: var(--bds-card-font-weight-subheading);
        line-height: var(--bds-size-line-height-functional-body-small);
    }

    .card-header-cta {
        display: flex;
        align-items: center;
        gap: var(--bds-size-spacing-2x-small);
        text-decoration: none;
    }

    .card-header-cta-text {
        color: var(--bds-color-functional-core-primary-interactive);
        font-family: var(--bds-font-family-functional-body);
        font-size: var(--bds-size-font-functional-body-small);
        font-style: normal;
        font-weight: var(
            --bds-card-font-weight-footer
        ); /** cta in desktop shoveler is basically footer in mobile **/
        line-height: var(--bds-size-line-height-functional-body-small);
        vertical-align: bottom;
    }

    .card-header-cta-icon {
        display: flex;
        width: 12px;
        height: 12px;
        padding: 2px 3px 2px 4px;
        justify-content: center;
        align-items: center;
        color: var(--bds-color-functional-core-primary-interactive);
    }

    :is(h1, h2, h3, h4, h5, h6) {
        all: inherit;
    }
`,At()];e.CardHeader=class extends ue{constructor(){super(...arguments),this.titleTextHeadingLevel=2,this.layout="standard"}renderHeadingText(e,t,i){let a;switch(i){case 1:a=W`<h1 class=${rt(t)} role="heading">
                    ${e}
                </h1>`;break;case 2:a=W`<h2 class=${rt(t)} role="heading">
                    ${e}
                </h2>`;break;case 3:a=W`<h3 class=${rt(t)} role="heading">
                    ${e}
                </h3>`;break;case 4:a=W`<h4 class=${rt(t)} role="heading">
                    ${e}
                </h4>`;break;case 5:a=W`<h5 class=${rt(t)} role="heading">
                    ${e}
                </h5>`;break;case 6:a=W`<h6 class=${rt(t)} role="heading">
                    ${e}
                </h6>`;break;default:a=W`<span class=${rt(t)} role="text"
                    >${e}</span
                >`}return a}getCTAAriaLabel(){return`${this.ctaText} ${this.titleText}`}renderCardHeaderWithCTA(){return W`
            <div>${this.returnStandardHeader()}</div>
            ${nt(this.ctaText&&this.ctaUrl,(()=>W`
                        <a
                            href=${rt(this.ctaUrl)}
                            class="card-header-cta"
                            role="link"
                            aria-label=${this.getCTAAriaLabel()}>
                            <span class="card-header-cta-text">${this.ctaText}</span>
                            <bds-icon
                                class="card-header-cta-icon"
                                iconName="${Vt()?"chevron-left.svg":"chevron-right.svg"}"
                                iconSize="14px"
                                iconColor="var(--bds-color-functional-core-primary-interactive)">
                            </bds-icon>
                        </a>
                    `))}
        `}returnStandardHeader(){return W` ${nt(this.titleText,(()=>this.renderHeadingText(this.titleText,"card-title",this.titleTextHeadingLevel)))}
        ${nt(this.whyLineText,(()=>this.renderHeadingText(this.whyLineText,"card-why-line",this.whyLineTextHeadingLevel)))}`}render(){return this.titleText||this.whyLineText?W`
            <div class="card-header ${this.layout}">
                ${Ve(this.layout,[["standard",()=>this.returnStandardHeader()],["headerWithCTA",()=>this.renderCardHeaderWithCTA()]],(()=>this.returnStandardHeader()))}
            </div>
        `:Q}},e.CardHeader.styles=Qi,t([xe({type:String})],e.CardHeader.prototype,"titleText",void 0),t([xe({type:Number})],e.CardHeader.prototype,"titleTextHeadingLevel",void 0),t([xe({type:String})],e.CardHeader.prototype,"whyLineText",void 0),t([xe({type:Number})],e.CardHeader.prototype,"whyLineTextHeadingLevel",void 0),t([xe({type:String})],e.CardHeader.prototype,"ctaText",void 0),t([xe({type:String})],e.CardHeader.prototype,"ctaUrl",void 0),t([xe({type:String})],e.CardHeader.prototype,"layout",void 0),e.CardHeader=t([Be("bds-card-header"),pt],e.CardHeader);var qi=[v`
    .card-footer.standard {
        color: var(--bds-color-functional-neutral-on-surface);
        font-family: var(--bds-font-family-functional-body);
        font-size: var(--bds-size-font-functional-body-small);
        font-style: normal;
        font-weight: var(--bds-card-font-weight-footer);
        line-height: var(--bds-size-line-height-functional-body-small);
        text-decoration: none;

        ${mt(1)};
    }

    /** underline the anchor only when it is standard layout **/
    a.card-footer.standard {
        color: var(--bds-link-color-text-active);
        text-decoration: underline;
    }

    a.card-footer.standard:hover {
        color: var(--bds-link-color-text-hover);
    }

    .card-footer.fullWidth {
        display: flex;
        justify-content: space-between;
        align-items: center;
        align-self: stretch;
        color: var(--bds-link-color-text-active);
        font-family: var(--bds-font-family-functional-body);
        font-size: var(--bds-size-font-functional-body-medium);
        font-style: normal;
        font-weight: var(--bds-card-font-weight-footer);
        line-height: var(--bds-size-line-height-functional-body-medium);
        text-decoration: none;
    }

    .card-footer-icon {
        display: flex;
        height: 18px;
        padding: 9px 0;
        align-items: center;
        gap: 10px;
    }
`,At()];e.CardFooter=class extends ue{constructor(){super(...arguments),this.layout="standard"}render(){return this.label?this.linkUrl?W` <div>
                <a
                    href="${rt(this.linkUrl)}"
                    class="card-footer ${this.layout}"
                    role="link"
                    aria-label=${rt(this.label)}>
                    ${this.label}
                    ${nt("fullWidth"===this.layout,(()=>W`
                            <bds-icon
                                class="card-footer-icon"
                                iconName="${Vt()?"chevron-left.svg":"chevron-right.svg"}"
                                iconSize="14px"
                                iconColor="var(--bds-color-functional-core-primary-interactive)">
                            </bds-icon>
                        `))}
                </a>
            </div>`:W` <div
                class="card-footer ${this.layout}"
                role="text"
                aria-label="${this.label}">
                ${this.label}
            </div>`:Q}},e.CardFooter.styles=qi,t([xe({type:String})],e.CardFooter.prototype,"label",void 0),t([xe({type:String})],e.CardFooter.prototype,"linkUrl",void 0),t([xe({type:String})],e.CardFooter.prototype,"layout",void 0),e.CardFooter=t([Be("bds-card-footer"),pt],e.CardFooter);var Xi=[v`
    :host {
        font-family: var(--bds-font-family-functional-label);
    }

    :host > bds-rich-content {
        color: var(--bds-color-functional-neutral-on-surface);
    }

    .rich-content-link {
        display: inline-block; /* Setting display to inline-block to remove trailing underline that goes beyond link */
        color: #2162a1;
    }

    /* To-Do: Update hexcode to bds token: https://issues.amazon.com/issues/BDS-1026 */
    a {
        color: #2162a1; /* setting links to have color as that of aui link, bds-tokens are missing this color */
    }
`,At()];e.RichContent=class extends ue{constructor(){super(...arguments),this.richContentRole="contentinfo"}getTimerAriaLabel(e){if(!e)return"";const t=new Date(e).getTime()-Date.now();if(t<=0)return Bi;const i=Math.floor(t/1e3),a=Math.floor(i/3600),o=Math.floor(i%3600/60),r=i%60;let s="";return a>0&&(s+=`${a} hour${1!==a?"s":""} `),(o>0||a>0)&&(s+=`${o} minute${1!==o?"s":""} `),r>0&&0===a&&0===o&&(s+=`${r} second${1!==r?"s":""} `),`${s.trim()}`}getRichContentAriaLabel(){const e=this.content;if(!e)return"";const t=e=>e.replace(/<[^>]*>/g,""),i=e=>{var a;return"string"==typeof e?t(e):e.text?t(e.text):e.content?i(e.content):e.fragments?e.fragments.map(i).join(" "):e.link?i(e.link):e.headingContent?i(e.headingContent):e.paragraph?i(e.paragraph):e.semanticContent?i(e.semanticContent):e.countdownTimer?(this.richContentRole="timer",this.getTimerAriaLabel(null===(a=e.countdownTimer)||void 0===a?void 0:a.targetTime)):""};return i(e)}renderContent(e){var t;return e.text?W`${Mi(e.text)}`:e.fragments&&e.fragments.length>0?W`${e.fragments.map((e=>this.renderContent(e)))}`:(null===(t=e.semanticContent)||void 0===t?void 0:t.content)?((e,t)=>{const i=e.semanticContent;if(!i)return Q;const a=!!i.strong,o=!!i.emphasized,r=!!i.underlined,s=!!i.quoted,n=i.content.text;let l=n?W`${n}`:t(i.content);return a&&(l=W`<b>${l}</b>`),o&&(l=W`<i>${l}</i>`),r&&(l=W`<u>${l}</u>`),s&&(l=W`<q>${l}</q>`),l})(e,this.renderContent.bind(this)):e.headingContent?((e,t)=>{const i=e.headingContent;if(!i)return Q;const a=i.content.text;let o=i.level;o<1&&(o=1),o>6&&(o=6);const r=a?W`${i.content.text}`:t(i.content);switch(o){case 1:return W`<h1>${r}</h1>`;case 2:return W`<h2>${r}</h2>`;case 3:default:return W`<h3>${r}</h3>`;case 4:return W`<h4>${r}</h4>`;case 5:return W`<h5>${r}</h5>`;case 6:return W`<h6>${r}</h6>`}})(e,this.renderContent.bind(this)):e.paragraph?((e,t)=>{const i=e.paragraph;return i?W` <p>${t(i)}</p> `:Q})(e,this.renderContent.bind(this)):e.link?((e,t)=>{const i=e.link;return i&&i.url&&i.content?W`<a href=${i.url} class="rich-content-link">${t(i.content)}</a>`:Q})(e,this.renderContent.bind(this)):e.countdownTimer?(e=>{var t;const i=null===(t=e.countdownTimer)||void 0===t?void 0:t.targetTime;return i?W`<bds-countdown-timer targetTime=${i}></bds-countdown-timer>`:Q})(e):Q}render(){const{content:e}=this,t=this.getRichContentAriaLabel();return t?W`<div aria-label=${t} role=${this.richContentRole}>
            ${this.renderContent(e)}
        </div>`:Q}},e.RichContent.styles=Xi,t([xe({type:Object})],e.RichContent.prototype,"content",void 0),t([xe({type:String})],e.RichContent.prototype,"richContentRole",void 0),e.RichContent=t([Be("bds-rich-content"),pt],e.RichContent);const Ki=v`
    /** Carousel Container styles **/

    #carousel-container {
        position: relative;
    }

    .pagination-control-offset {
        padding: 0 var(--bds-size-spacing-small);
    }

    /* Carousel Scroller styles */

    #carousel-list {
        display: flex;
        flex-direction: row;
        margin: 0;
        padding: 0;
        overflow: scroll;
        scrollbar-width: none;
        list-style-type: none;
    }

    #carousel-list.fade-left-edge {
        mask-image: linear-gradient(to right, transparent, black 80px);
    }

    #carousel-list.fade-right-edge {
        mask-image: linear-gradient(to left, transparent, black 80px);
    }

    #carousel-list.fade-left-edge.fade-right-edge {
        mask-image: linear-gradient(to right, transparent, black 80px),
            linear-gradient(to left, transparent, black 80px);
        mask-composite: intersect; /* Ensures both gradients below work together */
    }

    @media (prefers-reduced-motion) {
        #carousel-list {
            scroll-behavior: auto;
        }
    }

    #carousel-list::-webkit-scrollbar {
        display: none;
    }

    .carousel-item {
        height: 100%;
    }
    
    /* Carousel Pagination Control Button styles */

    #pagination-button-left {
        left: 0;
    }

    #pagination-button-right {
        right: 0;
    }

    .pagination-button {
        background-color: var(--bds-color-functional-neutral-surface);
        border-color: var(--bds-color-functional-neutral-outline);
        border-width: var(--bds-size-line-weight-small);
        border-radius: var(--bds-size-radius-small);
        position: absolute;
        z-index: 2;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(15, 17, 17, 25%); /* TODO Create design token for elevation in BDS */
    }

    .pagination-button-icon {
        vertical-align: middle;
    }

    .hide-pagination-button {
        opacity: 0;
        pointer-events: none;
    }

    .pagination-button-animation {
        transition: opacity 400ms ease-in-out;
    }

    @media (prefers-reduced-motion) {
        .pagination-button-animation {
            transition: none;
        }
    }
`
/**
     * @license
     * Copyright 2020 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */;var Yi=Symbol.for(""),Ji=e=>{if((null==e?void 0:e.r)===Yi)return null==e?void 0:e._$litStatic$},Zi=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return{_$litStatic$:i.reduce(((t,i,a)=>t+(e=>{if(void 0!==e._$litStatic$)return e._$litStatic$;throw Error("Value passed to 'literal' function must be a 'literal' result: ".concat(e,". Use 'unsafeStatic' to pass non-literal values, but\n            take care to ensure page security."))})(i)+e[a+1]),e[0]),r:Yi}},ea=new Map,ta=(e=>function(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];for(var r,s,n,l=a.length,d=[],c=[],u=0,b=!1;u<l;){for(n=t[u];u<l&&void 0!==(s=a[u],r=Ji(s));)n+=r+t[++u],b=!0;u!==l&&c.push(s),d.push(n),u++}if(u===l&&d.push(t[l]),b){var g=d.join("$$lit$$");void 0===(t=ea.get(g))&&(d.raw=d,ea.set(g,t=d)),a=c}return e(t,...a)})(W);e.Carousel=class extends Ne{getDefaultConfiguration(){return{shouldShowPaginationButtons:!0,paginationButtonSize:44,shouldEdgesFade:!1,carouselItemsGap:"20px",enableFullBleedScrolling:!1}}getConfigurationOverrides(){return[{targeting:{layout:"standard-carousel"},overrides:{shouldShowPaginationButtons:!1,paginationButtonSize:44,shouldEdgesFade:!1,carouselItemsGap:"20px"}},{targeting:{layout:"standard-carousel",devicetype:"default"},overrides:{shouldShowPaginationButtons:!0}},{targeting:{layout:"standard-carousel",devicetype:"desktop"},overrides:{shouldShowPaginationButtons:!0}},{targeting:{layout:"standard-carousel",devicetype:"tablet",operatingsystem:"iOS",hostapplication:"default"},overrides:{shouldShowPaginationButtons:!0}},{targeting:{layout:"small-carousel"},overrides:{paginationButtonSize:30,shouldEdgesFade:!0,carouselItemsGap:"8px"}},{targeting:{layout:"small-carousel",devicetype:"mobile"},overrides:{shouldShowPaginationButtons:!1,shouldEdgesFade:!1}},{targeting:{devicetype:"mobile"},overrides:{enableFullBleedScrolling:!0}}]}constructor(){super(),this.listType="unordered",this.alwaysShowPaginationButtons=!1,this.alwaysFadeEdges=!1,this.hidePrevPageButton=!0,this.hideNextPageButton=!0,this.layout="standard-carousel",this.ancestorAppliedPadding=0,this.paginationControlAndItemGap=8,this.fadeEdgeWidth=80,this.enablePaginationAnimation=!1,this.leftIntersectItems=new Set,this.rightIntersectItems=new Set,this.carouselResizeObserver=new ResizeObserver((()=>{this.ancestorAppliedPadding=this.getBoundingClientRect().left})),this.carouselListResizeObserver=new ResizeObserver((()=>{this.layout=this.carouselList.clientHeight<=80?"small-carousel":"standard-carousel",this.attachIntersectionObserversToPaginationOverlapArea()}))}render(){const e=this.getRenderConfiguration(this.layout),t=this.alwaysShowPaginationButtons||e.shouldShowPaginationButtons,i=this.alwaysFadeEdges||e.shouldEdgesFade,a=nt(t,(()=>W`${this.buildPaginationButton("left",Vt()?"next":"previous")}`)),o=nt(t,(()=>W`${this.buildPaginationButton("right",Vt()?"previous":"next")}`)),r={"pagination-control-offset":e.shouldShowPaginationButtons},s=Object.assign({gap:this.itemsGap||e.carouselItemsGap},e.enableFullBleedScrolling&&{"padding-left":`${this.ancestorAppliedPadding}px`,"padding-right":`${this.ancestorAppliedPadding}px`,"margin-left":-this.ancestorAppliedPadding+"px","margin-right":-this.ancestorAppliedPadding+"px"}),n={"fade-left-edge":i&&(Vt()?!this.hideNextPageButton:!this.hidePrevPageButton),"fade-right-edge":i&&(Vt()?!this.hidePrevPageButton:!this.hideNextPageButton)},l="ordered"===this.listType?Zi`ol`:Zi`ul`;return ta`
            <div id="carousel-container" class="${Bt(r)}">
                ${a}
                <${l} id="carousel-list"
                    role="list"
                    style=${qt(s)}
                    class=${Bt(n)}
                    aria-label="${this.carouselAriaLabel}"
                    @scroll=${()=>this.enablePaginationAnimation=!0}
                    @keyboardfocus=${this.handleKeyboardFocus}>
                    <slot @slotchange=${this.initializeCarousel}></slot>
                </${l}>
                ${o}
            </div>`}handleKeyboardFocus(t){if(t.target instanceof e.CarouselItem){const e=t.target;this.leftIntersectItems.has(e)?this.handleLeftNav():this.rightIntersectItems.has(e)&&this.handleRightNav()}}firstUpdated(){this.initializeCarousel()}initializeCarousel(){var e;(null===(e=this.carouselItems)||void 0===e?void 0:e.length)&&(this.disconnectAllObservers(),(this.alwaysShowPaginationButtons||this.getRenderConfiguration(this.layout).shouldShowPaginationButtons)&&(this.attachIntersectionObserversToFirstAndLastItem(),this.attachIntersectionObserversToPaginationOverlapArea()),this.carouselResizeObserver.observe(this),this.carouselListResizeObserver.observe(this.carouselList))}buildPaginationButton(e,t){var i,a;const o="left"===e?"chevron-left.svg":"chevron-right.svg",r=this.getRenderConfiguration(this.layout).paginationButtonSize,s="previous"===t?Ht("bds_previous_set_of_slides",null===(i=this.renderContext)||void 0===i?void 0:i.locale):Ht("bds_next_set_of_slides",null===(a=this.renderContext)||void 0===a?void 0:a.locale),n="previous"===t?this.hidePrevPageButton:this.hideNextPageButton,l={"hide-pagination-button":n,"pagination-button-animation":this.enablePaginationAnimation};return W`
            <button
                id="pagination-button-${e}"
                style="${qt({width:`${r}px`,height:`${r}px`,top:`calc(50% - ${r/2}px)`})}"
                class="pagination-button ${Bt(l)}"
                aria-hidden="${n}"
                ?disabled="${n}"
                tabindex="-1"
                aria-label="${s}"
                @click=${"left"===e?this.handleLeftNav:this.handleRightNav}>
                <bds-icon
                    aria-hidden="true"
                    role="presentation"
                    class="pagination-button-icon"
                    iconName="${o}"
                    iconSize="15px"
                    iconColor="var(--bds-color-functional-neutral-on-surface-variant)">
                </bds-icon>
            </button>
        `}handleLeftNav(){var e;const t=this.getPrecedingOrFollowingElement(this.leftIntersectItems,Vt()?"preceding":"following");let i;i=this.getRenderConfiguration(this.layout).shouldEdgesFade?this.carouselList.getBoundingClientRect().right-this.fadeEdgeWidth:(null===(e=this.rightPaginationButton)||void 0===e?void 0:e.getBoundingClientRect().left)-this.paginationControlAndItemGap;const a=t.getBoundingClientRect().right-i;this.scrollCarousel(a)}handleRightNav(){var e;const t=this.getPrecedingOrFollowingElement(this.rightIntersectItems,Vt()?"following":"preceding");let i;i=this.getRenderConfiguration(this.layout).shouldEdgesFade?this.carouselList.getBoundingClientRect().left+this.fadeEdgeWidth:(null===(e=this.leftPaginationButton)||void 0===e?void 0:e.getBoundingClientRect().right)+this.paginationControlAndItemGap;const a=t.getBoundingClientRect().left-i;this.scrollCarousel(a)}scrollCarousel(e){window.matchMedia("(prefers-reduced-motion: reduce)").matches?this.carouselList.scrollBy(e,0):this.easeInOutScroll(e)}easeInOutScroll(e){const t=this.carouselList.scrollLeft,i=performance.now(),a=o=>{const r=o-i,s=Math.min(r/400,1),n=(e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1)(s);this.carouselList.scrollLeft=t+e*n,s<1&&requestAnimationFrame(a)};requestAnimationFrame(a)}getPrecedingOrFollowingElement(e,t){const i=[...e];return"preceding"===t?2===i.length&&i[0].compareDocumentPosition(i[1])===Node.DOCUMENT_POSITION_PRECEDING?i[1]:i[0]:2===i.length&&i[0].compareDocumentPosition(i[1])===Node.DOCUMENT_POSITION_FOLLOWING?i[1]:i[0]}attachIntersectionObserversToFirstAndLastItem(){const e={root:this.carouselList,threshold:1,rootMargin:"0px 1px 0px 1px"};this.firstCarouselItemIntersectionObserver=new IntersectionObserver((e=>{this.hidePrevPageButton=1===e[0].intersectionRatio}),e),this.firstCarouselItemIntersectionObserver.observe(this.carouselItems[0]),this.lastCarouselItemIntersectionObserver=new IntersectionObserver((e=>{this.hideNextPageButton=1===e[0].intersectionRatio}),e),this.lastCarouselItemIntersectionObserver.observe(this.carouselItems[this.carouselItems.length-1])}attachIntersectionObserversToPaginationOverlapArea(){var e,t;null===(e=this.leftOverlapIntersectionObserver)||void 0===e||e.disconnect(),null===(t=this.rightOverlapIntersectionObserver)||void 0===t||t.disconnect();const i=this.getRenderConfiguration(this.layout),a={root:this.carouselList,threshold:.001},o=parseInt(getComputedStyle(this).getPropertyValue("--bds-size-spacing-small")),r=i.shouldEdgesFade?this.fadeEdgeWidth:i.paginationButtonSize-o,s=-(this.carouselList.clientWidth-r),n=Object.assign(Object.assign({},a),{rootMargin:`0px ${s}px 0px 0px`}),l=Object.assign(Object.assign({},a),{rootMargin:`0px 0px 0px ${s}px`}),d=(e,t)=>{e.forEach((e=>{const i=e.target;t.delete(i),e.isIntersecting&&t.add(i)}))},c=new IntersectionObserver((e=>d(e,this.leftIntersectItems)),n);this.leftOverlapIntersectionObserver=c,this.carouselItems.forEach((e=>c.observe(e)));const u=new IntersectionObserver((e=>d(e,this.rightIntersectItems)),l);this.rightOverlapIntersectionObserver=u,this.carouselItems.forEach((e=>u.observe(e)))}disconnectAllObservers(){var e,t,i,a;this.carouselResizeObserver.disconnect(),this.carouselListResizeObserver.disconnect(),null===(e=this.firstCarouselItemIntersectionObserver)||void 0===e||e.disconnect(),null===(t=this.lastCarouselItemIntersectionObserver)||void 0===t||t.disconnect(),null===(i=this.leftOverlapIntersectionObserver)||void 0===i||i.disconnect(),null===(a=this.rightOverlapIntersectionObserver)||void 0===a||a.disconnect()}disconnectedCallback(){super.disconnectedCallback(),this.disconnectAllObservers()}},e.Carousel.styles=Ki,t([xe({type:String})],e.Carousel.prototype,"listType",void 0),t([xe({type:String})],e.Carousel.prototype,"itemsGap",void 0),t([xe({type:String})],e.Carousel.prototype,"carouselAriaLabel",void 0),t([xe({type:Boolean})],e.Carousel.prototype,"alwaysShowPaginationButtons",void 0),t([xe({type:Boolean})],e.Carousel.prototype,"alwaysFadeEdges",void 0),t([xe({type:Object})],e.Carousel.prototype,"csaAttributes",void 0),t([we()],e.Carousel.prototype,"hidePrevPageButton",void 0),t([we()],e.Carousel.prototype,"hideNextPageButton",void 0),t([we()],e.Carousel.prototype,"layout",void 0),t([we()],e.Carousel.prototype,"ancestorAppliedPadding",void 0),t([Ce("#carousel-list")],e.Carousel.prototype,"carouselList",void 0),t([Ce("#pagination-button-left")],e.Carousel.prototype,"leftPaginationButton",void 0),t([Ce("#pagination-button-right")],e.Carousel.prototype,"rightPaginationButton",void 0),t([function(e){var{slot:t,selector:i}=null!=e?e:{};return me({descriptor:a=>({get(){var a,o="slot"+(t?"[name=".concat(t,"]"):":not([name])"),r=null===(a=this.renderRoot)||void 0===a?void 0:a.querySelector(o),s=null!=r?$e(r,e):[];return i?s.filter((e=>e.matches(i))):s},enumerable:!0,configurable:!0})})}()],e.Carousel.prototype,"carouselItems",void 0),e.Carousel=t([Be("bds-carousel"),pt],e.Carousel),e.CarouselItem=class extends ue{constructor(){super(...arguments),this.isMouseDown=!1}handleMouseDown(){this.isMouseDown=!0}handleMouseUp(){this.isMouseDown=!1}handleFocusIn(){this.isMouseDown||this.dispatchEvent(new CustomEvent("keyboardfocus",{bubbles:!0,composed:!0}))}render(){return W`
            <li
                class="carousel-item"
                @mousedown=${this.handleMouseDown}
                @mouseup=${this.handleMouseUp}
                @focusin=${this.handleFocusIn}>
                <slot></slot>
            </li>
        `}},e.CarouselItem.styles=Ki,e.CarouselItem=t([Be("bds-carousel-item")],e.CarouselItem);var ia=v`
    @keyframes wave {
        0% {
            background-position: 150% 0;
        }
        80% {
            background-position: 0% 0;
        }
    }

    /* all following values are hard coded until new bds tokens are created to match the spec */

    .placeholder {
        background: linear-gradient(
            90deg,
            #f0f1f2 10%,
            #ffffff 50%,
            #f0f1f2 90%
        ); /* change to bds-token */
        display: flex;
        justify-content: center;
        align-items: center;
        background-size: 300% 100%;
        margin: 1.2px 0; /* change to bds-token */
        animation: wave 2500ms infinite 500ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    .text {
        height: 20px; /* change to bds-token */
        width: 50%;
    }

    .image {
        width: 178px; /* change to bds-token */
        height: 266px; /* change to bds-token */
    }

    .button {
        width: 115px; /* change to bds-token */
        height: 31px; /* change to bds-token */
        border-radius: 8px;
    }

    .button.small {
        width: 91px; /* change to bds-token */
        height: 22px; /* change to bds-token */
    }
`;e.SkeletonLoader=class extends ue{constructor(){super(...arguments),this.type="text",this.size="base"}render(){var e,t;return W`<div
            class="placeholder ${this.type} ${this.size} 
                                            ${null!==(t=null===(e=this.renderContext)||void 0===e?void 0:e.theme)&&void 0!==t?t:""}"></div>`}},e.SkeletonLoader.styles=ia,t([xe({type:String})],e.SkeletonLoader.prototype,"type",void 0),t([xe({type:String})],e.SkeletonLoader.prototype,"size",void 0),t([fe({context:Pe,subscribe:!0})],e.SkeletonLoader.prototype,"renderContext",void 0),e.SkeletonLoader=t([Be("bds-skeleton-loader"),pt],e.SkeletonLoader);var aa=v`
    .tag {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border: var(--bds-size-line-weight-small) solid;
        font-size: var(--bds-size-font-functional-body-small);
        font-family: var(--bds-font-family-functional-body);
        white-space: nowrap;
        height: 36px;
        border-radius: 36px;
        padding: var(--bds-size-utils-padding-6) var(--bds-size-spacing-medium);
        cursor: pointer;
        -webkit-tap-highlight-color: transparent;
        /* A quick fix for a strange display issue on iOS web browsers https://sim.amazon.com/issues/BSX-Storefront-611 */
        margin-bottom: 1px;
    }

    .tag.circular {
        width: 36px;
        border-radius: 50%;
    }

    .selectedIconContainer {
        max-width: 0;
        display: inline-flex;
        align-items: center;
    }

    .selectedIconContainer img {
        max-width: inherit;
        height: 14px;
    }

    .selectedIconContainer.visible {
        max-width: 16px;
        margin-right: var(--bds-size-spacing-x-small);
    }

    .selectedIconContainer,
    .selectedIconContainer.visible {
        transition: max-width, margin-right;
        transition-duration: 200ms;
    }

    @media screen and (prefers-reduced-motion) {
        .selectedIconContainer,
        .selectedIconContainer.visible {
            transition: max-width, margin-right;
            transition-duration: 0;
        }
    }

    .endIconContainer {
        margin-bottom: var(--bds-size-utils-padding-2);
        margin-left: var(--bds-size-utils-padding-10);
    }

    .endIconContainer.dropdown {
        margin-bottom: var(--bds-size-spacing-2x-small);
    }

    .tagContent {
        display: inline-flex;
        justify-content: center;
        align-items: center;
        gap: var(--bds-size-spacing-x-small);
    }

    /* Per UX team: offset the text by 1px to make it look more centered */
    .tagText {
        padding-bottom: var(--bds-size-utils-padding-1);
    }

    .programLogo {
        height: 14px;
    }

    .endIcon {
        width: 8px;
    }

    /* Light mode styling */
    .tag.light {
        border-color: #a2a6a6;
        background-color: #fff;
        color: #0f1111;
    }

    /* Prevent hover effects from showing up on touch devices after tag deselection */
    @media (hover: hover) {
        .tag.light:hover {
            border-color: #0f1111;
            box-shadow: var(--bds-size-line-weight-medium) var(--bds-size-line-weight-medium)
                var(--bds-size-line-weight-x-large) rgba(86, 86, 86, 0.2);
        }
    }

    .tag.light:focus-visible {
        outline: none;
        border: var(--bds-size-line-weight-large) solid #0f1111;
        box-shadow: var(--bds-size-line-weight-medium) var(--bds-size-line-weight-medium)
            var(--bds-size-line-weight-x-large) rgba(86, 86, 86, 0.2);
    }

    .tag.light.selected {
        border: var(--bds-size-line-weight-large) solid #007185;
        box-shadow: inset 0 var(--bds-size-line-weight-small) var(--bds-size-line-weight-medium)
            var(--bds-size-line-weight-small) rgba(1, 67, 79, 0.1);
        font-weight: var(--bds-font-weight-functional-display);
    }

    .tag.light.selected:focus-visible {
        border-color: #0f1111;
    }

    .tag.light.selected.textBased {
        background-color: #edfdff;
    }

    .tag.light.inactive,
    .tag.light.inactive.textBased {
        border: var(--bds-size-line-weight-small) solid #bbbfbf;
        background-color: #f0f2f2;
        box-shadow: none;
        color: #565959;
        font-weight: var(--bds-font-weight-functional-body);
    }

    /* Dark mode styling */
    .tag.dark {
        border-color: #d5d9d9;
        background-color: #0f1111;
        color: #fff;
    }

    /* Prevent hover effects from showing up on touch devices after tag deselection */
    @media (hover: hover) {
        .tag.dark:hover {
            border-color: #f7feff;
            box-shadow: var(--bds-size-line-weight-medium) var(--bds-size-line-weight-medium)
                var(--bds-size-line-weight-x-large) rgba(86, 86, 86, 0.2);
        }
    }

    .tag.dark:focus-visible {
        outline: none;
        border: var(--bds-size-line-weight-large) solid #f7feff;
        box-shadow: var(--bds-size-line-weight-medium) var(--bds-size-line-weight-medium)
            var(--bds-size-line-weight-x-large) rgba(86, 86, 86, 0.2);
    }

    .tag.dark.selected {
        border: var(--bds-size-line-weight-large) solid #c8f3fa;
        box-shadow: inset 0 var(--bds-size-line-weight-small) var(--bds-size-line-weight-medium)
            var(--bds-size-line-weight-small) rgba(1, 67, 79, 0.1);
        font-weight: var(--bds-font-weight-functional-display);
    }

    .tag.dark.selected:focus-visible {
        border-color: #f7feff;
    }

    .tag.dark.selected.textBased {
        background-color: #054b59;
    }

    .tag.dark.inactive,
    .tag.dark.inactive.textBased {
        border: var(--bds-size-line-weight-small) solid #888c8c;
        background-color: #303333;
        box-shadow: 0 0 var(--bds-size-line-weight-medium) var(--bds-size-line-weight-small)
            rgba(86, 86, 86, 0.1);
        color: #bbbfbf;
        font-weight: var(--bds-font-weight-functional-body);
    }

    /* Custom displays */
    .starRatingDisplay {
        display: flex;
        align-items: center;
        gap: var(--bds-size-spacing-x-small);
        line-height: 100%;
    }
`;e.TagPill=class extends ue{constructor(){super(...arguments),this.tagId="",this.tagName="",this.selectionMode="multi",this.ariaLabel="",this.darkMode=!1,this.selected=!1,this.inactive=!1,this.circular=!1,this.noSelectionChange=!1,this.visibilityThreshold=-1,this.prefixIcons=[],this.suffixIcons=[],this.renderByDisplayParams=(e,t)=>{if("star_rating"===e.displayId&&e.numberOfStars)return W`
                <span role="group" aria-label=${t} class="starRatingDisplay">
                    <span aria-hidden="true">
                        <bds-star-rating
                            numberOfStars=${e.numberOfStars}
                            ?hasHalfStar=${e.hasHalfStar}>
                        </bds-star-rating>
                    </span>
                    ${nt(e.additionalText,(()=>W` <span aria-hidden="true"> ${e.additionalText} </span> `))}
                </span>
            `}}get onVisibilityChange(){return this.handleVisibilityChange}set onVisibilityChange(e){this.handleVisibilityChange=e}get onClick(){return this.handleClick}set onClick(e){this.handleClick=e}updated(e){var t;if(e.has("visibilityThreshold")&&this.visibilityThreshold>=0){const e=this.renderRoot.querySelector("button");if(!e)return;null===(t=this.visibilityObserver)||void 0===t||t.unobserve(e),this.visibilityObserver=new IntersectionObserver((e=>{e.forEach((e=>{var t;null===(t=this.handleVisibilityChange)||void 0===t||t.call(this,e.target.id,e.isIntersecting&&"hidden"!==window.getComputedStyle(e.target).visibility)}))}),{threshold:this.visibilityThreshold}),this.visibilityObserver.observe(e)}}onClickHandler(){var e;this.noSelectionChange||(this.selected=!this.selected);const t={tagId:this.tagId,selected:this.selected};null===(e=this.handleClick)||void 0===e||e.call(this,t)}renderIcons(e){return null==e?void 0:e.map((e=>W`<img
                src=${e.src}
                alt=${rt(e.altText)}
                aria-hidden=${!e.altText}
                class=${rt(e.class)}
                draggable="false" />`))}render(){const e="multi"===this.selectionMode&&this.selected&&!this.inactive,t={src:this.darkMode?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/selected-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/selected-light.svg"},i=((e,t,i)=>{switch(e){case"Kindle Unlimited":case"Kindle Unlimited Eligible":return i?t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-dark-inactive.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-light-inactive.svg":t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-light.svg";case"Kindle Unlimited Audio":return i?t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-audio-dark-inactive.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-audio-light-inactive.svg":t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-audio-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-audio-light.svg";case"Prime Reading":return t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/PRR_Dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/PRR_Light.svg";case"Prime Eligible":return i?t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/prime-dark-inactive.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/prime-light-inactive.svg":t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/prime-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/prime-light.svg";case"Comixology":return i?t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/comixology-dark-inactive.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/comixology-light-inactive.svg":t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/comixology-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/comixology-light.svg";case"Kids+":return t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/amazonkidsplusdark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/amazonkidsplus.svg";case"Audible Plus":return"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/audible-plus-light.png"}return""})(this.programType,this.darkMode,this.inactive),a=((e,t)=>{switch(e){case"deselect":return t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/deselect-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/deselect-light.svg";case"dropdown":return t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/dropdown-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/dropdown-light.svg"}return""})(this.endIconType,this.darkMode),o=this.ariaRole||("multi"===this.selectionMode?"checkbox":"radio"),r="checkbox"===o||"radio"===o?this.selected:void 0;let s;return i?s=this.renderIcons([{src:i,altText:this.tagName,class:"programLogo"}]):this.displayParameters?s=this.renderByDisplayParams(this.displayParameters,this.tagName):this.tagName&&(s=W`<span class="tagText">${this.tagName}</span>`),W`
            <button
                id=${this.tagId}
                name=${this.tagName}
                aria-label=${this.ariaLabel||this.tagName}
                ?disabled=${this.inactive}
                role=${o}
                aria-checked=${rt(r)}
                class=${Bt({tag:!0,light:!this.darkMode,dark:this.darkMode,textBased:!this.programType,selected:this.selected,inactive:this.inactive,circular:this.circular})}
                @click=${this.onClickHandler}>
                <div
                    class=${Bt({selectedIconContainer:!0,visible:e})}>
                    ${this.renderIcons([t])}
                </div>
                <div class="tagContent">
                    ${this.renderIcons(this.prefixIcons)} ${s}
                    ${this.renderIcons(this.suffixIcons)}
                </div>
                ${nt(this.endIconType,(()=>W`
                            <div
                                class=${Bt({endIconContainer:!0,dropdown:"dropdown"===this.endIconType})}>
                                ${this.renderIcons([{src:a,class:"endIcon"}])}
                            </div>
                        `))}
            </button>
        `}},e.TagPill.styles=aa,t([xe()],e.TagPill.prototype,"tagId",void 0),t([xe()],e.TagPill.prototype,"tagName",void 0),t([xe()],e.TagPill.prototype,"programType",void 0),t([xe()],e.TagPill.prototype,"selectionMode",void 0),t([xe()],e.TagPill.prototype,"ariaRole",void 0),t([xe()],e.TagPill.prototype,"ariaLabel",void 0),t([xe({type:Boolean})],e.TagPill.prototype,"darkMode",void 0),t([xe({type:Boolean})],e.TagPill.prototype,"selected",void 0),t([xe({type:Boolean})],e.TagPill.prototype,"inactive",void 0),t([xe({type:Boolean})],e.TagPill.prototype,"circular",void 0),t([xe()],e.TagPill.prototype,"handleClick",void 0),t([xe({type:Boolean})],e.TagPill.prototype,"noSelectionChange",void 0),t([xe({type:Number})],e.TagPill.prototype,"visibilityThreshold",void 0),t([xe()],e.TagPill.prototype,"handleVisibilityChange",void 0),t([xe({type:Array})],e.TagPill.prototype,"prefixIcons",void 0),t([xe({type:Array})],e.TagPill.prototype,"suffixIcons",void 0),t([xe()],e.TagPill.prototype,"endIconType",void 0),t([xe({type:Object})],e.TagPill.prototype,"displayParameters",void 0),t([xe()],e.TagPill.prototype,"onVisibilityChange",null),t([xe()],e.TagPill.prototype,"onClick",null),e.TagPill=t([Be("tag-pill")],e.TagPill);var oa=v`
    .tagsRows {
        display: grid;
        flex-direction: column;
        padding: 0;
        row-gap: var(--bds-size-spacing-small);
        overflow-x: scroll;

        /* Hide scroll bar */
        -ms-overflow-style: none; /* Edge */
        scrollbar-width: none; /* Firefox */
    }

    /* Chrome & Safari */
    .tagsRows::-webkit-scrollbar {
        display: none;
    }

    .tagsRow {
        all: unset;
        display: flex;
        align-items: center;
        gap: var(--bds-size-spacing-x-small);
    }

    /* Used to add a fake padding that will disappear on scroll at the beginning of the tag rows */
    .tagsRow.addPseudoPadding::before,
    .tagsRow.addPseudoPadding::after {
        content: '';
        display: inline-block;
        min-width: var(--bds-size-spacing-medium);
    }

    .tagsRow.addPseudoPaddingRight::after {
        content: '';
        display: inline-block;
        min-width: var(--bds-size-spacing-medium);
    }
`;class ra extends ue{constructor(){super(...arguments),this.tags=[],this.selectionMode="multi",this.noSelectionChange=!1,this.darkMode=!1,this.ariaLabel=""}renderTag(e){return W`
            <li style="all: unset" role="listitem">
                <tag-pill
                    tagId=${e.id}
                    tagName=${e.name}
                    programType=${rt(e.programType)}
                    selectionMode=${this.selectionMode}
                    ariaLabel=${rt(e.ariaLabel)}
                    ?darkMode=${this.darkMode}
                    ?noSelectionChange=${e.noSelectionChange||this.noSelectionChange}
                    ?selected=${e.selected}
                    ?inactive=${e.inactive}
                    visibilityThreshold=${rt(this.tagVisibilityThreshold)}
                    .handleClick=${e=>this.onTagClickCallback(e)}
                    .handleVisibilityChange=${this.handleTagVisibilityChange}
                    .prefixIcons=${e.prefixIcons}
                    .suffixIcons=${e.suffixIcons}
                    .endIconType=${e.endIconType}
                    .displayParameters=${e.displayParameters}>
                </tag-pill>
            </li>
        `}renderTags(){var e,t;return null!==(t=null===(e=this.tags)||void 0===e?void 0:e.map((e=>this.renderTag(e))))&&void 0!==t?t:Q}onTagClickCallback(e){var t;"single"===this.selectionMode&&(this.tags=this.tags.map((t=>Object.assign(Object.assign({},t),{selected:t.id===e.tagId&&e.selected})))),null===(t=this.handleTagClick)||void 0===t||t.call(this,e)}get onTagClick(){return this.handleTagClick}set onTagClick(e){this.handleTagClick=e}get onTagVisibilityChange(){return this.handleTagVisibilityChange}set onTagVisibilityChange(e){this.handleTagVisibilityChange=e}}t([xe({type:Array})],ra.prototype,"tags",void 0),t([xe()],ra.prototype,"selectionMode",void 0),t([xe({type:Boolean})],ra.prototype,"noSelectionChange",void 0),t([xe({type:Boolean})],ra.prototype,"darkMode",void 0),t([xe()],ra.prototype,"ariaLabel",void 0),t([xe()],ra.prototype,"handleTagClick",void 0),t([xe({type:Number})],ra.prototype,"tagVisibilityThreshold",void 0),t([xe()],ra.prototype,"handleTagVisibilityChange",void 0),t([xe()],ra.prototype,"onTagClick",null),t([xe()],ra.prototype,"onTagVisibilityChange",null),e.TagsRows=class extends ra{constructor(){super(...arguments),this.scrollingContentRef=tt(),this.numRows=1,this.addPseudoPadding=!1,this.addPseudoPaddingRight=!1,this.renderTagsRows=e=>{const t=[];for(let i=0;i<this.numRows;i+=1){const a=e.filter(((e,t)=>t%this.numRows===i)).map((e=>this.renderTag(e)));t.push(W`
                <ul
                    aria-label=${this.ariaLabel}
                    tabindex="0"
                    role="list"
                    class=${Bt({tagsRow:!0,addPseudoPadding:this.addPseudoPadding,addPseudoPaddingRight:this.addPseudoPaddingRight})}>
                    ${a}
                </ul>
            `)}return t}}scrollContentTo(e){var t;null===(t=this.scrollingContentRef.value)||void 0===t||t.scrollTo({left:e,behavior:"smooth"})}render(){return W`
            <div class="tagsRows" ${ot(this.scrollingContentRef)}>
                ${this.renderTagsRows(this.tags)}
            </div>
        `}},e.TagsRows.styles=oa,t([xe({type:Number})],e.TagsRows.prototype,"numRows",void 0),t([xe({type:Boolean})],e.TagsRows.prototype,"addPseudoPadding",void 0),t([xe({type:Boolean})],e.TagsRows.prototype,"addPseudoPaddingRight",void 0),e.TagsRows=t([Be("tags-rows")],e.TagsRows);var sa=v`
    .tagsScroller {
        display: flex;
        align-items: center;
        position: relative;
    }

    .tagsContainer {
        all: unset;
        display: inline-flex;
        align-items: center;
        gap: var(--bds-size-spacing-x-small);
        padding: 0 44px;
    }

    .scrollingContent {
        width: 100%;
        border-radius: var(--bds-size-radius-small);
        overflow: scroll;

        /* Hide scroll bar */
        -ms-overflow-style: none; /* Edge */
        scrollbar-width: none; /* Firefox */
    }

    /* Chrome & Safari */
    .scrollingContent::-webkit-scrollbar {
        display: none;
    }

    .navArrowContainer {
        height: 36px;
        width: 36px;
        border-radius: var(--bds-size-radius-small);
        position: absolute;
        display: inline-flex;
        flex-shrink: 0;
        align-items: center;
        justify-content: center;
        box-sizing: border-box;
        border: var(--bds-size-line-weight-small) solid #d5d9d9;
        background-color: #fff;
        box-shadow: 0 var(--bds-size-line-weight-medium) 6px rgba(0, 0, 0, 15%);
        cursor: pointer;
        user-select: none;
    }

    .navArrowContainer.left {
        left: 0;
    }

    .navArrowContainer.right {
        right: 0;
    }

    .navArrowContainer.dark {
        border-color: #d5d9d9;
        background-color: #0f1111;
    }

    .navArrowContainer.inactive {
        box-shadow: none;
        cursor: default;
    }

    .navArrowContainer:not(.inactive):hover {
        background-color: #f8f8f8;
    }

    .navArrowContainer.dark:not(.inactive):hover {
        background-color: #262828;
    }
`;e.TagsScroller=class extends ra{constructor(){super(...arguments),this.scrollingContentRef=tt(),this.BUFFER_WIDTH=1,this.DURATION_FOR_TAG_UPDATE_MS=360,this.scrollPercentage=.75,this.showLeftArrow=!1,this.showRightArrow=!1}updateNavArrows(){const e=this.scrollingContentRef.value;e&&(this.showLeftArrow=e.scrollLeft>0,this.showRightArrow=Math.abs(e.scrollWidth-e.clientWidth-e.scrollLeft)>=this.BUFFER_WIDTH)}firstUpdated(){if(this.updateNavArrows(),this.scrollingContentRef.value){new ResizeObserver((()=>this.updateNavArrows())).observe(this.scrollingContentRef.value)}}scrollContent(e){const t=this.scrollingContentRef.value;if(!t)return;const i=Math.round(t.clientWidth*this.scrollPercentage);if("left"===e){const e=Vt()?t.scrollLeft-i:Math.max(0,t.scrollLeft-i);t.scrollTo({left:e,behavior:"smooth"})}"right"===e&&t.scrollTo({left:Math.min(t.scrollLeft+i,t.scrollWidth-t.clientWidth+this.BUFFER_WIDTH),behavior:"smooth"})}scrollContentTo(e){var t;null===(t=this.scrollingContentRef.value)||void 0===t||t.scrollTo({left:e,behavior:"smooth"})}onTagClickCallback(e){super.onTagClickCallback(e),setTimeout((()=>{this.updateNavArrows()}),this.DURATION_FOR_TAG_UPDATE_MS)}render(){return W`
            <div class="tagsScroller">
                <div
                    class=${Bt({navArrowContainer:!0,left:!0,inactive:!this.showLeftArrow,dark:this.darkMode})}
                    @click=${()=>this.scrollContent("left")}
                    aria-hidden="true">
                    <img
                        src=${this.darkMode?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/left-arrow-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/left-arrow-light.svg"}
                        role="presentation" />
                </div>
                <div
                    class="scrollingContent"
                    @scroll=${this.updateNavArrows}
                    ${ot(this.scrollingContentRef)}>
                    <ul class="tagsContainer" tabindex="0" aria-label=${this.ariaLabel} role="list">
                        ${this.renderTags()}
                    </ul>
                </div>
                <div
                    class=${Bt({navArrowContainer:!0,right:!0,inactive:!this.showRightArrow,dark:this.darkMode})}
                    @click=${()=>this.scrollContent("right")}
                    aria-hidden="true">
                    <img
                        src=${this.darkMode?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/right-arrow-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/right-arrow-light.svg"}
                        role="presentation" />
                </div>
            </div>
        `}},e.TagsScroller.styles=sa,t([xe({type:Number})],e.TagsScroller.prototype,"scrollPercentage",void 0),t([we()],e.TagsScroller.prototype,"showLeftArrow",void 0),t([we()],e.TagsScroller.prototype,"showRightArrow",void 0),e.TagsScroller=t([Be("tags-scroller")],e.TagsScroller);var na=v`
    :host {
        box-sizing: border-box;
    }

    .tagFiltersSection {
        display: flex;
        flex-direction: column;
        gap: var(--bds-size-spacing-small);
        font-family: var(--bds-font-family-functional-body);
        color: #0f1111;
    }

    .header {
        all: unset;
        position: relative;
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        margin-left: var(--bds-size-spacing-2x-small);
        font-weight: var(--bds-font-weight-functional-display);
        color: var(--bds-color-functional-neutral-on-surface);
    }

    .header.main {
        font-size: var(--bds-size-font-functional-display-small);
        line-height: var(--bds-size-line-height-functional-body-large);
    }

    .header.secondary {
        font-size: var(--bds-size-font-functional-body-x-large);
        line-height: var(--bds-size-line-height-functional-title-small);
    }

    .header.expandable {
        cursor: pointer;
    }

    .header.expandable:focus {
        outline: revert;
    }

    .tagsContainer {
        all: unset;
        display: inline-flex;
        flex-wrap: wrap;
        gap: var(--bds-size-spacing-small) var(--bds-size-spacing-x-small);
    }
`;e.TagFiltersSection=class extends ra{constructor(){super(...arguments),this.header="",this.headerSize="main",this.expandable=!1,this.expanded=!1}renderExpanderIcon(e){const t=this.darkMode?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/chevron-down-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/chevron-down-light.svg",i=this.darkMode?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/chevron-up-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/chevron-up-light.svg";return W`<img src=${e?i:t} aria-hidden="true" />`}renderHeader(){return this.expandable?W`
                <button
                    class=${Bt({header:!0,main:"main"===this.headerSize,secondary:"secondary"===this.headerSize,expandable:!0})}
                    aria-expanded=${this.expanded}
                    @click=${this.onHeaderClick}>
                    <span>${this.header}</span>
                    ${this.renderExpanderIcon(this.expanded)}
                </button>
            `:W`
            <div
                class=${Bt({header:!0,main:"main"===this.headerSize,secondary:"secondary"===this.headerSize,expandable:!1})}
                role="heading"
                aria-level="3">
                ${this.header}
            </div>
        `}onHeaderClick(){this.expanded=!this.expanded}render(){if(this.tags.length)return W`
            <div class="tagFiltersSection">
                ${nt(this.header&&this.headerSize,(()=>this.renderHeader()))}
                ${nt(!this.expandable||this.expanded,(()=>W`
                        <ul
                            class="tagsContainer"
                            aria-label=${this.ariaLabel}
                            tabindex="0"
                            role="list">
                            ${this.renderTags()}
                        </ul>
                    `))}
            </div>
        `}},e.TagFiltersSection.styles=na,t([xe()],e.TagFiltersSection.prototype,"header",void 0),t([xe()],e.TagFiltersSection.prototype,"headerSize",void 0),t([xe({type:Boolean})],e.TagFiltersSection.prototype,"expandable",void 0),t([xe({type:Boolean})],e.TagFiltersSection.prototype,"expanded",void 0),e.TagFiltersSection=t([Be("tag-filters-section")],e.TagFiltersSection);var la=v`
    .tagLabels,
    .tagLabelContainer {
        all: unset;
        display: inline-flex;
        align-items: center;
        font-family: var(--bds-font-family-functional-body);
        line-height: var(--bds-size-line-height-functional-body-small);
    }

    .tagLabels {
        flex-wrap: wrap;
    }

    .tagLabels.navigational {
        row-gap: var(--bds-size-spacing-2x-small);
    }

    .tagLabel {
        font-size: var(--bds-size-font-functional-body-small);
        color: var(--bds-color-functional-neutral-on-surface);
        white-space: nowrap;
    }

    .tagLabel.navigational {
        color: var(--bds-link-color-text-active);
        font-weight: bold;
        text-decoration: underline;
    }

    .tagLabel.navigational:hover {
        color: var(--bds-link-color-text-hover);
    }

    .tagLabelIcon {
        margin-right: var(--bds-size-utils-padding-6);
    }

    .dividerDot {
        font-size: var(--bds-size-font-functional-body-small);
        margin: 0 var(--bds-size-spacing-x-small);
    }

    .dividerDot.light {
        color: #1196ab;
    }

    .dividerDot.dark {
        color: #c8f3fa;
    }

    .dividerDot.navigational.light {
        color: #888c8c;
    }

    .dividerDot.navigational.dark {
        color: #d5d9d9;
    }
`;e.TagLabels=class extends ue{constructor(){super(...arguments),this.tags=[],this.darkMode=!1,this.ariaLabel=""}renderTagLabel(e,t){const i=!!e.link,a=i?W`
                <a
                    href=${rt(e.link)}
                    target="_blank"
                    aria-label=${rt(e.ariaLabel)}
                    class=${Bt({tagLabel:!0,navigational:!0,light:!this.darkMode,dark:this.darkMode})}>
                    ${e.displayText}
                </a>
            `:W`
                <span
                    aria-label=${rt(e.ariaLabel)}
                    class=${Bt({tagLabel:!0,navigational:!1,light:!this.darkMode,dark:this.darkMode})}>
                    ${e.displayText}
                </span>
            `;return W`
            <li class="tagLabelContainer" role="listitem">
                ${this.renderIcons(e.prefixIcons)}
                ${a}
                ${nt(t,(()=>W`
                            <span
                                aria-hidden="true"
                                class=${Bt({dividerDot:!0,navigational:i,light:!this.darkMode,dark:this.darkMode})}>
                                
                            </span>
                        `))}
            </li>
        `}renderIcons(e){return null==e?void 0:e.map((e=>W`
                <span class="tagLabelIcon">
                    <img
                        src=${e.src}
                        alt=${rt(e.altText)}
                        aria-hidden=${!e.altText}
                        class=${rt(e.class)}
                        draggable="false" />
                </span>
            `))}render(){var e,t;return W`
            <ul
                class=${Bt({tagLabels:!0,navigational:this.tags.some((e=>e.link))})}
                aria-label=${rt(this.ariaLabel)}
            >
                ${null!==(t=null===(e=this.tags)||void 0===e?void 0:e.map(((e,t)=>this.renderTagLabel(e,t!==this.tags.length-1))))&&void 0!==t?t:Q}
            </ul>
        `}},e.TagLabels.styles=la,t([xe({type:Array})],e.TagLabels.prototype,"tags",void 0),t([xe({type:Boolean})],e.TagLabels.prototype,"darkMode",void 0),t([xe()],e.TagLabels.prototype,"ariaLabel",void 0),e.TagLabels=t([Be("tag-labels")],e.TagLabels);var da=v`
    :host {
        display: inline;
    }

    .bds-link {
        display: inline-flex;
        align-items: center;
        gap: var(--bds-size-spacing-2x-small);
        text-decoration: underline;
        cursor: pointer;
        border: none;
        background: none;
        margin: 0;
        font-family: var(--bds-font-family-functional-label);
        font-weight: var(--bds-font-weight-functional-label);
        color: var(--bds-link-color-text-active);
    }

    .bds-link.base {
        font-size: var(--bds-size-font-functional-label-medium);
        line-height: var(--bds-size-line-height-functional-label-medium);
    }

    .bds-link.small {
        font-size: var(--bds-size-font-functional-label-small);
        line-height: var(--bds-size-line-height-functional-label-small);
    }

    .bds-link:hover {
        color: var(--bds-link-color-text-hover);
    }

    .bds-link__icon {
        width: 16px;
        height: 16px;
        background-color: var(--bds-link-color-icon-active);
    }

    .bds-link__icon:dir(rtl) {
        transform: scaleX(-1);
    }
`;e.Link=class extends ue{constructor(){super(...arguments),this.layout="base"}renderIcon(){return this.iconName?W`
            <div
                class="bds-link__icon"
                style="
                    mask: url(${Fe(this.iconName)}) no-repeat center;
                    mask-size: 100%;
                "></div>
        `:Q}render(){return W`
            <a
                href=${rt(this.href)}
                class="bds-link ${this.layout}"
                aria-label=${rt(this.accessibilityLabel)}>
                ${this.label} ${nt(this.iconName,(()=>this.renderIcon()))}
            </a>
        `}},e.Link.styles=da,t([xe({type:String})],e.Link.prototype,"href",void 0),t([xe({type:String})],e.Link.prototype,"label",void 0),t([xe({type:String})],e.Link.prototype,"layout",void 0),t([xe({type:String})],e.Link.prototype,"iconName",void 0),t([xe({type:String})],e.Link.prototype,"accessibilityLabel",void 0),e.Link=t([Be("bds-link")],e.Link),e.defaultTimerEndedText=Bi,Object.defineProperty(e,"__esModule",{value:!0})}({});
/////////////////////////
// END FILE bds-base-assets.js
/////////////////////////
/////////////////////////
// BEGIN FILE bds-global-config.js
/////////////////////////
/*


Full source (including license, if applicable) included below.
*/
// Custom event to signal when BDS Global Config is available
window.dispatchEvent(new Event('BooksDesignSystemGlobalsUpdated'));
/////////////////////////
// END FILE bds-global-config.js
/////////////////////////

// END ASSET BooksDesignSystemWebBuzzAssets@BaseAssets-1.0.4045.0
////////////////////////////////////////////