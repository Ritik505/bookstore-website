'use strict';(function(f){var k=window.AmazonUIPageJS||window.P,l=k._namespace||k.attributeErrors,b=l?l("MorpheusPopularityRankSidesheetAssets",""):k;b.guardFatal?b.guardFatal(f)(b,window):b.execute(function(){f(b,window)})})(function(f,k,l){f.when("A","jQuery","ready").register("monarch-sidesheet",function(b){function e(a){a&&c("#"+m).is(":hidden")?c("#"+m).show():!a&&c("#"+m).is(":visible")&&c("#"+m).hide()}function f(){var a=c("#"+g).width()+50;y({right:"-"+a+"px"},function(){c("#"+g).hide()})}
function n(a){if(g&&p&&h){f();c("#"+p).hide();c("#"+h).hide();document.body.style.overflow=w?w:"";var d=k.ue;d&&d.count&&d.count("morpheusSidesheetDismissed",1);r=a?a:l;document.activeElement.blur();(a=c("#morpheus-ingress-link"))&&0<a.length&&a[0].focus()}}function x(a){c("#"+g).show(function(){y({right:"0px"},function(){c("#"+h).show();c("#"+q).is(":empty")&&e(!0);document.activeElement.blur();a&&r&&c("#"+r)?c("#"+r).focus():t().focus();r=l})})}function z(a){"Escape"===a.key||"Esc"===a.key?(a.preventDefault(),
a.stopPropagation(),n()):"Tab"===a.key&&(a.shiftKey&&a.target===document.getElementById(g)?t().focus():A(a.target),a.shiftKey||a.target!==u()||(a.preventDefault(),a.stopPropagation(),a.target.blur(),t().focus()))}function v(a){if("Enter"===a.key)a.preventDefault(),a.stopPropagation(),n();else if("Tab"===a.key&&a.shiftKey){a.preventDefault();a.stopPropagation();var d=u();d&&(a.target.blur(),"TAG-PILL"===d.nodeName&&(d=d.shadowRoot.querySelector("button")),d.focus())}else"Tab"!==a.key||a.shiftKey||
a.target!==u()||(a.preventDefault(),a.stopPropagation())}function y(a,d){b.animate(c("#"+g),a,300,"ease-out",d)}function B(){var a=document.querySelector('.sidesheetAsinListContainer:not(.aok-hidden) [name\x3d"pagination-current-page-number"]');return a&&2<a.value}function u(){var a=document.getElementById(g);a=Array.from(a.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex\x3d"-1"])')).filter(function(a){return!!a.offsetParent});if(!a.length)return t();var d=a[a.length-
1];d&&d.classList.contains("pagination-see-more-link")&&!B()&&(d=a[a.length-2]);return d}function t(){var a=document.getElementById(h+"-announce");return a?a:h}function A(a){if(document.querySelector(C).contains(a)){a=a.getBoundingClientRect();var d=k.innerHeight||document.documentElement.clientHeight,b=~~(d/2),c=0;a.bottom>d-b?c=a.bottom-d+b:a.top<b&&(c=a.top-b);0!==c&&document.getElementById(q).scrollBy({top:c})}}var c=b.$,g,q,p,h,m,w,r,C;return{initialize:function(a,b,c,x,e){g=a;q=b;p=c;m=x;h=
e;C="#"+q+" #morpheus-asin-list:not(.aok-hidden)";w=document.body.style.overflow;g&&q&&p&&m&&h&&(document.getElementById(p).addEventListener("click",n),document.getElementById(h).addEventListener("click",n),document.getElementById(h).addEventListener("keydown",v),document.getElementById(p).addEventListener("keydown",z),document.getElementById(g).addEventListener("keydown",z))},show:function(a){g&&q&&p&&m&&h&&(c("#"+p).show(),x(a),document.body.style.overflow="hidden")},setContent:function(a){q&&m&&
(e(!1),c("#"+q).html(a))},setLoadingSpinnerVisible:e,closeSidesheet:n,paginationSeeMoreLinkIsFocusable:B,getLastFocusableElement:u,getFocusableCloseElement:t,ensureElementInView:A}});f.when("A","ready").execute(function(b){function e(){b.$("#morpheus-ingress-link").bind("click",function(){b.trigger("akira:morpheusIngress:clicked")})}e();b.on("PageRefresh:ATF",function(){e()})});"use strict";f.when("A","jQuery","ready").register("mobile-bottomsheet",function(b){function e(){if(0===document.getElementsByClassName("morpheus-lightbox").length){var b=
document.getElementsByClassName("a-sheet-lightbox");if(0<b.length)b[0].classList.add("morpheus-lightbox");else return!0}return!1}function f(){e()&&b.delay(f,10)}function n(){var e=document.getElementsByClassName("a-popover a-popover-secondary")[0],k=document.getElementsByClassName("a-sheet-web")[0],v=document.getElementsByClassName("a-sheet-content-container")[0];e!==l&&k!==l&&v!==l?(e.style.zIndex="498",k.style.borderRadius="16px 16px 0 0",v.style.borderRadius="16px 16px 0 0",f()):b.delay(n,10)}
b.on("a:popover:beforeHide:secondary_view_morpheus",function(){var b=document.getElementsByClassName("morpheus-lightbox");0<b.length&&b[0].classList.remove("morpheus-lightbox")});b.on("a:popover:afterShow:secondary_view_morpheus",e);return{styleElements:n}})});